"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[831],{8700:(e,t,n)=>{n.d(t,{A:()=>m});var i=n(9379),o=n(4034),l=n(9942),s=n(2554),r=n(9488),a=n(3516),d=n(5043),c=n(6305),u=n(2030),x=n(8908),p=n(899),h=n(579);const m=e=>{var t,n;const[m,v]=(0,d.useState)(!1),j=Object.fromEntries(((null===e||void 0===e||null===(t=e.propertyData)||void 0===t?void 0:t.fields)||[]).map((e=>[null===e||void 0===e?void 0:e.name,""]))),f=(0,i.A)((0,i.A)({},j),{},{createBy:JSON.parse(localStorage.getItem("user"))._id}),g=(0,a.Wx)({initialValues:f,enableReinitialize:!0,validationSchema:p.Ik().shape((0,u.g)(null===e||void 0===e||null===(n=e.propertyData)||void 0===n?void 0:n.fields)),onSubmit:(e,t)=>{let{resetForm:n}=t;A()}}),{errors:b,touched:y,values:S,handleBlur:C,handleChange:I,handleSubmit:w,setFieldValue:z}=g,A=async()=>{try{var t;v(!0),200===(await(0,c.d_)("api/form/add",(0,i.A)((0,i.A)({},S),{},{moduleId:null===e||void 0===e||null===(t=e.propertyData)||void 0===t?void 0:t._id}))).status&&(e.onClose(),g.resetForm(),e.setAction((e=>!e)))}catch(n){console.log(n)}finally{v(!1)}};return(0,h.jsx)("div",{children:(0,h.jsxs)(l._s,{isOpen:e.isOpen,size:e.size,children:[(0,h.jsx)(l.QP,{}),(0,h.jsxs)(l.zj,{children:[(0,h.jsxs)(l.BE,{alignItems:"center",justifyContent:"space-between",display:"flex",children:["Add Property",(0,h.jsx)(s.IconButton,{onClick:e.onClose,icon:(0,h.jsx)(o.CloseIcon,{})})]}),(0,h.jsx)(l.ys,{children:(0,h.jsx)(x.A,{moduleData:e.propertyData,values:S,setFieldValue:z,handleChange:I,handleBlur:C,errors:b,touched:y})}),(0,h.jsxs)(l.tb,{children:[(0,h.jsx)(s.Button,{size:"sm",sx:{textTransform:"capitalize"},disabled:!!m,variant:"brand",type:"submit",onClick:w,children:m?(0,h.jsx)(r.A,{}):"Save"}),(0,h.jsx)(s.Button,{size:"sm",variant:"outline",colorScheme:"red",sx:{marginLeft:2,textTransform:"capitalize"},onClick:e.onClose,children:"Close"})]})]})]})})}},2943:(e,t,n)=>{n.d(t,{A:()=>j});var i=n(9379),o=n(4034),l=n(9942),s=n(2554),r=n(4450),a=n(9488),d=n(3516),c=n(5043),u=n(3216),x=n(6305),p=n(2030),h=n(8908),m=n(899),v=n(579);const j=e=>{var t,n;const j=Object.fromEntries(((null===e||void 0===e||null===(t=e.leadData)||void 0===t?void 0:t.fields)||[]).map((e=>[null===e||void 0===e?void 0:e.name,""]))),[f,g]=(0,c.useState)((0,i.A)((0,i.A)({},j),{},{createBy:JSON.parse(localStorage.getItem("user"))._id})),b=(0,u.g)(),y=(0,d.Wx)({initialValues:f,validationSchema:m.Ik().shape((0,p.g)(null===e||void 0===e||null===(n=e.propertyData)||void 0===n?void 0:n.fields)),enableReinitialize:!0,onSubmit:(e,t)=>{let{resetForm:n}=t;B()}}),{errors:S,touched:C,values:I,handleBlur:w,handleChange:z,handleSubmit:A,setFieldValue:F}=y,[_,D]=(0,c.useState)(!1),B=async()=>{try{D(!0),200===(await(0,x.yP)("api/property/edit/".concat((null===e||void 0===e?void 0:e.selectedId)||b.id),I)).status&&(e.onClose(),e.setAction((e=>!e)))}catch(t){console.log(t)}finally{D(!1)}};let P;return(0,c.useEffect)((()=>{(async()=>{if(null!==e&&void 0!==e&&e.selectedId||b.id)try{D(!0),P=await(0,x.x4)("api/property/view/",null!==e&&void 0!==e&&e.selectedId?null===e||void 0===e?void 0:e.selectedId:b.id),g((e=>{var t,n;return(0,i.A)((0,i.A)({},e),null===(t=P)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.property)}))}catch(t){console.error(t)}finally{D(!1)}})()}),[null===e||void 0===e?void 0:e.selectedId]),(0,v.jsx)("div",{children:(0,v.jsxs)(l._s,{isOpen:e.isOpen,size:e.size,children:[(0,v.jsx)(l.QP,{}),(0,v.jsxs)(l.zj,{children:[(0,v.jsxs)(l.BE,{alignItems:"center",justifyContent:"space-between",display:"flex",children:["Edit Property",(0,v.jsx)(s.IconButton,{onClick:()=>{e.onClose(!1),e.setSelectedId&&(null===e||void 0===e||e.setSelectedId())},icon:(0,v.jsx)(o.CloseIcon,{})})]}),(0,v.jsx)(l.ys,{children:_?(0,v.jsx)(r.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,v.jsx)(a.A,{})}):(0,v.jsx)(h.A,{moduleData:e.propertyData,values:I,setFieldValue:F,handleChange:z,handleBlur:w,errors:S,touched:C})}),(0,v.jsxs)(l.tb,{children:[(0,v.jsx)(s.Button,{size:"sm",sx:{textTransform:"capitalize"},variant:"brand",disabled:!!_,type:"submit",onClick:A,children:_?(0,v.jsx)(a.A,{}):"Update"}),(0,v.jsx)(s.Button,{size:"sm",variant:"outline",colorScheme:"red",sx:{marginLeft:2,textTransform:"capitalize"},onClick:()=>{e.onClose(!1)},children:"Close"})]})]})]})})}},3584:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var i=n(4034),o=n(1206),l=n(9754),s=n(4450),r=n(8858),a=n(5376),d=n(2554),c=n(2892),u=n(9942),x=n(216),p=n(3994),h=n(9488),m=n(5043),v=n(4960),j=n(3216),f=n(5475),g=n(6305),b=n(8700),y=n(2943),S=n(3516),C=n(45),I=n(3458),w=n(1997),z=n(7149),A=n(579);const F=["used","total","count"];function _(e){const{used:t,total:n,count:i}=e,l=((0,C.A)(e,F),(0,o.dU)("secondaryGray.900","white")),r=(0,o.dU)("brand.500","white");return(0,A.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:2,children:[(0,A.jsx)(s.GridItem,{colSpan:{base:12},children:(0,A.jsx)(w.A,{w:{base:"100%"},me:"36px",minH:200,img:"Property Photos"===e.text?"img":"",height:"100%",onFileSelect:e.onFileSelect,content:(0,A.jsxs)(s.Box,{children:[(0,A.jsx)(I.In,{as:z.vpy,w:"80px",h:"80px",color:r}),(0,A.jsx)(s.Flex,{justify:"center",mx:"auto",mb:"12px",children:(0,A.jsx)(s.Text,{fontSize:"xl",fontWeight:"700",color:r,children:"Upload Files"})}),i>0&&(0,A.jsxs)(s.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:["Selected Files : ",i]})]})})}),(0,A.jsx)(s.GridItem,{colSpan:{base:12},children:(0,A.jsxs)(s.Flex,{direction:"column",children:[(0,A.jsxs)(s.Text,{color:l,fontWeight:"bold",textAlign:"start",fontSize:"2xl",mt:{base:"20px"},children:["Upload ",e.text]}),(0,A.jsx)(s.Text,{color:"gray.400",fontSize:"md",my:{base:"auto"},mx:"auto",textAlign:"start",children:"Accepted File Types (Images files - 15MB max) only 10 files"})]})})]})}const D=e=>{const{onClose:t,isOpen:n,fetchData:i,text:o}=e,[l,r]=(0,m.useState)(!1),a=(0,S.Wx)({initialValues:{property:""},onSubmit:(e,t)=>{let{resetForm:n}=t;y(),n()}}),{errors:c,touched:x,values:p,handleBlur:v,handleChange:j,handleSubmit:f,setFieldValue:b}=a,y=async()=>{try{var n;r(!0);const l=new FormData;let s;p.property.forEach((e=>{null===l||void 0===l||l.append("property",e)})),"Property Photos"===o?s=await(0,g.d_)("api/property/add-property-photos/".concat(e.id),l):"Virtual Tours or Videos"===o?s=await(0,g.d_)("api/property/add-virtual-tours-or-videos/".concat(e.id),l):"Floor Plans"===o?s=await(0,g.d_)("api/property/add-floor-plans/".concat(e.id),l):"Property Documents"===o&&(s=await(0,g.d_)("api/property/add-property-documents/".concat(e.id),l)),200===(null===(n=s)||void 0===n?void 0:n.status)&&(i(),a.resetForm(),t())}catch(l){console.log(l)}finally{r(!1)}};return(0,A.jsxs)(u.aF,{onClose:t,isOpen:n,isCentered:!0,children:[(0,A.jsx)(u.mH,{}),(0,A.jsxs)(u.$m,{children:[(0,A.jsxs)(u.rQ,{children:["Select ",o," "]}),(0,A.jsx)(u.s_,{}),(0,A.jsx)(u.cw,{children:(0,A.jsx)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:(0,A.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,A.jsx)(_,{count:p.property.length,onFileSelect:e=>b("property",e),text:o}),(0,A.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",c.property&&x.property&&(0,A.jsxs)(A.Fragment,{children:["Please Select ",o]})]})]})})}),(0,A.jsxs)(u.jl,{children:[(0,A.jsx)(d.Button,{size:"sm",variant:"brand",onClick:f,mr:1,disabled:!!l,children:l?(0,A.jsx)(h.A,{}):"Save"}),(0,A.jsx)(d.Button,{size:"sm",colorScheme:"red",variant:"outline",onClick:()=>{t(),a.resetForm()},children:"Close"})]})]})]})};var B=n(5574),P=n(2853);const k=n.p+"static/media/xlsx.3b42e8cd4f9bf156c884.png",T=n.p+"static/media/jpg.fdaacb51b3eedae8f560.png",V=n.p+"static/media/png.591c905ba55daf938362.png",G=n.p+"static/media/pdf.218f27f51613b4b652ab.png",N=n.p+"static/media/xls.c0995978684211bf594e.png",O=n.p+"static/media/csv.42b148555d574a65e2e1.png",E=n.p+"static/media/file.cae13a973d5fc64cfbfe.png";var W=n(9702),H=n(55),R=n(8177);const L=()=>{var e,t,n,S,C,I,w,z,F,_,L,M,U,Y,K,Q,X,J,$,q,Z,ee,te,ne;const ie=JSON.parse(localStorage.getItem("user")),oe=(0,j.g)(),le=(0,o.dU)("gray.200","white"),se=(0,o.dU)("gray.500","white"),[re,ae]=(0,m.useState)(),[de,ce]=(0,m.useState)([]),{isOpen:ue,onOpen:xe,onClose:pe}=(0,l.j1)(),[he,me]=(0,m.useState)(!1),[ve,je]=(0,m.useState)(!1),[fe,ge]=(0,m.useState)(!1),[be,ye]=(0,m.useState)(!1),[Se,Ce]=(0,m.useState)([]),[Ie,we]=(0,m.useState)(!1),[ze,Ae]=(0,m.useState)(!1),[Fe,_e]=(0,m.useState)(!1),[De,Be]=(0,m.useState)(!1),[Pe,ke]=(0,m.useState)(!1),[Te,Ve]=(0,m.useState)(!1),[Ge,Ne]=(0,m.useState)(!1),Oe=(0,j.Zp)(),Ee=[{Header:"Title",accessor:"title"},{Header:"First Name",accessor:"firstName"},{Header:"Last Name",accessor:"lastName"},{Header:"Phone Number",accessor:"phoneNumber"},{Header:"Email Address",accessor:"email"},{Header:"Contact Method",accessor:"preferredContactMethod"}],[We,He]=(0,m.useState)([...Ee]),[Re,Le]=(0,m.useState)([...Ee]),Me=async()=>{var e;ke(!0);let t=await(0,g.x4)("api/property/view/",oe.id);ae(t.data.property),ce(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.filteredContacts),ke(!1)},Ue=async()=>{const e=await(0,g.x4)("api/custom-field?moduleName=Properties");Ce(e.data)};(0,m.useEffect)((()=>{Me(),Ue&&Ue()}),[fe]);const[Ye,Ke,Qe,Xe]=(0,B.h)(["Properties","Contacts","Emails","Calls"]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(b.A,{isOpen:ue,size:"lg",onClose:pe,setPropertyData:Ce,propertyData:Se[0]}),(0,A.jsx)(y.A,{isOpen:he,size:"lg",onClose:me,setAction:ge,setPropertyData:Ce,propertyData:Se[0]}),(0,A.jsx)(R.A,{isOpen:ve,onClose:()=>je(!1),type:"Property",handleDeleteData:async e=>{try{ke(!0),200===(await(0,g.Gx)("api/property/delete/",e)).status&&(je(!1),ge((e=>!e)),Oe("/properties"))}catch(t){console.log(t)}finally{ke(!1)}},ids:oe.id}),Pe?(0,A.jsx)(s.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,A.jsx)(h.A,{})}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(r.tU,{children:[(0,A.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:1,children:[(0,A.jsx)(s.GridItem,{colSpan:{base:12,md:6},children:(0,A.jsxs)(r.wb,{sx:{border:"none","& button:focus":{boxShadow:"none"},"& button":{margin:{sm:"0 3px",md:"0 5px"},padding:{sm:"5px",md:"8px"},border:"2px solid #8080803d",borderTopLeftRadius:"10px",borderTopRightRadius:"10px",borderBottom:0,fontSize:{sm:"12px",md:"16px"}},'& button[aria-selected="true"]':{border:"2px solid brand.200",borderBottom:0,zIndex:"0"}},children:[(0,A.jsx)(r.oz,{children:"Information"}),(0,A.jsx)(r.oz,{children:"Gallery"})]})}),(0,A.jsx)(s.GridItem,{colSpan:{base:12,md:6},mt:{sm:"3px",md:"5px"},children:(0,A.jsxs)(s.Flex,{justifyContent:"right",children:[(0,A.jsxs)(a.W1,{children:[("superAdmin"===ie.role||(null===Ye||void 0===Ye?void 0:Ye.create)||(null===Ye||void 0===Ye?void 0:Ye.update)||(null===Ye||void 0===Ye?void 0:Ye.delete))&&(0,A.jsx)(a.IU,{variant:"outline",size:"sm",colorScheme:"blackAlpha",va:!0,mr:2.5,as:d.Button,rightIcon:(0,A.jsx)(i.ChevronDownIcon,{}),children:"Actions"}),(0,A.jsx)(a.Nj,{}),(0,A.jsxs)(a.cO,{minWidth:2,children:[("superAdmin"===ie.role||(null===Ye||void 0===Ye?void 0:Ye.create))&&(0,A.jsx)(a.Dr,{alignItems:"start",color:"blue",onClick:()=>xe(),icon:(0,A.jsx)(i.AddIcon,{}),children:"Add"}),("superAdmin"===ie.role||(null===Ye||void 0===Ye?void 0:Ye.update))&&(0,A.jsx)(a.Dr,{alignItems:"start",onClick:()=>me(!0),icon:(0,A.jsx)(i.EditIcon,{}),children:"Edit"}),("superAdmin"===ie.role||(null===Ye||void 0===Ye?void 0:Ye.delete))&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(a.Nj,{}),(0,A.jsx)(a.Dr,{alignItems:"start",color:"red",onClick:()=>je(!0),icon:(0,A.jsx)(i.DeleteIcon,{}),children:"Delete"})]})]})]}),(0,A.jsx)(f.N_,{to:"/properties",children:(0,A.jsx)(d.Button,{size:"sm",leftIcon:(0,A.jsx)(v.m6W,{}),variant:"brand",children:"Back"})})]})})]}),(0,A.jsxs)(r.T2,{children:[(0,A.jsxs)(r.Kp,{pt:4,p:0,children:[(0,A.jsx)(W.A,{data:Se[0],fieldData:re}),(null===de||void 0===de?void 0:de.length)>0&&(0,A.jsx)(s.GridItem,{colSpan:{base:12},mt:4,children:(0,A.jsx)(s.Grid,{templateColumns:{base:"1fr"},children:(0,A.jsx)(s.GridItem,{colSpan:2,children:(0,A.jsx)(s.Grid,{templateColumns:"repeat(2, 1fr)",children:(0,A.jsx)(s.GridItem,{colSpan:{base:2},children:(0,A.jsx)(H.A,{AdvanceSearch:!1,ManageGrid:!1,access:!1,columnData:Ee,dataColumn:Ee,title:"Interested Contact",allData:de,tableData:de,dynamicColumns:We,setDynamicColumns:He,selectedColumns:Re,setSelectedColumns:Le,size:"md"})})})})})})]}),(0,A.jsx)(r.Kp,{pt:4,p:0,children:(0,A.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,A.jsx)(s.GridItem,{colSpan:{base:12,md:6},children:(0,A.jsx)(x.A,{children:(0,A.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,children:[(0,A.jsx)(s.GridItem,{colSpan:12,children:(0,A.jsxs)(s.Box,{children:[(0,A.jsxs)(s.Flex,{flexWrap:"wrap",mb:3,justifyContent:"space-between",alingItem:"center",children:[(0,A.jsx)(s.Heading,{size:"md",children:"Property Photos"}),(0,A.jsx)(d.Button,{size:"sm",leftIcon:(0,A.jsx)(i.AddIcon,{}),onClick:()=>ye(!0),bg:le,children:"Add New"}),(0,A.jsx)(D,{text:"Property Photos",fetchData:Me,isOpen:be,onClose:ye,id:oe.id})]}),(0,A.jsx)(p.E,{})]})}),(0,A.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,A.jsx)(s.Flex,{overflowY:"scroll",height:"150px",alingItem:"center",children:(null===re||void 0===re||null===(e=re.propertyPhotos)||void 0===e?void 0:e.length)>0?re&&(null===re||void 0===re||null===(t=re.propertyPhotos)||void 0===t?void 0:t.length)>0&&(null===re||void 0===re||null===(n=re.propertyPhotos)||void 0===n?void 0:n.map((e=>(0,A.jsx)(c._V,{width:"150px",m:1,src:e.img,alt:"Your Image"})))):(0,A.jsx)(s.Text,{textAlign:"center",width:"100%",color:se,fontSize:"sm",fontWeight:"700",children:(0,A.jsx)(P.A,{})})}),(null===re||void 0===re||null===(S=re.propertyPhotos)||void 0===S?void 0:S.length)>0?(0,A.jsx)(s.Flex,{justifyContent:"end",mt:1,children:(0,A.jsx)(d.Button,{size:"sm",colorScheme:"brand",variant:"outline",onClick:()=>{Ve(!0),Ne("photo")},children:"Show more"})}):""]})]})})}),(0,A.jsx)(s.GridItem,{colSpan:{base:12,md:6},children:(0,A.jsx)(x.A,{children:(0,A.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,children:[(0,A.jsx)(s.GridItem,{colSpan:12,children:(0,A.jsxs)(s.Box,{children:[(0,A.jsxs)(s.Flex,{flexWrap:"wrap",mb:3,justifyContent:"space-between",alingItem:"center",children:[(0,A.jsx)(s.Heading,{size:"md",children:"Virtual Tours or Videos"}),(0,A.jsx)(d.Button,{size:"sm",leftIcon:(0,A.jsx)(i.AddIcon,{}),onClick:()=>Ae(!0),bg:le,children:"Add New"}),(0,A.jsx)(D,{text:"Virtual Tours or Videos",fetchData:Me,isOpen:ze,onClose:Ae,id:oe.id})]}),(0,A.jsx)(p.E,{})]})}),(0,A.jsx)(s.GridItem,{colSpan:{base:12},children:(0,A.jsx)(s.Flex,{overflowY:"scroll",height:"150px",alingItem:"center",children:(null===re||void 0===re||null===(C=re.virtualToursOrVideos)||void 0===C?void 0:C.length)>0?re&&(null===re||void 0===re||null===(I=re.virtualToursOrVideos)||void 0===I?void 0:I.length)>0&&(null===re||void 0===re||null===(w=re.virtualToursOrVideos)||void 0===w?void 0:w.map((e=>(0,A.jsxs)("video",{width:"200",controls:!0,autoplay:!0,loop:!0,style:{margin:"0 5px"},children:[(0,A.jsx)("source",{src:e.img,type:"video/mp4"}),(0,A.jsx)("source",{src:e.img,type:"video/ogg"})]})))):(0,A.jsx)(s.Text,{textAlign:"center",width:"100%",color:se,fontSize:"sm",fontWeight:"700",children:(0,A.jsx)(P.A,{})})})})]})})}),(0,A.jsx)(s.GridItem,{colSpan:{base:12,md:6},children:(0,A.jsx)(x.A,{children:(0,A.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,children:[(0,A.jsx)(s.GridItem,{colSpan:12,children:(0,A.jsxs)(s.Box,{children:[(0,A.jsxs)(s.Flex,{flexWrap:"wrap",mb:3,justifyContent:"space-between",alingItem:"center",children:[(0,A.jsx)(s.Heading,{size:"md",children:"Floor Plans"}),(0,A.jsx)(d.Button,{size:"sm",leftIcon:(0,A.jsx)(i.AddIcon,{}),onClick:()=>_e(!0),bg:le,children:"Add New"}),(0,A.jsx)(D,{text:"Floor Plans",fetchData:Me,isOpen:Fe,onClose:_e,id:oe.id})]}),(0,A.jsx)(p.E,{})]})}),(0,A.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,A.jsx)(s.Flex,{overflowY:"scroll",height:"150px",alingItem:"center",children:(null===re||void 0===re||null===(z=re.floorPlans)||void 0===z?void 0:z.length)>0?re&&(null===re||void 0===re||null===(F=re.floorPlans)||void 0===F?void 0:F.length)>0&&(null===re||void 0===re||null===(_=re.floorPlans)||void 0===_?void 0:_.map((e=>(0,A.jsx)(c._V,{width:"30%",m:1,src:e.img,alt:"Your Image"},e.createOn)))):(0,A.jsx)(s.Text,{textAlign:"center",width:"100%",color:se,fontSize:"sm",fontWeight:"700",children:(0,A.jsx)(P.A,{})})}),(null===re||void 0===re||null===(L=re.floorPlans)||void 0===L?void 0:L.length)>0?(0,A.jsx)(s.Flex,{justifyContent:"end",mt:1,children:(0,A.jsx)(d.Button,{size:"sm",colorScheme:"brand",variant:"outline",onClick:()=>{Ve(!0),Ne("floor")},children:"Show more"})}):""]})]})})}),(0,A.jsx)(s.GridItem,{colSpan:{base:12,md:6},children:(0,A.jsxs)(x.A,{children:[(0,A.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,children:[(0,A.jsx)(s.GridItem,{colSpan:12,children:(0,A.jsxs)(s.Box,{children:[(0,A.jsxs)(s.Flex,{flexWrap:"wrap",mb:3,justifyContent:"space-between",alingItem:"center",children:[(0,A.jsx)(s.Heading,{size:"md",children:"Property Documents"}),(0,A.jsx)(d.Button,{size:"sm",leftIcon:(0,A.jsx)(i.AddIcon,{}),onClick:()=>Be(!0),bg:le,children:"Add New"}),(0,A.jsx)(D,{text:"Property Documents",fetchData:Me,isOpen:De,onClose:Be,id:oe.id})]}),(0,A.jsx)(p.E,{})]})}),(0,A.jsx)(s.GridItem,{colSpan:12,sx:{maxHeight:"200px",overflowX:"auto"},children:(null===re||void 0===re||null===(M=re.propertyDocuments)||void 0===M?void 0:M.length)>0?re&&(null===re||void 0===re||null===(U=re.propertyDocuments)||void 0===U?void 0:U.length)>0&&(null===re||void 0===re||null===(Y=re.propertyDocuments)||void 0===Y?void 0:Y.map((e=>{const t=e.filename.split("."),n=t[t.length-1];return(0,A.jsxs)(s.Flex,{alignItems:"center",mt:"3",children:["xlsx"===n&&(0,A.jsx)(c._V,{src:k,boxSize:"50px"}),"jpg"===n&&(0,A.jsx)(c._V,{src:T,boxSize:"50px"}),"png"===n&&(0,A.jsx)(c._V,{src:V,boxSize:"50px"}),"pdf"===n&&(0,A.jsx)(c._V,{src:G,boxSize:"50px"}),"xls"===n&&(0,A.jsx)(c._V,{src:N,boxSize:"50px"}),"csv"===n&&(0,A.jsx)(c._V,{src:O,boxSize:"50px"}),!("xls"===n||"csv"===n||"png"===n||"pdf"===n||"xlsx"===n||"jpg"===n)&&(0,A.jsx)(c._V,{src:E,boxSize:"50px"}),(0,A.jsx)(s.Text,{ml:2,color:"green.400",onClick:()=>window.open(null===e||void 0===e?void 0:e.img),cursor:"pointer",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},children:e.filename})]})}))):(0,A.jsx)(s.Text,{textAlign:"center",width:"100%",color:se,fontSize:"sm",fontWeight:"700",children:(0,A.jsx)(P.A,{})})})]}),(null===re||void 0===re||null===(K=re.propertyDocuments)||void 0===K?void 0:K.length)>0?(0,A.jsx)(s.Flex,{justifyContent:"end",mt:1,children:(0,A.jsx)(d.Button,{size:"sm",colorScheme:"brand",variant:"outline",onClick:()=>{we(!0),Ne("Doucument")},children:"Show more"})}):""]})})]})})]})]}),((null===Ye||void 0===Ye?void 0:Ye.delete)||(null===Ye||void 0===Ye?void 0:Ye.update)||"superAdmin"===(null===ie||void 0===ie?void 0:ie.role))&&(0,A.jsx)(x.A,{mt:3,children:(0,A.jsx)(s.Grid,{templateColumns:"repeat(6, 1fr)",gap:1,children:(0,A.jsx)(s.GridItem,{colStart:6,children:(0,A.jsxs)(s.Flex,{justifyContent:"right",children:[(null===Ye||void 0===Ye?void 0:Ye.update)&&(0,A.jsx)(d.Button,{onClick:()=>me(!0),size:"sm",leftIcon:(0,A.jsx)(i.EditIcon,{}),mr:2.5,variant:"outline",colorScheme:"green",children:"Edit"}),(null===Ye||void 0===Ye?void 0:Ye.delete)&&(0,A.jsx)(d.Button,{style:{background:"red.800"},size:"sm",onClick:()=>je(!0),leftIcon:(0,A.jsx)(i.DeleteIcon,{}),colorScheme:"red",children:"Delete"})]})})})})]}),(0,A.jsxs)(u.aF,{onClose:()=>Ve(!1),isOpen:Te,children:[(0,A.jsx)(u.mH,{}),(0,A.jsxs)(u.$m,{maxWidth:"6xl",height:"750px",children:[(0,A.jsx)(u.rQ,{children:"photo"==Ge?"Property All Photos":"video"==Ge?"Virtual Tours or Videos":"floor"==Ge?"Floors plans":""}),(0,A.jsx)(u.s_,{onClick:()=>Ve(!1)}),(0,A.jsx)(u.cw,{overflowY:"auto",height:"700px",children:(0,A.jsx)("div",{style:{columns:3},children:"photo"==Ge?re&&(null===re||void 0===re||null===(Q=re.propertyPhotos)||void 0===Q?void 0:Q.length)>0&&(null===re||void 0===re||null===(X=re.propertyPhotos)||void 0===X?void 0:X.map((e=>(0,A.jsxs)("a",{href:e.img,target:"_blank",children:[" ",(0,A.jsx)(c._V,{width:"100%",m:1,mb:4,src:e.img,alt:"Your Image"})]})))):"video"==Ge?re&&(null===re||void 0===re||null===(J=re.virtualToursOrVideos)||void 0===J?void 0:J.length)>0&&(null===re||void 0===re||null===($=re.virtualToursOrVideos)||void 0===$?void 0:$.map((e=>(0,A.jsx)("a",{href:e.img,target:"_blank",children:(0,A.jsxs)("video",{width:"380",controls:!0,autoplay:!0,loop:!0,style:{margin:" 5px"},children:[(0,A.jsx)("source",{src:e.img,type:"video/mp4"}),(0,A.jsx)("source",{src:e.img,type:"video/ogg"})]})})))):"floor"==Ge?re&&(null===re||void 0===re||null===(q=re.floorPlans)||void 0===q?void 0:q.length)>0&&(null===re||void 0===re||null===(Z=re.floorPlans)||void 0===Z?void 0:Z.map((e=>(0,A.jsx)("a",{href:e.img,target:"_blank",children:(0,A.jsx)(c._V,{width:"100%",m:1,mb:4,src:e.img,alt:"Your Image"})})))):""})}),(0,A.jsx)(u.jl,{children:(0,A.jsx)(d.Button,{size:"sm",variant:"outline",colorScheme:"red",mr:2,onClick:()=>Ve(!1),children:"Close"})})]})]}),(0,A.jsxs)(u.aF,{onClose:()=>we(!1),isOpen:Ie,children:[(0,A.jsx)(u.mH,{}),(0,A.jsxs)(u.$m,{maxWidth:"xl",height:"750px",children:[(0,A.jsx)(u.rQ,{children:"Property All Document"}),(0,A.jsx)(u.s_,{onClick:()=>we(!1)}),(0,A.jsx)(u.cw,{overflowY:"auto",height:"700px",children:(null===re||void 0===re||null===(ee=re.propertyDocuments)||void 0===ee?void 0:ee.length)>0?re&&(null===re||void 0===re||null===(te=re.propertyDocuments)||void 0===te?void 0:te.length)>0&&(null===re||void 0===re||null===(ne=re.propertyDocuments)||void 0===ne?void 0:ne.map((e=>{const t=e.filename.split("."),n=t[t.length-1];return(0,A.jsxs)(s.Flex,{alignItems:"center",mt:"3",children:["xlsx"===n&&(0,A.jsx)(c._V,{src:k,boxSize:"50px"}),"jpg"===n&&(0,A.jsx)(c._V,{src:T,boxSize:"50px"}),"png"===n&&(0,A.jsx)(c._V,{src:V,boxSize:"50px"}),"pdf"===n&&(0,A.jsx)(c._V,{src:G,boxSize:"50px"}),"xls"===n&&(0,A.jsx)(c._V,{src:N,boxSize:"50px"}),"csv"===n&&(0,A.jsx)(c._V,{src:O,boxSize:"50px"}),!("xls"===n||"csv"===n||"png"===n||"pdf"===n||"xlsx"===n||"jpg"===n)&&(0,A.jsx)(c._V,{src:E,boxSize:"50px"}),(0,A.jsx)(s.Text,{ml:2,color:"green.400",onClick:()=>window.open(null===e||void 0===e?void 0:e.img),cursor:"pointer",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},children:e.filename})]})}))):(0,A.jsx)(s.Text,{textAlign:"center",width:"100%",color:se,fontSize:"sm",fontWeight:"700",children:(0,A.jsx)(P.A,{})})}),(0,A.jsx)(u.jl,{children:(0,A.jsx)(d.Button,{size:"sm",variant:"outline",colorScheme:"red",mr:2,onClick:()=>we(!1),children:"Close"})})]})]})]})}},8858:(e,t,n)=>{n.d(t,{Kp:()=>B,T2:()=>P,oz:()=>_,tU:()=>F,wb:()=>D});var i=n(9522),o=n(835),l=n(5043),s=n(1490),r=n(3830),a=n(9754),d=n(2006),c=n(636);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u.apply(this,arguments)}function x(e,t){if(null==e)return{};var n,i,o={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}var p=["defaultIndex","onChange","index","isManual","isLazy","lazyBehavior","orientation","direction"],h=["isDisabled","isFocusable"],m=["isSelected","id","children"],v=(0,r.D)(),j=v[0],f=v[1],g=v[2],b=v[3];var y=(0,c.q6)({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"}),S=y[0],C=y[1];function I(e,t){return e+"--tab-"+t}function w(e,t){return e+"--tabpanel-"+t}var z=["children","className"],A=["htmlProps","descendants"],F=(0,i.Rf)((function(e,t){var n=(0,i.o5)("Tabs",e),s=(0,i.MN)(e),r=s.children,d=s.className,c=function(e){var t=e.defaultIndex,n=e.onChange,i=e.index,o=e.isManual,s=e.isLazy,r=e.lazyBehavior,d=void 0===r?"unmount":r,c=e.orientation,u=void 0===c?"horizontal":c,h=e.direction,m=void 0===h?"ltr":h,v=x(e,p),j=l.useState(null!=t?t:0),f=j[0],b=j[1],y=(0,a.ic)({defaultValue:null!=t?t:0,value:i,onChange:n}),S=y[0],C=y[1];l.useEffect((function(){null!=i&&b(i)}),[i]);var I=g();return{id:(0,a.Bi)(e.id,"tabs"),selectedIndex:S,focusedIndex:f,setSelectedIndex:C,setFocusedIndex:b,isManual:o,isLazy:s,lazyBehavior:d,orientation:u,descendants:I,direction:m,htmlProps:v}}(x(s,z)),h=c.htmlProps,m=c.descendants,v=x(c,A),f=l.useMemo((function(){return v}),[v]),b=(0,o.cJ)(h,["isFitted"]);return l.createElement(j,{value:m},l.createElement(S,{value:f},l.createElement(i.W$,{value:n},l.createElement(i.Bv.div,u({className:(0,o.cx)("chakra-tabs",d),ref:t},b,{__css:n.root}),r))))}));o.gt&&(F.displayName="Tabs");var _=(0,i.Rf)((function(e,t){var n=(0,i.IS)(),r=function(e){var t=e.isDisabled,n=e.isFocusable,i=x(e,h),l=C(),r=l.setSelectedIndex,a=l.isManual,d=l.id,p=l.setFocusedIndex,m=l.selectedIndex,v=b({disabled:t&&!n}),j=v.index,f=v.register,g=j===m,y=(0,s.I)(u({},i,{ref:(0,c.Px)(f,e.ref),isDisabled:t,isFocusable:n,onClick:(0,o.Hj)(e.onClick,(function(){r(j)}))}));return u({},y,{id:I(d,j),role:"tab",tabIndex:g?0:-1,type:"button","aria-selected":g,"aria-controls":w(d,j),onFocus:t?void 0:(0,o.Hj)(e.onFocus,(function(){p(j),!a&&(!t||!n)&&r(j)}))})}(u({},e,{ref:t})),a=u({outline:"0",display:"flex",alignItems:"center",justifyContent:"center"},n.tab);return l.createElement(i.Bv.button,u({},r,{className:(0,o.cx)("chakra-tabs__tab",e.className),__css:a}))}));o.gt&&(_.displayName="Tab");var D=(0,i.Rf)((function(e,t){var n=function(e){var t=C(),n=t.focusedIndex,i=t.orientation,s=t.direction,r=f(),a=l.useCallback((function(e){var t,l=function(){var e=r.nextEnabled(n);e&&(0,o.XC)(e.node)},a=function(){var e=r.prevEnabled(n);e&&(0,o.XC)(e.node)},d="horizontal"===i,c="vertical"===i,u=(0,o.fw)(e),x="ltr"===s?"ArrowRight":"ArrowLeft",p=((t={})["ltr"===s?"ArrowLeft":"ArrowRight"]=function(){return d&&a()},t[x]=function(){return d&&l()},t.ArrowDown=function(){return c&&l()},t.ArrowUp=function(){return c&&a()},t.Home=function(){var e=r.firstEnabled();e&&(0,o.XC)(e.node)},t.End=function(){var e=r.lastEnabled();e&&(0,o.XC)(e.node)},t)[u];p&&(e.preventDefault(),p(e))}),[r,n,i,s]);return u({},e,{role:"tablist","aria-orientation":i,onKeyDown:(0,o.Hj)(e.onKeyDown,a)})}(u({},e,{ref:t})),s=u({display:"flex"},(0,i.IS)().tablist);return l.createElement(i.Bv.div,u({},n,{className:(0,o.cx)("chakra-tabs__tablist",e.className),__css:s}))}));o.gt&&(D.displayName="TabList");var B=(0,i.Rf)((function(e,t){var n=function(e){var t=e.isSelected,n=e.id,i=e.children,s=x(e,m),r=C(),a=r.isLazy,d=r.lazyBehavior,c=l.useRef(!1);return t&&(c.current=!0),u({tabIndex:0},s,{children:(0,o.YO)({hasBeenSelected:c.current,isSelected:t,isLazy:a,lazyBehavior:d})?i:null,role:"tabpanel",hidden:!t,id:n})}(u({},e,{ref:t})),s=(0,i.IS)();return l.createElement(i.Bv.div,u({outline:"0"},n,{className:(0,o.cx)("chakra-tabs__tab-panel",e.className),__css:s.tabpanel}))}));o.gt&&(B.displayName="TabPanel");var P=(0,i.Rf)((function(e,t){var n=function(e){var t=C(),n=t.id,i=t.selectedIndex;return u({},e,{children:(0,c.ag)(e.children).map((function(e,t){return l.cloneElement(e,{isSelected:t===i,id:w(n,t),"aria-labelledby":I(n,t)})}))})}(e),s=(0,i.IS)();return l.createElement(i.Bv.div,u({},n,{width:"100%",ref:t,className:(0,o.cx)("chakra-tabs__tab-panels",e.className),__css:s.tabpanels}))}));o.gt&&(P.displayName="TabPanels");var k=(0,i.Rf)((function(e,t){var n=function(){var e=C(),t=f(),n=e.selectedIndex,i=e.orientation,s="horizontal"===i,r="vertical"===i,a=l.useState((function(){return s?{left:0,width:0}:r?{top:0,height:0}:void 0})),c=a[0],x=a[1],p=l.useState(!1),h=p[0],m=p[1];return(0,d.a)((function(){if(!(0,o.b0)(n)){var e=t.item(n);if(!(0,o.b0)(e)){s&&x({left:e.node.offsetLeft,width:e.node.offsetWidth}),r&&x({top:e.node.offsetTop,height:e.node.offsetHeight});var i=requestAnimationFrame((function(){m(!0)}));return function(){i&&cancelAnimationFrame(i)}}}}),[n,s,r,t]),u({position:"absolute",transitionProperty:"left, right, top, bottom, height, width",transitionDuration:h?"200ms":"0ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"},c)}(),s=u({},e.style,n),r=(0,i.IS)();return l.createElement(i.Bv.div,u({ref:t},e,{className:(0,o.cx)("chakra-tabs__tab-indicator",e.className),style:s,__css:r.indicator}))}));o.gt&&(k.displayName="TabIndicator")}}]);
//# sourceMappingURL=831.0a5364d6.chunk.js.map