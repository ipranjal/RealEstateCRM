"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[597],{3848:(e,t,l)=>{l.d(t,{A:()=>r});var n=l(1206),i=l(4450),a=l(3458),o=l(1997),s=l(7149),d=l(579);function r(e){const{count:t,text:l,onFileSelect:r}=e,c=(0,n.dU)("secondaryGray.900","white"),u=(0,n.dU)("brand.500","white");return(0,d.jsxs)(i.Grid,{templateColumns:"repeat(12, 1fr)",gap:2,children:[(0,d.jsx)(i.GridItem,{colSpan:{base:12},children:(0,d.jsx)(o.A,{w:{base:"100%"},me:"36px",minH:200,img:"Property Photos"===l?"img":"",csv:"csv",height:"100%",onFileSelect:r,isMultipleAllow:!1,content:(0,d.jsxs)(i.Box,{children:[(0,d.jsx)(a.In,{as:s.vpy,w:"80px",h:"80px",color:u}),(0,d.jsx)(i.Flex,{justify:"center",mx:"auto",mb:"12px",children:(0,d.jsx)(i.Text,{fontSize:"xl",fontWeight:"700",color:u,children:"Upload File"})}),t>0&&(0,d.jsxs)(i.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:["Selected Files : ",t]})]})})}),(0,d.jsx)(i.GridItem,{colSpan:{base:12},children:(0,d.jsxs)(i.Flex,{direction:"column",children:[(0,d.jsxs)(i.Text,{color:c,fontWeight:"bold",textAlign:"start",fontSize:"2xl",mt:{base:"20px"},children:["Upload ",l]}),(0,d.jsx)(i.Text,{color:"gray.400",fontSize:"md",my:{base:"auto"},mx:"auto",textAlign:"start",children:"Accepted File Type (csv, xlsx file - 15MB max) only 1 file"})]})})]})}},265:(e,t,l)=>{l.d(t,{A:()=>h});var n=l(9379),i=l(4034),a=l(9942),o=l(2554),s=l(9488),d=l(3516),r=l(5043),c=l(6305),u=l(2030),m=l(8908),x=l(899),v=l(579);const h=e=>{var t,l;const[h,p]=(0,r.useState)(!1),j=Object.fromEntries(((null===e||void 0===e||null===(t=e.contactData)||void 0===t?void 0:t.fields)||[]).map((e=>[null===e||void 0===e?void 0:e.name,""]))),f=(0,n.A)((0,n.A)({},j),{},{createBy:JSON.parse(localStorage.getItem("user"))._id}),S=(0,d.Wx)({initialValues:f,validationSchema:x.Ik().shape((0,u.g)(null===e||void 0===e||null===(l=e.contactData)||void 0===l?void 0:l.fields)),onSubmit:(e,t)=>{let{resetForm:l}=t;B(),l()}}),{errors:b,touched:C,values:g,handleBlur:y,handleChange:D,handleSubmit:z,setFieldValue:I}=S,B=async()=>{try{var t;p(!0),200===(await(0,c.d_)("api/form/add",(0,n.A)((0,n.A)({},g),{},{moduleId:null===e||void 0===e||null===(t=e.contactData)||void 0===t?void 0:t._id}))).status&&(e.onClose(),e.setAction((e=>!e)))}catch(l){console.log(l)}finally{p(!1)}};return(0,v.jsx)("div",{children:(0,v.jsxs)(a._s,{isOpen:e.isOpen,size:e.size,children:[(0,v.jsx)(a.QP,{}),(0,v.jsxs)(a.zj,{children:[(0,v.jsxs)(a.BE,{alignItems:"center",justifyContent:"space-between",display:"flex",children:["Add Contact",(0,v.jsx)(o.IconButton,{onClick:e.onClose,icon:(0,v.jsx)(i.CloseIcon,{})})]}),(0,v.jsx)(a.ys,{children:(0,v.jsx)(m.A,{moduleData:e.contactData,values:g,setFieldValue:I,handleChange:D,handleBlur:y,errors:b,touched:C})}),(0,v.jsxs)(a.tb,{children:[(0,v.jsx)(o.Button,{sx:{textTransform:"capitalize"},variant:"brand",disabled:!!h,type:"submit",size:"sm",onClick:z,children:h?(0,v.jsx)(s.A,{}):"Save"}),(0,v.jsx)(o.Button,{variant:"outline",colorScheme:"red",size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},onClick:()=>{S.resetForm(),e.onClose()},children:"Close"})]})]})]})})}},708:(e,t,l)=>{l.d(t,{A:()=>j});var n=l(9379),i=l(4034),a=l(9942),o=l(2554),s=l(4450),d=l(9488),r=l(3516),c=l(5043),u=l(3216),m=l(6305),x=l(2030),v=l(899),h=l(8908),p=l(579);const j=e=>{var t,l;const[j,f]=(0,c.useState)(!1),S=Object.fromEntries(((null===e||void 0===e||null===(t=e.contactData)||void 0===t?void 0:t.fields)||[]).map((e=>[null===e||void 0===e?void 0:e.name,""]))),[b,C]=(0,c.useState)((0,n.A)((0,n.A)({},S),{},{createBy:JSON.parse(localStorage.getItem("user"))._id})),g=(0,u.g)(),y=(0,r.Wx)({initialValues:b,enableReinitialize:!0,validationSchema:v.Ik().shape((0,x.g)(null===e||void 0===e||null===(l=e.contactData)||void 0===l?void 0:l.fields)),onSubmit:(e,t)=>{let{resetForm:l}=t;O()}}),{errors:D,touched:z,values:I,handleBlur:B,handleChange:A,handleSubmit:F,setFieldValue:w}=y,O=async()=>{try{f(!0),200===(await(0,m.yP)("api/form/edit/".concat((null===e||void 0===e?void 0:e.selectedId)||g.id),(0,n.A)((0,n.A)({},I),{},{moduleId:null===e||void 0===e?void 0:e.moduleId}))).status&&(e.onClose(),e.setAction((e=>!e)))}catch(t){console.log(t)}finally{f(!1)}},T=()=>{e.onClose(!1),e.setSelectedId&&(null===e||void 0===e||e.setSelectedId())};let N;return(0,c.useEffect)((()=>{(async()=>{if(null!==e&&void 0!==e&&e.selectedId||g.id)try{f(!0),N=await(0,m.x4)("api/contact/view/",null!==e&&void 0!==e&&e.selectedId?null===e||void 0===e?void 0:e.selectedId:g.id),C((e=>{var t,l;return(0,n.A)((0,n.A)({},e),null===(t=N)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.contact)}))}catch(t){console.error(t)}finally{f(!1)}})()}),[null===e||void 0===e?void 0:e.selectedId]),(0,p.jsx)("div",{children:(0,p.jsxs)(a._s,{isOpen:e.isOpen,size:e.size,children:[(0,p.jsx)(a.QP,{}),(0,p.jsxs)(a.zj,{children:[(0,p.jsxs)(a.BE,{alignItems:"center",justifyContent:"space-between",display:"flex",children:["Edit Contact",(0,p.jsx)(o.IconButton,{onClick:T,icon:(0,p.jsx)(i.CloseIcon,{})})]}),(0,p.jsx)(a.ys,{children:j?(0,p.jsx)(s.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,p.jsx)(d.A,{})}):(0,p.jsx)(h.A,{moduleData:e.contactData,values:I,setFieldValue:w,handleChange:A,handleBlur:B,errors:D,touched:z})}),(0,p.jsxs)(a.tb,{children:[(0,p.jsx)(o.Button,{sx:{textTransform:"capitalize"},variant:"brand",type:"submit",size:"sm",disabled:!!j,onClick:F,children:j?(0,p.jsx)(d.A,{}):"Update"}),(0,p.jsx)(o.Button,{variant:"outline",colorScheme:"red",size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},onClick:T,children:"Close"})]})]})]})})}},4597:(e,t,l)=>{l.r(t),l.d(t,{default:()=>z});var n=l(5043),i=l(3216),a=l(9754),o=l(4450),s=l(5376),d=l(4034),r=l(7368),c=l(6305),u=l(265),m=l(708),x=l(6),v=l(9250),h=l(5574),p=l(55),j=l(9942),f=l(2554),S=l(9488),b=l(3516),C=l(3848),g=l(579);const y=e=>{const{onClose:t,isOpen:l,text:a,customFields:s}=e,[d,r]=(0,n.useState)(!1),c=(0,i.Zp)(),u=(0,b.Wx)({initialValues:{contact:""},onSubmit:(e,t)=>{let{resetForm:l}=t;I(),l()}}),{errors:m,touched:x,values:v,handleBlur:h,handleChange:p,handleSubmit:y,setFieldValue:D,resetForm:z}=u,I=async()=>{try{r(!0),z(),v.contact&&(t(),c("/contactImport",{state:{fileData:v.contact,customFields:s}}))}catch(e){console.log(e)}finally{r(!1)}};return(0,g.jsxs)(j.aF,{onClose:t,isOpen:l,isCentered:!0,children:[(0,g.jsx)(j.mH,{}),(0,g.jsxs)(j.$m,{children:[(0,g.jsx)(j.rQ,{children:"Import Contacts"}),(0,g.jsx)(j.s_,{}),(0,g.jsx)(j.cw,{children:(0,g.jsx)(o.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:(0,g.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,g.jsx)(C.A,{count:v.contact.length,onFileSelect:e=>D("contact",e),text:a}),(0,g.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",m.contact&&x.contact&&(0,g.jsxs)(g.Fragment,{children:["Please Select ",a]})]})]})})}),(0,g.jsxs)(j.jl,{children:[(0,g.jsx)(f.Button,{size:"sm",variant:"brand",onClick:y,disabled:!!d,children:d?(0,g.jsx)(S.A,{}):"Save"}),(0,g.jsx)(f.Button,{sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",size:"sm",onClick:()=>{t(),u.resetForm()},children:"Close"})]})]})]})};var D=l(8177);const z=()=>{var e,t,l,j;const f=JSON.parse(localStorage.getItem("user")),S=(0,i.Zp)(),[b,C,z]=(0,h.h)(["Contacts","Emails","Calls"]),[I,B]=(0,n.useState)(!1),[A,F]=(0,n.useState)([]),[w,O]=(0,n.useState)([]),[T,N]=(0,n.useState)([]),[W,_]=(0,n.useState)([]),[k,E]=(0,n.useState)([]),[L,G]=(0,n.useState)(!1),{isOpen:V,onOpen:P,onClose:H}=(0,a.j1)(),[J,R]=(0,n.useState)([]),[U,M]=(0,n.useState)(!1),[Q,$]=(0,n.useState)(!1),[Z,q]=(0,n.useState)(!1),[K,X]=(0,n.useState)(),[Y,ee]=(0,n.useState)(!1),[te,le]=(0,n.useState)(),[ne,ie]=(0,n.useState)([]),[ae,oe]=(0,n.useState)(!1),[se,de]=(0,n.useState)(""),re=async()=>{B(!0);let e=await(0,c.x4)("superAdmin"===f.role?"api/contact/":"api/contact/?createBy=".concat(f._id));F(e.data),B(!1)},ce=async()=>{var e,t,l,n;B(!0);const i=await(0,c.x4)("api/custom-field/?moduleName=Contacts");R(null===i||void 0===i?void 0:i.data);const a={Header:"Action",accessor:"action",isSortable:!1,center:!0,cell:e=>{let{row:t}=e;return(0,g.jsx)(o.Text,{fontSize:"md",fontWeight:"900",textAlign:"center",children:(0,g.jsxs)(s.W1,{isLazy:!0,children:[(0,g.jsx)(s.IU,{children:(0,g.jsx)(r.txp,{})}),(0,g.jsxs)(s.cO,{minW:"fit-content",transform:"translate(1520px, 173px);",children:[(null===b||void 0===b?void 0:b.update)&&(0,g.jsx)(s.Dr,{py:2.5,icon:(0,g.jsx)(d.EditIcon,{fontSize:15,mb:1}),onClick:()=>{var e;M(!0),le(null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id)},children:"Edit"}),(null===z||void 0===z?void 0:z.create)&&(0,g.jsx)(s.Dr,{py:2.5,width:"165px",onClick:()=>{var e;q(!0),X(null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id)},icon:(0,g.jsx)(d.PhoneIcon,{fontSize:15,mb:1}),children:"Create Call"}),(null===C||void 0===C?void 0:C.create)&&(0,g.jsx)(s.Dr,{py:2.5,width:"165px",onClick:()=>{var e,l,n,i;n=null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id,i=null===t||void 0===t?void 0:t.original,n&&(de(null===i||void 0===i?void 0:i.email),ee(!0)),le(null===t||void 0===t||null===(l=t.values)||void 0===l?void 0:l._id)},icon:(0,g.jsx)(d.EmailIcon,{fontSize:15,mb:1}),children:"Send Email"}),(null===b||void 0===b?void 0:b.view)&&(0,g.jsx)(s.Dr,{py:2.5,color:"green",icon:(0,g.jsx)(d.ViewIcon,{mb:1,fontSize:15}),onClick:()=>{var e;S("/contactView/".concat(null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id))},children:"View"}),(null===b||void 0===b?void 0:b.delete)&&(0,g.jsx)(s.Dr,{py:2.5,color:"red",icon:(0,g.jsx)(d.DeleteIcon,{fontSize:15,mb:1}),onClick:()=>{var e;$(!0),ie([null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id])},children:"Delete"})]})]})})}},u=[{Header:"#",accessor:"_id",isSortable:!1,width:10},...null===i||void 0===i||null===(e=i.data)||void 0===e||null===(t=e[0])||void 0===t||null===(l=t.fields)||void 0===l||null===(n=l.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||void 0===n?void 0:n.map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name}))),...null!==b&&void 0!==b&&b.update||null!==b&&void 0!==b&&b.view||null!==b&&void 0!==b&&b.delete?[a]:[]];E(JSON.parse(JSON.stringify(u))),N(JSON.parse(JSON.stringify(u))),N(u),O(JSON.parse(JSON.stringify(u))),B(!1)};return(0,n.useEffect)((()=>{re(),ce()}),[L]),(0,n.useEffect)((()=>{_(null===w||void 0===w?void 0:w.filter((e=>null===k||void 0===k?void 0:k.find((t=>(null===t||void 0===t?void 0:t.Header)===e.Header)))))}),[w,k]),(0,g.jsxs)("div",{children:[(0,g.jsx)(o.Grid,{templateColumns:"repeat(6, 1fr)",mb:3,gap:4,children:!I&&(0,g.jsx)(o.GridItem,{colSpan:6,children:(0,g.jsx)(p.A,{title:"Contacts",isLoding:I,columnData:T,dataColumn:W,allData:A,tableData:A,tableCustomFields:(null===J||void 0===J||null===(e=J[0])||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],access:b,action:L,setAction:G,selectedColumns:k,setSelectedColumns:E,isOpen:V,onClose:onclose,onOpen:P,selectedValues:ne,setSelectedValues:ie,setDelete:$,setIsImport:oe})})}),V&&(0,g.jsx)(u.A,{isOpen:V,size:"lg",contactData:J[0],onClose:H,setAction:G,action:L}),U&&(0,g.jsx)(m.A,{isOpen:U,size:"lg",contactData:J[0],selectedId:te,setSelectedId:le,onClose:M,setAction:G,moduleId:null===J||void 0===J||null===(l=J[0])||void 0===l?void 0:l._id}),Q&&(0,g.jsx)(D.A,{isOpen:Q,onClose:()=>$(!1),type:"Contacts",handleDeleteData:async e=>{try{B(!0),200===(await(0,c.Vn)("api/contact/deleteMany",e)).status&&(ie([]),$(!1),G((e=>!e)))}catch(t){console.log(t)}finally{B(!1)}},ids:ne}),Y&&(0,g.jsx)(x.A,{fetchData:re,isOpen:Y,onClose:ee,id:te,contactEmail:se}),Z&&(0,g.jsx)(v.A,{fetchData:re,isOpen:Z,onClose:q,id:K}),ae&&(0,g.jsx)(y,{text:"Contact file",isOpen:ae,onClose:oe,customFields:(null===J||void 0===J||null===(j=J[0])||void 0===j?void 0:j.fields)||[]})]})}},6:(e,t,l)=>{l.d(t,{A:()=>h});var n=l(9942),i=l(4450),a=l(8510),o=l(7682),s=l(3186),d=l(2554),r=l(9488),c=l(3516),u=l(5043),m=l(9849),x=l(6305),v=l(579);const h=e=>{const{onClose:t,isOpen:l,fetchData:h,setAction:p}=e,j=JSON.parse(localStorage.getItem("user")),[f,S]=(0,u.useState)(!1),b={sender:null===j||void 0===j?void 0:j._id,recipient:"true"!==e.lead?null===e||void 0===e?void 0:e.contactEmail:null===e||void 0===e?void 0:e.leadEmail,subject:"",message:"",createByContact:"",createByLead:"",startDate:"",endDate:"",createBy:null===j||void 0===j?void 0:j._id},C=(0,c.Wx)({initialValues:b,validationSchema:m.y4,enableReinitialize:!0,onSubmit:(e,t)=>{let{resetForm:l}=t;F(),l()}}),{errors:g,touched:y,values:D,handleBlur:z,handleChange:I,handleSubmit:B,setFieldValue:A}=C,F=async()=>{try{S(!0),200===(await(0,x.d_)("api/email/add",D)).status&&(e.onClose(),h(),p((e=>!e)))}catch(t){console.log(t)}finally{S(!1)}};return(0,u.useEffect)((()=>{e.id&&"true"!==e.lead?A("createByContact",e.id):e.id&&"true"===e.lead&&A("createByLead",e.id)}),[e.id,e.lead]),(0,v.jsxs)(n.aF,{onClose:t,isOpen:l,isCentered:!0,children:[(0,v.jsx)(n.mH,{}),(0,v.jsxs)(n.$m,{children:[(0,v.jsx)(n.rQ,{children:"Send Email "}),(0,v.jsx)(n.s_,{}),(0,v.jsx)(n.cw,{children:(0,v.jsxs)(i.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,v.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,v.jsxs)(a.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Recipient",(0,v.jsx)(i.Text,{color:"red",children:"*"})]}),(0,v.jsx)(o.Input,{fontSize:"sm",onChange:I,onBlur:z,value:D.recipient,name:"recipient",disabled:!0,placeholder:"Recipient",fontWeight:"500",borderColor:g.recipient&&y.recipient?"red.300":null}),(0,v.jsxs)(i.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",g.recipient&&y.recipient&&g.recipient]})]}),(0,v.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,v.jsx)(a.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Subject"}),(0,v.jsx)(o.Input,{fontSize:"sm",placeholder:"Enter subject",onChange:I,onBlur:z,value:D.subject,name:"subject",fontWeight:"500",borderColor:g.subject&&y.subject?"red.300":null}),(0,v.jsxs)(i.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",g.subject&&y.subject&&g.subject]})]}),(0,v.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,v.jsxs)(a.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Start Date",(0,v.jsx)(i.Text,{color:"red",children:"*"})]}),(0,v.jsx)(o.Input,{type:"datetime-local",fontSize:"sm",onChange:I,onBlur:z,value:D.startDate,name:"startDate",fontWeight:"500",borderColor:null!==g&&void 0!==g&&g.startDate&&null!==y&&void 0!==y&&y.startDate?"red.300":null}),(0,v.jsxs)(i.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",g.startDate&&y.startDate&&g.startDate]})]}),(0,v.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,v.jsx)(a.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"End Date"}),(0,v.jsx)(o.Input,{type:"datetime-local",fontSize:"sm",min:D.startDate,onChange:I,onBlur:z,value:D.endDate,name:"endDate",fontWeight:"500",borderColor:null!==g&&void 0!==g&&g.endDate&&null!==y&&void 0!==y&&y.endDate?"red.300":null}),(0,v.jsxs)(i.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",g.endDate&&y.endDate&&g.endDate]})]}),(0,v.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,v.jsx)(a.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Message"}),(0,v.jsx)(s.T,{fontSize:"sm",placeholder:"Here Type message",resize:"none",onChange:I,onBlur:z,value:D.message,name:"message",fontWeight:"500",borderColor:g.message&&y.message?"red.300":null}),(0,v.jsxs)(i.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",g.message&&y.message&&g.message]})]})]})}),(0,v.jsxs)(n.jl,{children:[(0,v.jsx)(d.Button,{size:"sm",variant:"brand",onClick:B,disabled:!!f,children:f?(0,v.jsx)(r.A,{}):"Save"}),(0,v.jsx)(d.Button,{sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",size:"sm",onClick:()=>{C.resetForm(),t()},children:"Close"})]})]})]})}},9250:(e,t,l)=>{l.d(t,{A:()=>h});var n=l(9942),i=l(4450),a=l(8510),o=l(7682),s=l(3186),d=l(2554),r=l(9488),c=l(3516),u=l(5043),m=l(9849),x=l(6305),v=l(579);const h=e=>{const{onClose:t,isOpen:l,fetchData:h,setAction:p}=e,[j,f]=(0,u.useState)(!1),S=JSON.parse(localStorage.getItem("user")),b={sender:null===S||void 0===S?void 0:S._id,recipient:"",callDuration:"",callNotes:"",createByContact:"",createByLead:"",startDate:"",endDate:"",createBy:null===S||void 0===S?void 0:S._id},C=(0,c.Wx)({initialValues:b,validationSchema:m.Ar,onSubmit:(e,t)=>{let{resetForm:l}=t;F(),l()}}),{errors:g,touched:y,values:D,handleBlur:z,handleChange:I,handleSubmit:B,setFieldValue:A}=C,F=async()=>{try{f(!0),200===(await(0,x.d_)("api/phoneCall/add",D)).status&&(e.onClose(),h(),p((e=>!e)))}catch(t){console.log(t)}finally{f(!1)}};return(0,u.useEffect)((()=>{(async()=>{var t,l,n,i,a,o;if(null!==e&&void 0!==e&&null!==(t=e.viewData)&&void 0!==t&&null!==(l=t.lead)&&void 0!==l&&l.leadPhoneNumber){if(e.id&&"true"!==e.lead)A("recipient",null===e||void 0===e||null===(n=e.viewData)||void 0===n||null===(i=n.contact)||void 0===i?void 0:i.phoneNumber),A("createByContact",null===e||void 0===e?void 0:e.id),D.recipient=null===e||void 0===e||null===(a=e.viewData)||void 0===a||null===(o=a.contact)||void 0===o?void 0:o.phoneNumber;else if(e.id&&"true"===e.lead){let t=await(0,x.x4)("api/lead/view/",e.id);var s,d,r,c;200===(null===t||void 0===t?void 0:t.status)&&(A("recipient",null===t||void 0===t||null===(s=t.data)||void 0===s||null===(d=s.lead)||void 0===d?void 0:d.leadPhoneNumber),A("createByLead",e.id),D.recipient=null===t||void 0===t||null===(r=t.data)||void 0===r||null===(c=r.lead)||void 0===c?void 0:c.leadPhoneNumber)}}else if(e.id&&"true"!==e.lead){let t=await(0,x.x4)("api/contact/view/",e.id);var u,m,v,h;200===(null===t||void 0===t?void 0:t.status)&&(A("recipient",null===t||void 0===t||null===(u=t.data)||void 0===u||null===(m=u.contact)||void 0===m?void 0:m.phoneNumber),A("createByContact",null===e||void 0===e?void 0:e.id),D.recipient=null===t||void 0===t||null===(v=t.data)||void 0===v||null===(h=v.contact)||void 0===h?void 0:h.phoneNumber)}else if(e.id&&"true"===e.lead){let t=await(0,x.x4)("api/lead/view/",e.id);var p,j,f,S;200===(null===t||void 0===t?void 0:t.status)&&(A("recipient",null===t||void 0===t||null===(p=t.data)||void 0===p||null===(j=p.lead)||void 0===j?void 0:j.leadPhoneNumber),A("createByLead",e.id),D.recipient=null===t||void 0===t||null===(f=t.data)||void 0===f||null===(S=f.lead)||void 0===S?void 0:S.leadPhoneNumber)}})()}),[e.id]),(0,v.jsxs)(n.aF,{onClose:t,isOpen:l,isCentered:!0,children:[(0,v.jsx)(n.mH,{}),(0,v.jsxs)(n.$m,{children:[(0,v.jsx)(n.rQ,{children:"Add Call "}),(0,v.jsx)(n.s_,{}),(0,v.jsx)(n.cw,{children:(0,v.jsxs)(i.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,v.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,v.jsxs)(a.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Recipient",(0,v.jsx)(i.Text,{color:"red",children:"*"})]}),(0,v.jsx)(o.Input,{fontSize:"sm",type:"number",disabled:!0,onChange:I,onBlur:z,value:D.recipient,name:"recipient",placeholder:"Recipient",fontWeight:"500",borderColor:g.recipient&&y.recipient?"red.300":null}),(0,v.jsxs)(i.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",g.recipient&&y.recipient&&g.recipient]})]}),(0,v.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,v.jsxs)(a.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Start Date",(0,v.jsx)(i.Text,{color:"red",children:"*"})]}),(0,v.jsx)(o.Input,{type:"datetime-local",fontSize:"sm",onChange:I,onBlur:z,value:D.startDate,name:"startDate",fontWeight:"500",borderColor:null!==g&&void 0!==g&&g.startDate&&null!==y&&void 0!==y&&y.startDate?"red.300":null}),(0,v.jsxs)(i.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",g.startDate&&y.startDate&&g.startDate]})]}),(0,v.jsxs)(i.GridItem,{colSpan:{base:12,md:6},children:[(0,v.jsx)(a.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"End Date"}),(0,v.jsx)(o.Input,{type:"datetime-local",fontSize:"sm",min:D.startDate,onChange:I,onBlur:z,value:D.endDate,name:"endDate",fontWeight:"500",borderColor:null!==g&&void 0!==g&&g.endDate&&null!==y&&void 0!==y&&y.endDate?"red.300":null}),(0,v.jsxs)(i.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",g.endDate&&y.endDate&&g.endDate]})]}),(0,v.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,v.jsxs)(a.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Call Duration",(0,v.jsx)(i.Text,{color:"red",children:"*"})]}),(0,v.jsx)(o.Input,{fontSize:"sm",onChange:I,onBlur:z,value:D.callDuration,name:"callDuration",placeholder:"call Duration",fontWeight:"500",borderColor:g.callDuration&&y.callDuration?"red.300":null}),(0,v.jsxs)(i.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",g.callDuration&&y.callDuration&&g.callDuration]})]}),(0,v.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,v.jsx)(a.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Call Notes"}),(0,v.jsx)(s.T,{resize:"none",fontSize:"sm",placeholder:"Enter Call Notes",onChange:I,onBlur:z,value:D.callNotes,name:"callNotes",fontWeight:"500",borderColor:g.callNotes&&y.callNotes?"red.300":null}),(0,v.jsxs)(i.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",g.callNotes&&y.callNotes&&g.callNotes]})]})]})}),(0,v.jsxs)(n.jl,{children:[(0,v.jsx)(d.Button,{size:"sm",variant:"brand",disabled:!!j,onClick:B,children:j?(0,v.jsx)(r.A,{}):"Save"}),(0,v.jsx)(d.Button,{size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",onClick:()=>{C.resetForm(),t()},children:"Close"})]})]})]})}},3186:(e,t,l)=>{l.d(t,{T:()=>r});var n=l(8510),i=l(9522),a=l(835),o=l(5043);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},s.apply(this,arguments)}var d=["className","rows"],r=(0,i.Rf)((function(e,t){var l=(0,i.Vl)("Textarea",e),r=(0,i.MN)(e),c=r.className,u=r.rows,m=function(e,t){if(null==e)return{};var l,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)l=a[n],t.indexOf(l)>=0||(i[l]=e[l]);return i}(r,d),x=(0,n.useFormControl)(m),v=u?(0,a.cJ)(l,["h","minH","height","minHeight"]):l;return o.createElement(i.Bv.textarea,s({ref:t,rows:u},x,{className:(0,a.cx)("chakra-textarea",c),__css:v}))}));a.gt&&(r.displayName="Textarea")}}]);
//# sourceMappingURL=597.8852aa0d.chunk.js.map