"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[319],{962:(e,l,n)=>{n.d(l,{A:()=>L});var o=n(4034),i=n(4450),t=n(5376),a=n(858),s=n(5043),d=n(243),r=n(1009),c=n(4960),u=n(7149),x=n(3216),m=n(9942),h=n(2554),p=n(6305),v=n(579);const g=e=>(0,v.jsx)("div",{children:(0,v.jsxs)(m.aF,{onClose:e.onClose,isOpen:e.isOpen,isCentered:!0,children:[(0,v.jsx)(m.mH,{}),(0,v.jsxs)(m.$m,{children:[(0,v.jsxs)(m.rQ,{children:["Delete Document","one"===e.method?"":"s"]}),(0,v.jsx)(m.s_,{}),(0,v.jsxs)(m.cw,{children:["Are You Sure To Delete selected Document","one"===e.method?"":"s"," ?"]}),(0,v.jsxs)(m.jl,{children:[(0,v.jsx)(h.Button,{size:"sm",colorScheme:"red",mr:2,onClick:async()=>{if("one"===e.method)e.deleteFile(e.id),e.onClose(!1);else if("many"===e.method)try{200===(await(0,p.Vn)(e.url,e.data)).status&&(e.setSelectedValues([]),e.onClose(!1))}catch(l){console.log(l)}},children:"Yes"}),(0,v.jsx)(h.Button,{size:"sm",variant:"outline",onClick:()=>{e.onClose(!1)},children:"No"})]})]})]})});var j=n(8510),f=n(5104),S=n(4626),C=n(3516),b=n(2145),k=n(9565),y=n(1125),w=n(3388);const A=e=>{const{setLinkDocument:l}=e,[n,t]=(0,s.useState)(!1),[a,d]=(0,s.useState)([]),[r,c]=(0,s.useState)(!1),[u,x]=(0,s.useState)(!1),g=JSON.parse(localStorage.getItem("user")),A=(0,C.Wx)({initialValues:{linkWith:"",linkContact:"",linkLead:""},onSubmit:(e,l)=>{let{resetForm:n}=l;W(),n()}}),{errors:N,touched:L,values:F,handleBlur:z,handleChange:I,handleSubmit:T,setFieldValue:H,resetForm:P}=A,W=async()=>{try{t(!0);let o=F.linkContact?{linkContact:F.linkContact}:{linkLead:F.linkLead},i=await(0,p.d_)("api/document/link-document/".concat(e.id),o);var n;if(i&&200===i.status)l((e=>!e)),e.onClose();else b.oR.error(null===(n=i.response.data)||void 0===n?void 0:n.message)}catch(o){console.log(o)}finally{t(!1)}};return(0,s.useEffect)((()=>{(async()=>{if("Contact"===F.linkWith){let e=await(0,p.x4)("superAdmin"===g.role?"api/contact/":"api/contact/?createBy=".concat(g._id));F.createBy=null===e||void 0===e?void 0:e._id,d((l=>{var n;return[...(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.map((e=>({label:e.firstName+" "+e.lastName,value:e._id}))))||[]]}))}else if("lead"===F.linkWith){let e=await(0,p.x4)("superAdmin"===g.role?"api/lead/":"api/lead/?createBy=".concat(g._id));F.createBy=null===e||void 0===e?void 0:e._id,d((l=>{var n;return[...(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.map((e=>({label:e.leadName,value:e._id}))))||[]]}))}})()}),[F.linkWith]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(m.aF,{onClose:e.onClose,isOpen:e.isOpen,children:[(0,v.jsx)(m.mH,{}),(0,v.jsxs)(m.$m,{children:[(0,v.jsx)(m.rQ,{children:"Link With Document"}),(0,v.jsx)(m.s_,{}),(0,v.jsx)(m.cw,{children:(0,v.jsxs)(i.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,v.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,v.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Link With"}),(0,v.jsx)(f.z6,{onChange:e=>{P(),H("linkWith",e)},value:F.linkWith,children:(0,v.jsxs)(i.Stack,{direction:"row",children:[(0,v.jsx)(f.sx,{value:"Contact",children:"Contact"}),(0,v.jsx)(f.sx,{value:"lead",children:"Lead"})]})}),(0,v.jsxs)(i.Text,{mb:"10px",color:"red",children:[" ",N.linkWith&&L.linkWith&&N.linkWith]})]}),"Contact"===F.linkWith?(0,v.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,v.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Link Contact"}),(0,v.jsxs)(i.Flex,{children:[(0,v.jsx)(S.l6,{value:F.linkContact,name:"linkContact",onChange:I,mb:N.linkContact&&L.linkContact?void 0:"10px",fontWeight:"500",placeholder:"Link Contact",borderColor:N.linkContact&&L.linkContact?"red.300":null,children:null===a||void 0===a?void 0:a.map((e=>(0,v.jsx)("option",{value:e.value,children:"Contact"===F.linkWith&&"".concat(e.label)},e.value)))}),(0,v.jsx)(h.IconButton,{onClick:()=>c(!0),ml:2,fontSize:"25px",icon:(0,v.jsx)(w.G2h,{})}),(0,v.jsxs)(i.Text,{mb:"10px",color:"red",children:[" ",N.linkContact&&L.linkContact&&N.linkContact]})]})]}):"lead"===F.linkWith&&(0,v.jsxs)(i.GridItem,{colSpan:{base:12},children:[console.log(a),(0,v.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Link Lead"}),(0,v.jsxs)(i.Flex,{children:[(0,v.jsx)(S.l6,{value:F.linkLead,name:"linkLead",onChange:I,mb:N.linkLead&&L.linkLead?void 0:"10px",fontWeight:"500",placeholder:"Link Lead",borderColor:N.linkLead&&L.linkLead?"red.300":null,children:null===a||void 0===a?void 0:a.map((e=>(0,v.jsx)("option",{value:e.value,children:"lead"===F.linkWith&&"".concat(e.label)},e.value)))}),(0,v.jsx)(h.IconButton,{onClick:()=>c(!0),ml:2,fontSize:"25px",icon:(0,v.jsx)(w.G2h,{})}),(0,v.jsxs)(i.Text,{mb:"10px",color:"red",children:[" ",N.linkLead&&L.linkLead&&N.linkLead]})]}),(0,v.jsxs)(i.Text,{mb:"10px",color:"red",children:[" ",N.linkLead&&L.linkLead&&N.linkLead]})]})]})}),(0,v.jsxs)(m.jl,{children:[(0,v.jsx)(h.Button,{size:"sm",colorScheme:"brand",rightIcon:(0,v.jsx)(o.LinkIcon,{}),mr:2,onClick:W,children:"Link"}),(0,v.jsx)(h.Button,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>{e.onClose(!1),P()},children:"Cancel"})]})]})]}),(0,v.jsx)(k.A,{data:a,isOpen:r,onClose:c,fieldName:"linkContact",setFieldValue:H}),(0,v.jsx)(y.A,{data:a,isOpen:u,onClose:x,fieldName:"linkLead",setFieldValue:H})]})};var N=n(7368);const L=e=>{let{data:l,deleteFile:n,item:m,download:h,name:p,isFile:j,children:f,setLinkDocument:S,from:C}=e;const[b,k]=(0,s.useState)(!1),[y,w]=(0,s.useState)(!1),[L,F]=(0,s.useState)(!1),[z,I]=(0,s.useState)(!1),T=(0,x.Zp)(),H=!j&&!!f;JSON.parse(localStorage.getItem("user"));return(0,v.jsxs)(i.List,{width:"100%",children:[(0,v.jsx)(i.ListItem,{alignItems:"center",display:"flex",children:(0,v.jsxs)(i.Text,{alignItems:"center",justifyContent:"space-between",display:"flex",width:"100%",onClick:H?()=>{k(!b)}:void 0,_hover:{cursor:"pointer",textDecoration:"none"},children:[(0,v.jsxs)(i.Flex,{width:"70%",alignItems:"center",children:[(0,v.jsx)(i.ListIcon,{as:j?r.QuH:d.NVk}),H&&(b?(0,v.jsx)(r.fK4,{}):(0,v.jsx)(r.fOo,{})),p]}),null!==m&&void 0!==m&&m.createByName?(0,v.jsxs)(i.Text,{children:["(",null===m||void 0===m?void 0:m.createByName,") "]}):null,!H&&(0,v.jsx)(i.Flex,{justifyContent:"right",width:"100%",children:(0,v.jsxs)(t.W1,{isLazy:!0,children:[(0,v.jsx)(t.IU,{children:(0,v.jsx)(N.txp,{})}),(0,v.jsxs)(t.cO,{position:"absolute",right:-5,pl:"0.5em",minW:"fit-content",children:[!C&&null!==l&&void 0!==l&&l.linkContact?(0,v.jsx)(t.Dr,{pr:2,w:"180px",onClick:()=>T("/contactView/".concat(null===l||void 0===l?void 0:l.linkContact)),icon:(0,v.jsx)(c.oau,{fontSize:15}),children:"Linked Contact"}):!C&&(null===l||void 0===l?void 0:l.linkLead)&&(0,v.jsx)(t.Dr,{pr:2,w:"180px",onClick:()=>T("/leadView/".concat(null===l||void 0===l?void 0:l.linkLead)),icon:(0,v.jsx)(u.ju$,{fontSize:15}),children:"Linked Lead"}),!C&&(0,v.jsx)(t.Dr,{pr:10,alignItems:"start",color:"blue",onClick:()=>(e=>{F(!0),I(e)})(null===l||void 0===l?void 0:l._id),icon:(0,v.jsx)(o.LinkIcon,{fontSize:15}),children:"Link"}),function(e){const l=e.substring(e.lastIndexOf(".")).toLowerCase();return[".jpg",".jpeg",".png",".gif",".bmp"].includes(l)}(null===l||void 0===l?void 0:l.img)&&(0,v.jsx)(t.Dr,{alignItems:"start",pr:10,color:"green",onClick:()=>window.open(null===l||void 0===l?void 0:l.img),icon:(0,v.jsx)(o.ViewIcon,{fontSize:15}),children:"View"}),(0,v.jsx)(t.Dr,{pr:10,alignItems:"start",onClick:()=>(e=>{h(e)})(null===l||void 0===l?void 0:l._id),icon:(0,v.jsx)(o.DownloadIcon,{fontSize:15}),children:"Download"}),!C&&(0,v.jsx)(t.Dr,{alignItems:"start",pr:10,color:"red",onClick:()=>(e=>{w(!0),I(e)})(null===l||void 0===l?void 0:l._id),icon:(0,v.jsx)(o.DeleteIcon,{fontSize:15}),children:"Delete"})]})]})}),(0,v.jsx)(g,{isOpen:y,onClose:w,method:"one",deleteFile:n,id:z}),(0,v.jsx)(A,{isOpen:L,setLinkDocument:S,onClose:F,id:z})]})}),H&&(0,v.jsx)(a.SD,{in:b,animateOpacity:!0,children:(0,v.jsx)(i.List,{styleType:"disc",ml:4,children:f})})]})}},1046:(e,l,n)=>{n.d(l,{A:()=>p});var o=n(9379),i=n(1206),t=n(4450),a=n(1778),s=n(5066),d=n(5043),r=n(1094),c=n(216),u=n(6914),x=n(8152),m=n(5369),h=n(579);function p(e){const{columnsData:l,tableData:n,title:p,type:v,selectedValues:g,setSelectedValues:j}=e,f=(0,d.useMemo)((()=>l),[l]),S=(0,d.useMemo)((()=>n),[n]),[C,b]=(JSON.parse(localStorage.getItem("user")),(0,d.useState)()),k=(0,r.useTable)({columns:f,data:S,initialState:{pageIndex:0}},r.useGlobalFilter,r.useSortBy,r.usePagination),{getTableProps:y,getTableBodyProps:w,headerGroups:A,prepareRow:N,page:L,canPreviousPage:F,canNextPage:z,pageOptions:I,pageCount:T,gotoPage:H,nextPage:P,previousPage:W,setPageSize:B,state:{pageIndex:D,pageSize:O}}=k;I.length<C&&b(I.length);const G=(0,i.dU)("gray.500","white"),V=(0,i.dU)("gray.200","whiteAlpha.100"),_=(e,l)=>{"multi"===v?e.target.checked?j((e=>[...e,l])):j((e=>e.filter((e=>e!==l)))):e.target.checked?j(l):j(null)};return(0,h.jsxs)(c.A,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,h.jsx)(t.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:(0,h.jsxs)(t.Text,{color:G,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:[p,"  (",(0,h.jsx)(u.A,{targetNumber:null===S||void 0===S?void 0:S.length},null===S||void 0===S?void 0:S.length),")"]})}),(0,h.jsx)(t.Box,{overflowY:"auto",className:"table-container-property",children:(0,h.jsxs)(a.XI,(0,o.A)((0,o.A)({},y()),{},{variant:"simple",color:"gray.500",mb:"24px",children:[(0,h.jsx)(a.d8,{zIndex:1,children:null===A||void 0===A?void 0:A.map(((e,l)=>(0,d.createElement)(a.Tr,(0,o.A)((0,o.A)({},e.getHeaderGroupProps()),{},{key:l}),e.headers.map(((e,l)=>(0,d.createElement)(a.Th,(0,o.A)((0,o.A)({},e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps())),{},{pe:"10px",key:l,borderColor:V}),(0,h.jsxs)(t.Flex,{align:"center",justifyContent:e.center?"center":"start",fontSize:{sm:"14px",lg:"16px"},color:" secondaryGray.900",children:[(0,h.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")}),!1!==e.isSortable&&(0,h.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,h.jsx)(m.GOR,{}):(0,h.jsx)(m.XhJ,{}):(0,h.jsx)(m.MjW,{})})]})))))))}),(0,h.jsxs)(a.NN,(0,o.A)((0,o.A)({},w()),{},{children:[0===(null===S||void 0===S?void 0:S.length)&&(0,h.jsx)(a.Tr,{children:(0,h.jsx)(a.Td,{colSpan:f.length,children:(0,h.jsx)(t.Text,{textAlign:"center",width:"100%",color:G,fontSize:"sm",fontWeight:"700",children:"-- No Data Found --"})})}),null===L||void 0===L?void 0:L.map(((e,l)=>{var n;return N(e),(0,d.createElement)(a.Tr,(0,o.A)((0,o.A)({},null===e||void 0===e?void 0:e.getRowProps()),{},{key:l}),null===e||void 0===e||null===(n=e.cells)||void 0===n?void 0:n.map(((e,l)=>{let n="";var i;"#"===(null===e||void 0===e?void 0:e.column.Header)?n=(0,h.jsxs)(t.Flex,{align:"center",children:["multi"===v?(0,h.jsx)(s.Sc,{colorScheme:"brandScheme",value:g,isChecked:g.includes(null===e||void 0===e?void 0:e.value),onChange:l=>_(l,null===e||void 0===e?void 0:e.value),me:"10px"}):(0,h.jsx)(s.Sc,{colorScheme:"brandScheme",value:g,isChecked:g===(null===e||void 0===e?void 0:e.value),onChange:l=>_(l,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,h.jsx)(t.Text,{color:G,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(i=e.row)||void 0===i?void 0:i.index)+1})]}):"title"===(null===e||void 0===e?void 0:e.column.Header)||"first Name"===(null===e||void 0===e?void 0:e.column.Header)||"last Name"===(null===e||void 0===e?void 0:e.column.Header)?n=(0,h.jsx)(t.Text,{me:"10px",color:G,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):"phone Number"===(null===e||void 0===e?void 0:e.column.Header)||"Email Address"===(null===e||void 0===e?void 0:e.column.Header)?n=(0,h.jsx)(t.Text,{fontSize:"sm",fontWeight:"700",color:G,children:null===e||void 0===e?void 0:e.value}):("physical Address"===(null===e||void 0===e?void 0:e.column.Header)||"mailing Address"===(null===e||void 0===e?void 0:e.column.Header)||"Contact Method"===(null===e||void 0===e?void 0:e.column.Header))&&(n=(0,h.jsx)(t.Text,{color:G,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}));return(0,d.createElement)(a.Td,(0,o.A)((0,o.A)({},null===e||void 0===e?void 0:e.getCellProps()),{},{key:l,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"}),n)})))}))]}))]}))}),(null===S||void 0===S?void 0:S.length)>5&&(0,h.jsx)(x.A,{gotoPage:H,gopageValue:C,setGopageValue:b,pageCount:T,canPreviousPage:F,previousPage:W,canNextPage:z,pageOptions:I,setPageSize:B,nextPage:P,pageSize:O,pageIndex:D})]})}},9565:(e,l,n)=>{n.d(l,{A:()=>u});var o=n(9942),i=n(4450),t=n(2554),a=n(5043),s=n(1046),d=n(9488),r=n(8860),c=n(579);const u=e=>{const{onClose:l,isOpen:n,fieldName:u,setFieldValue:x,data:m}=e,[h,p]=(0,a.useState)(),[v,g]=(0,a.useState)(!1);JSON.parse(localStorage.getItem("user"));return(0,c.jsxs)(o.aF,{onClose:l,size:"full",isOpen:n,children:[(0,c.jsx)(o.mH,{}),(0,c.jsxs)(o.$m,{children:[(0,c.jsx)(o.rQ,{children:"Select Contact"}),(0,c.jsx)(o.s_,{}),(0,c.jsx)(o.cw,{children:v?(0,c.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,c.jsx)(d.A,{})}):(0,c.jsx)(s.A,{tableData:m,selectedValues:h,setSelectedValues:p,columnsData:[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"title",accessor:"title"},{Header:"first Name",accessor:"firstName"},{Header:"last Name",accessor:"lastName"},{Header:"phone Number",accessor:"phoneNumber"},{Header:"Email Address",accessor:"email"},{Header:"physical Address",accessor:"physicalAddress"},{Header:"mailing Address",accessor:"mailingAddress"},{Header:"Contact Method",accessor:"preferredContactMethod"}],title:"Contact"})}),(0,c.jsxs)(o.jl,{children:[(0,c.jsxs)(t.Button,{variant:"brand",size:"sm",me:2,onClick:async()=>{try{g(!0),x(u,h),l()}catch(e){console.log(e)}finally{g(!1)}},disabled:!!v,leftIcon:(0,c.jsx)(r.NLY,{}),children:[" ",v?(0,c.jsx)(d.A,{}):"Select"]}),(0,c.jsx)(t.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>l(),children:"Close"})]})]})]})}},7214:(e,l,n)=>{n.d(l,{A:()=>p});var o=n(9379),i=n(1206),t=n(4450),a=n(1778),s=n(5066),d=n(5043),r=n(1094),c=n(216),u=n(6914),x=n(8152),m=n(5369),h=n(579);function p(e){const{columnsData:l,tableData:n,title:p,type:v,selectedValues:g,setSelectedValues:j}=e,f=(0,d.useMemo)((()=>l),[l]),S=(0,d.useMemo)((()=>n),[n]),[C,b]=(JSON.parse(localStorage.getItem("user")),(0,d.useState)()),k=(0,r.useTable)({columns:f,data:S,initialState:{pageIndex:0}},r.useGlobalFilter,r.useSortBy,r.usePagination),{getTableProps:y,getTableBodyProps:w,headerGroups:A,prepareRow:N,page:L,canPreviousPage:F,canNextPage:z,pageOptions:I,pageCount:T,gotoPage:H,nextPage:P,previousPage:W,setPageSize:B,state:{pageIndex:D,pageSize:O}}=k;I.length<C&&b(I.length);const G=(0,i.dU)("gray.500","white"),V=(0,i.dU)("gray.200","whiteAlpha.100"),_=(e,l)=>{"multi"===v?e.target.checked?j((e=>[...e,l])):j((e=>e.filter((e=>e!==l)))):e.target.checked?j(l):j(null)};return(0,h.jsxs)(c.A,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,h.jsx)(t.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:(0,h.jsxs)(t.Text,{color:G,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:[p,"  (",(0,h.jsx)(u.A,{targetNumber:null===S||void 0===S?void 0:S.length},null===S||void 0===S?void 0:S.length),")"]})}),(0,h.jsx)(t.Box,{overflowY:"auto",className:"table-container-property",children:(0,h.jsxs)(a.XI,(0,o.A)((0,o.A)({},y()),{},{variant:"simple",color:"gray.500",mb:"24px",children:[(0,h.jsx)(a.d8,{zIndex:1,children:null===A||void 0===A?void 0:A.map(((e,l)=>(0,d.createElement)(a.Tr,(0,o.A)((0,o.A)({},e.getHeaderGroupProps()),{},{key:l}),e.headers.map(((e,l)=>(0,d.createElement)(a.Th,(0,o.A)((0,o.A)({},e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps())),{},{pe:"10px",key:l,borderColor:V}),(0,h.jsxs)(t.Flex,{align:"center",justifyContent:e.center?"center":"start",fontSize:{sm:"14px",lg:"16px"},color:" secondaryGray.900",children:[(0,h.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")}),!1!==e.isSortable&&(0,h.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,h.jsx)(m.GOR,{}):(0,h.jsx)(m.XhJ,{}):(0,h.jsx)(m.MjW,{})})]})))))))}),(0,h.jsxs)(a.NN,(0,o.A)((0,o.A)({},w()),{},{children:[0===(null===S||void 0===S?void 0:S.length)&&(0,h.jsx)(a.Tr,{children:(0,h.jsx)(a.Td,{colSpan:f.length,children:(0,h.jsx)(t.Text,{textAlign:"center",width:"100%",color:G,fontSize:"sm",fontWeight:"700",children:"-- No Data Found --"})})}),null===L||void 0===L?void 0:L.map(((e,l)=>{var n;return N(e),(0,d.createElement)(a.Tr,(0,o.A)((0,o.A)({},null===e||void 0===e?void 0:e.getRowProps()),{},{key:l}),null===e||void 0===e||null===(n=e.cells)||void 0===n?void 0:n.map(((e,l)=>{let n="";var i;"#"===(null===e||void 0===e?void 0:e.column.Header)?n=(0,h.jsxs)(t.Flex,{align:"center",children:["multi"===v?(0,h.jsx)(s.Sc,{colorScheme:"brandScheme",value:g,isChecked:g.includes(null===e||void 0===e?void 0:e.value),onChange:l=>_(l,null===e||void 0===e?void 0:e.value),me:"10px"}):(0,h.jsx)(s.Sc,{colorScheme:"brandScheme",value:g,isChecked:g===(null===e||void 0===e?void 0:e.value),onChange:l=>_(l,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,h.jsx)(t.Text,{color:G,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(i=e.row)||void 0===i?void 0:i.index)+1})]}):"Lead Name"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Email"===(null===e||void 0===e?void 0:e.column.Header)||"Lead PhoneNumber"===(null===e||void 0===e?void 0:e.column.Header)?n=(0,h.jsx)(t.Text,{me:"10px",color:G,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):("Lead Address"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Status"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Owner"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Score"===(null===e||void 0===e?void 0:e.column.Header))&&(n=(0,h.jsx)(t.Text,{color:G,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}));return(0,d.createElement)(a.Td,(0,o.A)((0,o.A)({},null===e||void 0===e?void 0:e.getCellProps()),{},{key:l,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"}),n)})))}))]}))]}))}),(null===S||void 0===S?void 0:S.length)>5&&(0,h.jsx)(x.A,{gotoPage:H,gopageValue:C,setGopageValue:b,pageCount:T,canPreviousPage:F,previousPage:W,canNextPage:z,pageOptions:I,setPageSize:B,nextPage:P,pageSize:O,pageIndex:D})]})}},1125:(e,l,n)=>{n.d(l,{A:()=>u});var o=n(9942),i=n(4450),t=n(2554),a=n(5043),s=n(7214),d=n(9488),r=n(8860),c=n(579);const u=e=>{const{onClose:l,isOpen:n,fieldName:u,setFieldValue:x,data:m}=e,[h,p]=(0,a.useState)(),[v,g]=(0,a.useState)(!1);JSON.parse(localStorage.getItem("user"));return(0,c.jsxs)(o.aF,{onClose:l,size:"full",isOpen:n,children:[(0,c.jsx)(o.mH,{}),(0,c.jsxs)(o.$m,{children:[(0,c.jsx)(o.rQ,{children:"Select Lead"}),(0,c.jsx)(o.s_,{}),(0,c.jsx)(o.cw,{children:v?(0,c.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,c.jsx)(d.A,{})}):(0,c.jsx)(s.A,{tableData:m,selectedValues:h,setSelectedValues:p,columnsData:[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Lead Name",accessor:"leadName",width:20},{Header:"Lead Email",accessor:"leadEmail"},{Header:"Lead PhoneNumber",accessor:"leadPhoneNumber"},{Header:"Lead Address",accessor:"leadAddress"},{Header:"Lead Status",accessor:"leadStatus"},{Header:"Lead Owner",accessor:"leadOwner"},{Header:"Lead Score",accessor:"leadScore"}],title:"Lead"})}),(0,c.jsxs)(o.jl,{children:[(0,c.jsxs)(t.Button,{variant:"brand",size:"sm",me:2,onClick:async()=>{try{g(!0),x(u,h),l()}catch(e){console.log(e)}finally{g(!1)}},disabled:!!v,leftIcon:(0,c.jsx)(r.NLY,{}),children:[" ",v?(0,c.jsx)(d.A,{}):"Select"]}),(0,c.jsx)(t.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>l(),children:"Close"})]})]})]})}},8966:(e,l,n)=>{n.d(l,{A:()=>u});var o=n(45),i=n(1206),t=n(4450),a=n(3458),s=n(1997),d=n(7149),r=n(579);const c=["used","total","count"];function u(e){const{used:l,total:n,count:u}=e,x=((0,o.A)(e,c),(0,i.dU)("secondaryGray.900","white")),m=(0,i.dU)("brand.500","white");return(0,r.jsxs)(t.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,r.jsx)(t.GridItem,{colSpan:{base:12,"2xl":5},children:(0,r.jsx)(s.A,{w:{base:"100%","2xl":"240px"},me:"36px",minH:200,height:"100%",onFileSelect:e.onFileSelect,content:(0,r.jsxs)(t.Box,{children:[(0,r.jsx)(a.In,{as:d.vpy,w:"70px",h:"70px",color:m}),(0,r.jsx)(t.Flex,{justify:"center",mx:"auto",mb:"12px",children:(0,r.jsx)(t.Text,{fontSize:"xl",fontWeight:"700",color:m,children:"Upload Files"})}),(0,r.jsx)(t.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:u>0&&(0,r.jsxs)(t.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:["Selected Files : ",u]})})]})})}),(0,r.jsx)(t.GridItem,{colSpan:{base:12,"2xl":7},children:(0,r.jsxs)(t.Flex,{direction:"column",children:[(0,r.jsx)(t.Text,{color:x,fontWeight:"bold",textAlign:"start",fontSize:"2xl",mt:{base:"20px","2xl":"50px"},children:"Upload Files"}),(0,r.jsx)(t.Text,{color:"gray.400",fontSize:"md",my:{base:"auto","2xl":"10px"},mx:"auto",textAlign:"start",children:"Accepted File Types (Images, PDFs, Word docs, Powerpoint, Excel, ZIP, and video files - 15MB max)"})]})})]})}},4319:(e,l,n)=>{n.r(l),n.d(l,{default:()=>C});var o=n(9754),i=n(4450),t=n(8510),a=n(7682),s=n(2554),d=n(962),r=n(216),c=n(3994),u=n(9488),x=n(2770),m=n(3516),h=n(5043),p=n(3216),v=n(2145),g=n(9849),j=n(6305),f=n(8966),S=n(579);const C=()=>{const[e,l]=(0,h.useState)([]),{isOpen:n,onOpen:C,onClose:b}=(0,o.j1)(),k=JSON.parse(localStorage.getItem("user")),[y,w]=(0,h.useState)(!1),[A,N]=(0,h.useState)(!1),L=async()=>{w(!0);let e=await(0,j.x4)("superAdmin"===k.role?"api/document":"api/document?createBy=".concat(k._id));l(null===e||void 0===e?void 0:e.data),w(!1)},F={folderName:"",files:"",filename:"",createBy:k._id},z=(0,m.Wx)({initialValues:F,validationSchema:g.L8,onSubmit:(e,l)=>{let{resetForm:n}=l;_()}}),{errors:I,touched:T,values:H,handleBlur:P,handleChange:W,handleSubmit:B,setFieldValue:D,resetForm:O}=z,G=((0,p.Zp)(),async e=>{if(e){let l=await(0,j.x4)("api/document/download/",e);l&&200===l.status?(window.open("".concat(x.d.baseUrl,"api/document/download/").concat(e)),v.oR.success("File Download successful")):l&&404===l.response.status&&v.oR.error("File Not Found")}}),V=async e=>{if(e){let l=await(0,j.Gx)("api/document/delete/",e);l&&200===l.status&&L()}},_=async()=>{try{w(!0);const e=new FormData;null===e||void 0===e||e.append("folderName",H.folderName),null===e||void 0===e||e.append("createBy",H.createBy),null===e||void 0===e||e.append("filename",H.filename),H.files.forEach((l=>{null===e||void 0===e||e.append("files",l)}));let l=await(0,j.d_)("api/document/add",e);l&&200===l.status&&(L(),z.resetForm())}catch(e){console.log(e)}finally{w(!1)}};return(0,h.useEffect)((()=>{L()}),[A,B]),(0,S.jsx)("div",{children:(0,S.jsxs)(i.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,S.jsx)(i.GridItem,{colSpan:{base:12,md:7},children:(0,S.jsxs)(r.A,{minH:"20em",children:[(0,S.jsx)(i.Heading,{size:"lg",mb:4,children:"File Explorer"}),(0,S.jsx)(c.E,{}),(0,S.jsx)(i.VStack,{mt:4,alignItems:"flex-start",children:y?(0,S.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,S.jsx)(u.A,{})}):0===(null===e||void 0===e?void 0:e.length)?(0,S.jsx)(i.Text,{textAlign:"center",width:"100%",fontSize:"sm",fontWeight:"700",children:"-- No Document Found --"}):null===e||void 0===e?void 0:e.map((e=>{var l;return(0,S.jsx)(d.A,{name:e.folderName,item:e,children:null===e||void 0===e||null===(l=e.files)||void 0===l?void 0:l.map((e=>(0,S.jsx)(d.A,{download:G,setLinkDocument:N,deleteFile:V,data:e,name:e.fileName,isFile:!0})))})}))})]})}),(0,S.jsx)(i.GridItem,{colSpan:{base:12,md:5},colStart:{base:1,md:8},children:(0,S.jsxs)(r.A,{children:[(0,S.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,S.jsxs)(t.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Folder Name",(0,S.jsx)(i.Text,{color:"red",children:"*"})]}),(0,S.jsx)(a.Input,{onFocus:C,fontSize:"sm",onChange:W,onBlur:()=>setTimeout(b,200),value:H.folderName,name:"folderName",placeholder:"Enter Folder Name",fontWeight:"500",borderColor:null!==I&&void 0!==I&&I.folderName&&null!==T&&void 0!==T&&T.folderName?"red.300":null}),n&&(null===H||void 0===H?void 0:H.folderName)&&(null===e||void 0===e?void 0:e.filter((e=>{var l,n;return null===e||void 0===e||null===(l=e.folderName)||void 0===l||null===(n=l.toLowerCase())||void 0===n?void 0:n.includes(null===H||void 0===H?void 0:H.folderName.toLowerCase())})).length)>0&&(0,S.jsx)(i.List,{position:"relative",border:"1px solid",bg:"gray.100",width:"100%",borderRadius:"0px 0px 20px 20px",lineHeight:1,children:null===e||void 0===e?void 0:e.filter((e=>{var l,n;return null===e||void 0===e||null===(l=e.folderName)||void 0===l||null===(n=l.toLowerCase())||void 0===n?void 0:n.includes(null===H||void 0===H?void 0:H.folderName.toLowerCase())})).map(((e,l)=>(0,S.jsx)(i.ListItem,{p:3,borderBottom:"2px solid #efefef",sx:{"&:last-child":{borderBottom:"none"}},cursor:"pointer",onClick:()=>{D("folderName",null===e||void 0===e?void 0:e.folderName)},children:null===e||void 0===e?void 0:e.folderName},null===e||void 0===e?void 0:e._id)))}),(0,S.jsxs)(i.Text,{mb:"10px",color:"red",children:[" ",I.folderName&&T.folderName&&I.folderName]})]}),(0,S.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,S.jsx)(t.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"File Name"}),(0,S.jsx)(a.Input,{fontSize:"sm",onChange:W,onBlur:()=>setTimeout(b,200),value:H.filename,name:"filename",placeholder:"Enter File Name",fontWeight:"500",borderColor:null!==I&&void 0!==I&&I.filename&&null!==T&&void 0!==T&&T.filename?"red.300":null}),(0,S.jsxs)(i.Text,{mb:"10px",color:"red",children:[" ",I.filename&&T.filename&&I.filename]})]}),(0,S.jsx)(f.A,{count:H.files.length,onFileSelect:e=>D("files",e)}),(0,S.jsx)(s.Button,{size:"sm",disabled:!!y,onClick:B,variant:"brand",fontWeight:"500",children:y?(0,S.jsx)(u.A,{}):"Publish now"})]})})]})})}}}]);
//# sourceMappingURL=319.cfb6c4cf.chunk.js.map