"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[129],{5747:(e,t,n)=>{n.d(t,{A:()=>C});var l=n(1206),i=n(4450),a=n(3458),o=n(9522),r=n(835),d=(n(646),n(5043));function s(e,t){if(null==e)return{};var n,l,i={},a=Object.keys(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||(i[n]=e[n]);return i}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},c.apply(this,arguments)}var u=["className","children"],v=(0,o.Rf)((function(e,t){var n=(0,o.IS)();return d.createElement(o.Bv.dt,c({ref:t},e,{className:(0,r.cx)("chakra-stat__label",e.className),__css:n.label}))}));r.gt&&(v.displayName="StatLabel");var x=(0,o.Rf)((function(e,t){var n=(0,o.IS)();return d.createElement(o.Bv.dd,c({ref:t},e,{className:(0,r.cx)("chakra-stat__help-text",e.className),__css:n.helpText}))}));r.gt&&(x.displayName="StatHelpText");var p=(0,o.Rf)((function(e,t){var n=(0,o.IS)();return d.createElement(o.Bv.dd,c({ref:t},e,{className:(0,r.cx)("chakra-stat__number",e.className),__css:c({},n.number,{fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"})}))}));r.gt&&(p.displayName="StatNumber");var h=function(e){return d.createElement(a.In,c({color:"red.400"},e),d.createElement("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"}))};r.gt&&(h.displayName="StatDownArrow");var m=function(e){return d.createElement(a.In,c({color:"green.400"},e),d.createElement("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"}))};r.gt&&(m.displayName="StatUpArrow");r.gt;var g=(0,o.Rf)((function(e,t){var n=(0,o.o5)("Stat",e),l=c({position:"relative",flex:"1 1 0%"},n.container),i=(0,o.MN)(e),a=i.className,v=i.children,x=s(i,u);return d.createElement(o.W$,{value:n},d.createElement(o.Bv.div,c({ref:t},x,{className:(0,r.cx)("chakra-stat",a),__css:l}),d.createElement("dl",null,v)))}));r.gt&&(g.displayName="Stat");var f=(0,o.Rf)((function(e,t){return d.createElement(o.Bv.div,c({},e,{ref:t,role:"group",className:(0,r.cx)("chakra-stat__group",e.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}}))}));r.gt&&(f.displayName="StatGroup");var b=n(216),j=n(6914),y=n(579);function C(e){const{startContent:t,endContent:n,name:a,growth:o,value:r}=e,d=(0,l.dU)("secondaryGray.900","white");return(0,y.jsx)(b.A,{cursor:"pointer",py:"15px",onClick:e.onClick,children:(0,y.jsxs)(i.Flex,{my:"auto",h:"100%",align:{base:"center",xl:"start"},justify:{base:"center",xl:"center"},children:[t,(0,y.jsxs)(g,{my:"auto",ms:t?"18px":"0px",children:[(0,y.jsx)(v,{lineHeight:"100%",color:"secondaryGray.600",fontSize:{base:e.fontsize?e.fontsize:"sm"},children:a}),(0,y.jsx)(p,{color:d,fontSize:{base:"2xl"},children:(0,y.jsx)(j.A,{targetNumber:r})}),o?(0,y.jsxs)(i.Flex,{align:"center",children:[(0,y.jsx)(i.Text,{color:"green.500",fontSize:"xs",fontWeight:"700",me:"5px",children:o}),(0,y.jsx)(i.Text,{color:"secondaryGray.600",fontSize:"xs",fontWeight:"400",children:"since last month"})]}):null]}),(0,y.jsx)(i.Flex,{ms:"auto",w:"max-content",children:n})]})})}},5970:(e,t,n)=>{n.d(t,{A:()=>d});var l=n(9379),i=n(45),a=(n(5043),n(4450)),o=n(579);const r=["icon"];function d(e){const{icon:t}=e,n=(0,i.A)(e,r);return(0,o.jsx)(a.Flex,(0,l.A)((0,l.A)({alignItems:"center",justifyContent:"center",borderRadius:"50%"},n),{},{children:t}))}},2129:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var l=n(1206),i=n(4450),a=n(3458),o=n(2554),r=n(3290),d=n(9522),s=n(835),c=n(5043);function u(e,t){if(null==e)return{};var n,l,i={},a=Object.keys(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||(i[n]=e[n]);return i}function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},v.apply(this,arguments)}(0,r.i7)({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}});var x=(0,r.i7)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),p=(0,r.i7)({"0%":{left:"-40%"},"100%":{left:"100%"}}),h=(0,r.i7)({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});function m(e){var t=e.value,n=void 0===t?0:t,l=e.min,i=e.max,a=e.valueText,o=e.getValueText,r=e.isIndeterminate,d=(0,s.w5)(n,l,i);return{bind:{"data-indeterminate":r?"":void 0,"aria-valuemax":i,"aria-valuemin":l,"aria-valuenow":r?void 0:n,"aria-valuetext":function(){if(null!=n)return(0,s.Tn)(o)?o(n,d):a}(),role:"progressbar"},percent:d,value:n}}var g=["size","isIndeterminate"],f=function(e){return c.createElement(d.Bv.circle,v({cx:50,cy:50,r:42,fill:"transparent"},e))};s.gt&&(f.displayName="Circle");var b=function(e){var t=e.size,n=e.isIndeterminate,l=u(e,g);return c.createElement(d.Bv.svg,v({viewBox:"0 0 100 100",__css:{width:t,height:t,animation:n?x+" 2s linear infinite":void 0}},l))};s.gt&&(b.displayName="Shape");s.gt;var j=(0,d.Bv)("div",{baseStyle:{fontSize:"0.24em",top:"50%",left:"50%",width:"100%",textAlign:"center",position:"absolute",transform:"translate(-50%, -50%)"}});s.gt&&(j.displayName="CircularProgressLabel");var y=["min","max","value","isIndeterminate"],C=["value","min","max","hasStripe","isAnimated","children","borderRadius","isIndeterminate","aria-label","aria-labelledby"];s.gt;var w=function(e){var t=e.min,n=e.max,l=e.value,i=e.isIndeterminate,a=u(e,y),o=m({value:l,min:t,max:n,isIndeterminate:i}),r=v({height:"100%"},(0,d.IS)().filledTrack);return c.createElement(d.Bv.div,v({style:v({width:o.percent+"%"},a.style)},o.bind,a,{__css:r}))},k=function(e){var t,n=(0,d.MN)(e),l=n.value,i=n.min,a=void 0===i?0:i,o=n.max,r=void 0===o?100:o,s=n.hasStripe,x=n.isAnimated,m=n.children,g=n.borderRadius,f=n.isIndeterminate,b=n["aria-label"],j=n["aria-labelledby"],y=u(n,C),k=(0,d.o5)("Progress",e),S=null!=g?g:null==(t=k.track)?void 0:t.borderRadius,A=v({},!f&&s&&x&&{animation:h+" 1s linear infinite"},f&&{position:"absolute",willChange:"left",minWidth:"50%",animation:p+" 1s ease infinite normal none running"}),B=v({overflow:"hidden",position:"relative"},k.track);return c.createElement(d.Bv.div,v({borderRadius:S,__css:B},y),c.createElement(d.W$,{value:k},c.createElement(w,{"aria-label":b,"aria-labelledby":j,min:a,max:r,value:l,isIndeterminate:f,css:A,borderRadius:S}),m))};s.gt&&(k.displayName="Progress");var S=n(4034),A=n(216),B=n(5747),I=n(5970),N=n(3994),E=n(9271),z=n(7149),_=n(3216),T=n(6305),D=n(3972),R=n(2019),P=n(5574),W=n(579);const F=e=>{const{data:t}=e;let n=[],l=[];null===t||void 0===t||t.forEach((e=>{e.name&&(n.push(e.name),l.push(e.length))}));const i={series:[{name:"Data",data:null===l||void 0===l?void 0:l.map((e=>e))}],options:{chart:{height:350,type:"bar"},plotOptions:{bar:{borderRadius:10,columnWidth:"40%"}},stroke:{width:2},grid:{row:{colors:["#fff","#f2f2f2"]}},xaxis:{categories:null===n||void 0===n?void 0:n.map((e=>e)),tickPlacement:"on"},fill:{type:"gradient",gradient:{shade:"light",type:"horizontal",shadeIntensity:.25,inverseColors:!0,opacityFrom:.85,opacityTo:.85,stops:[50,0,100]}}}};return(0,W.jsx)("div",{id:"chart",children:(0,W.jsx)(R.A,{options:i.options,series:i.series,type:"bar",height:350})})},G=e=>{var t,n,l;const{leadData:i}=e;const a=[i&&i.length>0?null===i||void 0===i||null===(t=i.filter((e=>"active"===(null===e||void 0===e?void 0:e.leadStatus))))||void 0===t?void 0:t.length:0,i&&i.length>0?null===i||void 0===i||null===(n=i.filter((e=>"pending"===(null===e||void 0===e?void 0:e.leadStatus))))||void 0===n?void 0:n.length:0,i&&i.length>0?null===i||void 0===i||null===(l=i.filter((e=>"sold"===(null===e||void 0===e?void 0:e.leadStatus))))||void 0===l?void 0:l.length:0],o=null===a||void 0===a?void 0:a.map((e=>0===(null===i||void 0===i?void 0:i.length)||0===e?NaN:100*e/(null===i||void 0===i?void 0:i.length))),r={chart:{type:"radialBar",width:330},plotOptions:{radialBar:{size:void 0,inverseOrder:!0,hollow:{margin:40,size:"48%",background:"transparent"},dataLabels:{name:{fontSize:"22px"},value:{fontSize:"16px"},total:{show:!0,label:"Total",color:"#1F7EEB",formatter:function(){return(null===i||void 0===i?void 0:i.length)||0}},value:{show:!0,formatter:function(e){return(e/100*i.length).toFixed(0)}}},track:{show:!0},startAngle:-180,endAngle:180,hover:{size:void 0,sizeOffset:3,colors:["#ff5959","#ECC94B","#01B574"]}}},stroke:{lineCap:"round"},colors:["#25BE87","#ECC94B","#ff5959"],labels:["Active","Pending","Sold"],legend:{show:!0,floating:!0,position:"bottom"}};return(0,W.jsx)("div",{children:(0,W.jsx)(R.A,{options:r,series:o,type:"radialBar",height:320},null===i||void 0===i?void 0:i.length)})};var H=n(6914),O=n(9488);function L(){var e,t;const n=(0,l.dU)("brand.500","white"),r=(0,l.dU)("secondaryGray.300","whiteAlpha.100"),d=JSON.parse(localStorage.getItem("user")),[s,u]=(0,c.useState)(!1),[v,x]=(0,c.useState)([]),[p,h]=(0,c.useState)([]),m=(0,_.Zp)(),[g,f,b,j]=(0,P.h)(["Contacts","Tasks","Leads","Properties"]);(0,c.useEffect)((()=>{(async()=>{u(!0);let e=await(0,T.x4)("superAdmin"===(null===d||void 0===d?void 0:d.role)?"api/reporting/line-chart":"api/reporting/line-chart?createBy=".concat(null===d||void 0===d?void 0:d._id));e&&200===(null===e||void 0===e?void 0:e.status)&&h(null===e||void 0===e?void 0:e.data),u(!1)})()}),[]);const y=e=>{const t=null===p||void 0===p?void 0:p.find((t=>(null===t||void 0===t?void 0:t.name)===e));return(null===t||void 0===t?void 0:t.length)||0},C=e=>{var t;const n=null===v||void 0===v||null===(t=v.leadData)||void 0===t?void 0:t.filter((t=>(null===t||void 0===t?void 0:t.leadStatus)===e));return(null===n||void 0===n?void 0:n.length)||0},w=e=>{var t;const n=null===v||void 0===v||null===(t=v.taskData)||void 0===t?void 0:t.filter((t=>(null===t||void 0===t?void 0:t.status)===e));return(null===n||void 0===n?void 0:n.length)||0},R=[{name:"Completed",status:"completed",length:w("completed"),color:"#4d8f3a"},{name:"Pending",status:"pending",length:w("pending"),color:"#a37f08"},{name:"In Progress",status:"inProgress",length:w("inProgress"),color:"#7038db"},{name:"Todo",status:"todo",length:w("todo"),color:"#1f7eeb"},{name:"On Hold",status:"onHold",length:w("onHold"),color:"#DB5436"}],L={Lead:"/lead",Contact:"/contacts",Meeting:"/metting",Call:"/phone-call",Task:"/task",Email:"/email",Property:"/properties"};return(0,c.useEffect)((()=>{(async()=>{var e;let t=await(0,T.x4)("api/status/?createBy=".concat(null===d||void 0===d?void 0:d._id));x(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)})()}),[null===d||void 0===d?void 0:d._id]),(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(i.SimpleGrid,{columns:{base:1,md:2,lg:4},gap:"20px",mb:"20px",children:[((null===f||void 0===f?void 0:f.create)||(null===f||void 0===f?void 0:f.update)||(null===f||void 0===f?void 0:f.delete)||(null===f||void 0===f?void 0:f.view))&&(0,W.jsx)(B.A,{onClick:()=>m("/task"),startContent:(0,W.jsx)(I.A,{w:"56px",h:"56px",bg:"linear-gradient(90deg, #4481EB 0%, #04BEFE 100%)",icon:(0,W.jsx)(a.In,{w:"28px",h:"28px",as:z.WlK,color:"white"})}),name:"Tasks",value:y("Tasks")}),((null===g||void 0===g?void 0:g.create)||(null===g||void 0===g?void 0:g.update)||(null===g||void 0===g?void 0:g.delete)||(null===g||void 0===g?void 0:g.view))&&(0,W.jsx)(B.A,{onClick:()=>m("/contacts"),startContent:(0,W.jsx)(I.A,{w:"56px",h:"56px",bg:r,icon:(0,W.jsx)(a.In,{w:"32px",h:"32px",as:z.HtZ,color:n})}),name:"Contacts",value:y("Contacts")}),((null===b||void 0===b?void 0:b.create)||(null===b||void 0===b?void 0:b.update)||(null===b||void 0===b?void 0:b.delete)||(null===b||void 0===b?void 0:b.view))&&(0,W.jsx)(B.A,{onClick:()=>m("/lead"),startContent:(0,W.jsx)(I.A,{w:"56px",h:"56px",bg:r,icon:(0,W.jsx)(a.In,{w:"32px",h:"32px",as:z.ju$,color:n})}),name:"Leads",value:y("Leads")}),((null===j||void 0===j?void 0:j.create)||(null===j||void 0===j?void 0:j.update)||(null===j||void 0===j?void 0:j.delete)||(null===j||void 0===j?void 0:j.view))&&(0,W.jsx)(B.A,{onClick:()=>m("/properties"),startContent:(0,W.jsx)(I.A,{w:"56px",h:"56px",bg:r,icon:(0,W.jsx)(a.In,{w:"32px",h:"32px",as:E.MbK,color:n})}),name:"Property",value:y("Properties")})]}),(0,W.jsxs)(i.Grid,{Grid:!0,templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,W.jsx)(i.GridItem,{rowSpan:2,colSpan:{base:12,md:6},children:(0,W.jsxs)(A.A,{children:[(0,W.jsxs)(i.Flex,{mb:3,alignItems:"center",justifyContent:"space-between",children:[(0,W.jsx)(i.Heading,{size:"md",children:"Email and Call Report"}),(0,W.jsx)(o.IconButton,{color:"green.500",onClick:()=>m("/reporting-analytics"),"aria-label":"Call Fred",borderRadius:"10px",size:"md",icon:(0,W.jsx)(S.ViewIcon,{})})]}),(0,W.jsx)(N.E,{}),(0,W.jsx)(D.A,{dashboard:"dashboard"})]})}),(0,W.jsx)(i.GridItem,{rowSpan:2,colSpan:{base:12,md:6},children:(0,W.jsxs)(A.A,{children:[(0,W.jsx)(i.Flex,{mb:5,alignItems:"center",justifyContent:"space-between",children:(0,W.jsx)(i.Heading,{size:"md",children:"Module Data Report"})}),(0,W.jsx)(i.Box,{mb:3,children:(0,W.jsx)(N.E,{})}),(0,W.jsx)(F,{dashboard:"dashboard",data:p})]})})]}),(0,W.jsxs)(i.SimpleGrid,{gap:"20px",columns:{base:1,md:((null!==b&&void 0!==b&&b.create||null!==b&&void 0!==b&&b.update||null!==b&&void 0!==b&&b.delete||null!==b&&void 0!==b&&b.view)&&(null!==f&&void 0!==f&&f.create||null!==f&&void 0!==f&&f.update||null!==f&&void 0!==f&&f.delete||null!==f&&void 0!==f&&f.view),2),lg:(null!==b&&void 0!==b&&b.create||null!==b&&void 0!==b&&b.update||null!==b&&void 0!==b&&b.delete||null!==b&&void 0!==b&&b.view)&&(null!==f&&void 0!==f&&f.create||null!==f&&void 0!==f&&f.update||null!==f&&void 0!==f&&f.delete||null!==f&&void 0!==f&&f.view)?3:2},my:"20px",children:[(0,W.jsxs)(A.A,{children:[(0,W.jsx)(i.Heading,{size:"md",pb:3,children:"Statistics"}),s?(0,W.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,W.jsx)(O.A,{})}):p&&p.length>0&&(null===p||void 0===p?void 0:p.map(((e,t)=>(0,W.jsx)(W.Fragment,{children:(0,W.jsxs)(i.Box,{border:"1px solid #e5e5e5",p:2,m:1,cursor:"pointer",onClick:()=>m(L[e.name]),children:[(0,W.jsxs)(i.Flex,{justifyContent:"space-between",children:[(0,W.jsx)(i.Text,{fontSize:"sm",fontWeight:600,pb:2,children:null===e||void 0===e?void 0:e.name}),(0,W.jsx)(i.Text,{fontSize:"sm",fontWeight:600,pb:2,children:(0,W.jsx)(H.A,{targetNumber:null===e||void 0===e?void 0:e.length})})]}),(0,W.jsx)(k,{colorScheme:null===e||void 0===e?void 0:e.color,size:"xs",value:null===e||void 0===e?void 0:e.length,width:"100%"})]},t)}))))]}),((null===b||void 0===b?void 0:b.create)||(null===b||void 0===b?void 0:b.update)||(null===b||void 0===b?void 0:b.delete)||(null===b||void 0===b?void 0:b.view))&&(0,W.jsxs)(A.A,{children:[(0,W.jsx)(i.Heading,{size:"md",pb:2,children:"Lead Statistics"}),((null===b||void 0===b?void 0:b.create)||(null===b||void 0===b?void 0:b.update)||(null===b||void 0===b?void 0:b.delete)||(null===b||void 0===b?void 0:b.view))&&(0,W.jsxs)(i.Grid,{templateColumns:"repeat(12, 1fr)",gap:2,children:[(0,W.jsx)(i.GridItem,{colSpan:{base:12,md:6},children:(0,W.jsxs)(i.Box,{backgroundColor:"#ebf5ff",borderRadius:"10px",cursor:"pointer",onClick:()=>m("/lead"),p:2,m:1,textAlign:"center",children:[(0,W.jsx)(i.Heading,{size:"sm",pb:3,color:"#1f7eeb",children:"Total Leads "}),(0,W.jsxs)(i.Text,{fontWeight:600,color:"#1f7eeb",children:[(0,W.jsx)(H.A,{targetNumber:(null===v||void 0===v||null===(e=v.leadData)||void 0===e?void 0:e.length)||0})," "]})]})}),(0,W.jsx)(i.GridItem,{colSpan:{base:12,md:6},children:(0,W.jsxs)(i.Box,{backgroundColor:"#eaf9e6",borderRadius:"10px",cursor:"pointer",onClick:()=>m("/lead",{state:"active"}),p:2,m:1,textAlign:"center",children:[(0,W.jsx)(i.Heading,{size:"sm",pb:3,color:"#43882f",children:"Active Leads "}),(0,W.jsx)(i.Text,{fontWeight:600,color:"#43882f",children:(0,W.jsx)(H.A,{targetNumber:C("active")})})]})}),(0,W.jsx)(i.GridItem,{colSpan:{base:12,md:6},children:(0,W.jsxs)(i.Box,{backgroundColor:"#fbf4dd",onClick:()=>m("/lead",{state:"pending"}),borderRadius:"10px",cursor:"pointer",p:2,m:1,textAlign:"center",children:[(0,W.jsx)(i.Heading,{size:"sm",pb:3,color:"#a37f08",children:"Pending Leads"}),(0,W.jsx)(i.Text,{fontWeight:600,color:"#a37f08",children:(0,W.jsx)(H.A,{targetNumber:C("pending")})})]})}),(0,W.jsx)(i.GridItem,{colSpan:{base:12,md:6},children:(0,W.jsxs)(i.Box,{backgroundColor:"#ffeeeb",borderRadius:"10px",cursor:"pointer",onClick:()=>m("/lead",{state:"sold"}),p:2,m:1,textAlign:"center",children:[(0,W.jsx)(i.Heading,{size:"sm",pb:3,color:"#d6401d",children:"Sold Leads "}),(0,W.jsx)(i.Text,{fontWeight:600,color:"#d6401d",children:(0,W.jsx)(H.A,{targetNumber:C("sold")})})]})})]}),(0,W.jsx)(i.Flex,{justifyContent:"center",children:(0,W.jsx)(G,{leadData:null===v||void 0===v?void 0:v.leadData})})]}),((null===f||void 0===f?void 0:f.create)||(null===f||void 0===f?void 0:f.update)||(null===f||void 0===f?void 0:f.delete)||(null===f||void 0===f?void 0:f.view))&&(0,W.jsxs)(A.A,{children:[(0,W.jsx)(i.Heading,{size:"md",pb:3,children:"Task Statistics"}),(0,W.jsx)(i.Grid,{templateColumns:"repeat(12, 1fr)",gap:2,mb:2,children:(0,W.jsx)(i.GridItem,{colSpan:{base:12},children:(0,W.jsxs)(i.Box,{backgroundColor:"#ebf5ff",onClick:()=>m("/task"),borderRadius:"10px",cursor:"pointer",p:2,m:1,textAlign:"center",children:[(0,W.jsx)(i.Heading,{size:"sm",pb:3,color:"#1f7eeb",children:"Total Tasks "}),(0,W.jsx)(i.Text,{fontWeight:600,color:"#1f7eeb",children:(0,W.jsx)(H.A,{targetNumber:(null===v||void 0===v||null===(t=v.taskData)||void 0===t?void 0:t.length)||0})})]})})}),R&&R.length>0&&(null===R||void 0===R?void 0:R.map((e=>(0,W.jsx)(i.Box,{my:1.5,children:(0,W.jsxs)(i.Flex,{justifyContent:"space-between",cursor:"pointer",alignItems:"center",padding:4,backgroundColor:"#0b0b0b17",borderRadius:"10px",children:[(0,W.jsxs)(i.Flex,{alignItems:"center",children:[(0,W.jsx)(i.Box,{height:"18px",width:"18px",lineHeight:"18px",textAlign:"center",border:"1px solid ".concat(e.color),display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",margin:"0 auto",children:(0,W.jsx)(i.Box,{backgroundColor:"".concat(e.color),height:"10px",width:"10px",borderRadius:"50%"})}),(0,W.jsx)(i.Text,{ps:2,fontWeight:"bold",color:"".concat(e.color),children:e.name})]}),(0,W.jsx)(i.Box,{fontWeight:"bold",color:"".concat(e.color),children:(0,W.jsx)(H.A,{targetNumber:null===e||void 0===e?void 0:e.length})})]})}))))]})]})]})}},3972:(e,t,n)=>{n.d(t,{A:()=>h});var l=n(4450),i=n(4626),a=n(5104),o=n(216),r=n(6178),d=n.n(r),s=n(5043),c=n(2019),u=n(1899),v=n.n(u),x=(n(5015),n(6305)),p=n(579);const h=e=>{const{dashboard:t}=e,[n,r]=(0,s.useState)({}),[u,h]=(0,s.useState)(new Date(new Date-12096e5)),[m,g]=(0,s.useState)(new Date),[f,b]=(0,s.useState)("all"),[j,y]=(0,s.useState)("day"),C=JSON.parse(localStorage.getItem("user")),w=Object.keys(n).map((e=>{const t=n[e][0];let l=[];var i,a,o;null!==t&&void 0!==t&&t.Emails&&(l=l.concat(null===t||void 0===t||null===(i=t.Emails)||void 0===i?void 0:i.map((e=>({x:null===e||void 0===e?void 0:e.date,y:null===e||void 0===e?void 0:e.Emailcount})))));null!==t&&void 0!==t&&t.Calls&&(l=l.concat(null===t||void 0===t||null===(a=t.Calls)||void 0===a?void 0:a.map((e=>({x:null===e||void 0===e?void 0:e.date,y:null===e||void 0===e?void 0:e.Callcount})))));null!==t&&void 0!==t&&t.TextMsges&&(l=l.concat(null===t||void 0===t||null===(o=t.TextMsges)||void 0===o?void 0:o.map((e=>({x:null===e||void 0===e?void 0:e.date,y:null===e||void 0===e?void 0:e.TextSentCount})))));return{name:e,data:l}}));(0,s.useEffect)((()=>{(async()=>{const e={startDate:d()(u).format("YYYY-MM-DD"),endDate:d()(m).format("YYYY-MM-DD"),filter:j};let t=await(0,x.d_)("superAdmin"===C.role?"api/reporting/index":"api/reporting/index?sender=".concat(C._id),e);t&&200===t.status&&r(null===t||void 0===t?void 0:t.data)})()}),[u,m,j]);const k="all"===f?w:null===w||void 0===w?void 0:w.filter((e=>(null===e||void 0===e?void 0:e.name)===f));return(0,p.jsxs)(o.A,{children:[!t&&(0,p.jsxs)(l.Box,{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"space-between",mb:4,children:[(0,p.jsxs)(i.l6,{value:f,onChange:e=>b(e.target.value),size:"sm",width:{base:"100%",md:"15%"},mb:{base:3,md:"auto"},children:[(0,p.jsx)("option",{value:"all",children:"All"}),(0,p.jsx)("option",{value:"EmailDetails",children:"Email"}),(0,p.jsx)("option",{value:"outboundcall",children:"Call"})]}),(0,p.jsxs)(l.Box,{width:{base:"100%",md:"auto"},flexWrap:"wrap",justifyContent:"left",mb:{base:3,md:"auto"},display:"flex",children:[(0,p.jsx)(v(),{selected:u,onChange:e=>h(e),className:"datePickerBorder"}),(0,p.jsx)(v(),{selected:m,onChange:e=>g(e),className:"datePickerBorder"})]}),(0,p.jsx)(l.Box,{width:{base:"100%",md:"auto"},display:"flex",justifyContent:"right",mb:{base:3,md:"auto"},children:(0,p.jsx)(a.z6,{onChange:e=>y(e),value:j,children:(0,p.jsxs)(l.Stack,{direction:"row",children:[(0,p.jsx)(a.sx,{value:"day",children:"Daily"}),(0,p.jsx)(a.sx,{value:"week",children:"Weekly"})]})})})]}),(0,p.jsx)("div",{id:"chart",children:(0,p.jsx)("div",{id:"chart-timeline",children:k&&(0,p.jsx)(c.A,{options:{chart:{id:"line-chart"},xaxis:{type:"datetime"},yaxis:{title:{text:"Count"}},dataLabels:{enabled:!0}},series:k,type:"area",height:300})})})]})}}}]);
//# sourceMappingURL=129.3b614782.chunk.js.map