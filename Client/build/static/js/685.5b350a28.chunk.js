"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[685],{6806:(e,l,n)=>{n.r(l),n.d(l,{default:()=>k});var i=n(9754),o=n(4450),t=n(5376),d=n(2554),s=n(4034),r=n(5043),a=n(6178),c=n.n(a),v=n(3216),u=n(5475),x=n(7805),h=n(6305),m=n(216),j=n(4960),p=n(7930),f=n(591),b=n(5574),g=n(3994),T=n(579);const k=e=>{var l,n,a;const k=(0,v.g)(),{id:S}=k,I=JSON.parse(localStorage.getItem("user")),[A,C,w]=(0,b.h)(["Tasks","Contacts","Leads"]),[y,z]=(0,r.useState)(),[G,N]=(0,r.useState)(!1),{isOpen:W,onOpen:O,onClose:_}=(0,i.j1)(),[B,D]=(0,r.useState)(!1),[L,E]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{if(S){var e,l,n;N(!0);let i=await(0,h.x4)("api/task/view/",null!==S&&void 0!==S&&S.event?null===S||void 0===S||null===(e=S.event)||void 0===e||null===(l=e._def)||void 0===l||null===(n=l.extendedProps)||void 0===n?void 0:n._id:S);z(null===i||void 0===i?void 0:i.data),N(!1)}})()}),[S,B]);return(0,T.jsxs)("div",{children:[(0,T.jsxs)(m.A,{children:[(0,T.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:1,justifyContent:"space-between",alignItem:"center",children:[(0,T.jsx)(o.GridItem,{colSpan:{base:12,md:6},children:(0,T.jsx)(o.Text,{fontSize:"xl",fontWeight:"bold",color:"blackAlpha.900",children:" Task View "})}),(0,T.jsx)(o.GridItem,{colSpan:{base:12,md:6},children:(0,T.jsxs)(o.Flex,{justifyContent:"right",children:[(0,T.jsxs)(t.W1,{children:[("superAdmin"===I.role||(null===A||void 0===A?void 0:A.create)||(null===A||void 0===A?void 0:A.update)||(null===A||void 0===A?void 0:A.delete))&&(0,T.jsx)(t.IU,{variant:"outline",colorScheme:"blackAlpha",size:"sm",va:!0,mr:2.5,as:d.Button,rightIcon:(0,T.jsx)(s.ChevronDownIcon,{}),children:"Actions"}),(0,T.jsx)(t.Nj,{}),(0,T.jsxs)(t.cO,{minWidth:2,children:[("superAdmin"===I.role||(null===A||void 0===A?void 0:A.create))&&(0,T.jsx)(t.Dr,{onClick:()=>{O()},alignItems:"start",color:"blue",icon:(0,T.jsx)(s.AddIcon,{}),children:"Add"}),("superAdmin"===I.role||(null===A||void 0===A?void 0:A.update))&&(0,T.jsx)(t.Dr,{onClick:()=>D(!0),alignItems:"start",icon:(0,T.jsx)(s.EditIcon,{}),children:"Edit"}),("superAdmin"===I.role||(null===A||void 0===A?void 0:A.deleteModel))&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(t.Nj,{}),(0,T.jsx)(t.Dr,{alignItems:"start",onClick:()=>E(!0),color:"red",icon:(0,T.jsx)(s.DeleteIcon,{}),children:"Delete"})]})]})]}),(0,T.jsx)(u.N_,{to:"/task",children:(0,T.jsx)(d.Button,{size:"sm",leftIcon:(0,T.jsx)(j.m6W,{}),variant:"brand",children:"Back"})})]})})]}),(0,T.jsx)(g.E,{}),(0,T.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,pt:3,children:[(0,T.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,T.jsx)(o.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Title "}),(0,T.jsx)(o.Text,{children:null!==y&&void 0!==y&&y.title?null===y||void 0===y?void 0:y.title:" - "})]}),(0,T.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,T.jsx)(o.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Related To "}),(0,T.jsx)(o.Text,{children:null!==y&&void 0!==y&&y.category?null===y||void 0===y?void 0:y.category:" - "})]}),(0,T.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,T.jsx)(o.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task start "}),(0,T.jsx)(o.Text,{children:null!==y&&void 0!==y&&y.start?c()(null===y||void 0===y?void 0:y.start).format("L LT"):" - "})]}),(0,T.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,T.jsx)(o.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task end  "}),(0,T.jsx)(o.Text,{children:null!==y&&void 0!==y&&y.end?c()(null===y||void 0===y?void 0:y.end).format("L LT"):c()(null===y||void 0===y?void 0:y.start).format("L")})]}),(0,T.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,T.jsx)(o.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Link "}),null!==y&&void 0!==y&&y.url?(0,T.jsx)("a",{target:"_blank",href:null===y||void 0===y?void 0:y.url,children:(0,T.jsx)(d.IconButton,{borderRadius:"10px",size:"md",icon:(0,T.jsx)(x.o9J,{})})}):"-"]}),(0,T.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,T.jsx)(o.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task reminder "}),(0,T.jsx)(o.Text,{children:null!==y&&void 0!==y&&y.reminder?null===y||void 0===y?void 0:y.reminder:" - "})]}),(0,T.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,T.jsx)(o.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Assignment To  "}),(0,T.jsx)(u.N_,{to:null!==y&&void 0!==y&&y.assignmentTo?(null===C||void 0===C?void 0:C.view)&&"/contactView/".concat(null===y||void 0===y?void 0:y.assignmentTo):(null===w||void 0===w?void 0:w.view)&&"/leadView/".concat(null===y||void 0===y?void 0:y.assignmentToLead),children:(0,T.jsx)(o.Text,{color:"contact"===(null===y||void 0===y?void 0:y.category)&&(null!==C&&void 0!==C&&C.view||"superAdmin"===(null===I||void 0===I?void 0:I.role))||null!==w&&void 0!==w&&w.view||"superAdmin"===(null===I||void 0===I?void 0:I.role)&&"lead"===(null===y||void 0===y?void 0:y.category)?"brand.600":"blackAlpha.900",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},children:null!==y&&void 0!==y&&y.assignmentToName?null===y||void 0===y?void 0:y.assignmentToName:" - "})})]}),(0,T.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,T.jsx)(o.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task createBy "}),(0,T.jsx)(o.Text,{children:null!==y&&void 0!==y&&y.createByName?null===y||void 0===y?void 0:y.createByName:" - "})]}),(0,T.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,T.jsx)(o.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Description"}),(0,T.jsx)(o.Text,{children:null!==y&&void 0!==y&&y.description?null===y||void 0===y?void 0:y.description:" - "})]}),(0,T.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,T.jsx)(o.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task notes "}),(0,T.jsx)(o.Text,{children:null!==y&&void 0!==y&&y.notes?null===y||void 0===y?void 0:y.notes:" - "})]})]})]}),((null===A||void 0===A?void 0:A.update)||(null===A||void 0===A?void 0:A.delete)||"superAdmin"===(null===I||void 0===I?void 0:I.role))&&(0,T.jsx)(m.A,{mt:3,children:(0,T.jsx)(o.Grid,{templateColumns:"repeat(6, 1fr)",gap:1,children:(0,T.jsx)(o.GridItem,{colStart:6,children:(0,T.jsxs)(o.Flex,{justifyContent:"right",children:[(null===A||void 0===A?void 0:A.update)&&(0,T.jsx)(d.Button,{size:"sm",onClick:()=>D(!0),leftIcon:(0,T.jsx)(s.EditIcon,{}),mr:2.5,variant:"outline",colorScheme:"green",children:"Edit"}),(null===A||void 0===A?void 0:A.delete)&&(0,T.jsx)(d.Button,{size:"sm",style:{background:"red.800"},onClick:()=>E(!0),leftIcon:(0,T.jsx)(s.DeleteIcon,{}),colorScheme:"red",children:"Delete"})]})})})}),(0,T.jsx)(p.A,{isOpen:W,onClose:_}),(0,T.jsx)(f.A,{isOpen:B,onClose:D,viewClose:_,id:null!==S&&void 0!==S&&S.event?null===S||void 0===S||null===(l=S.event)||void 0===l||null===(n=l._def)||void 0===n||null===(a=n.extendedProps)||void 0===a?void 0:a._id:S})]})}},3186:(e,l,n)=>{n.d(l,{T:()=>a});var i=n(8510),o=n(9522),t=n(835),d=n(5043);function s(){return s=Object.assign||function(e){for(var l=1;l<arguments.length;l++){var n=arguments[l];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s.apply(this,arguments)}var r=["className","rows"],a=(0,o.Rf)((function(e,l){var n=(0,o.Vl)("Textarea",e),a=(0,o.MN)(e),c=a.className,v=a.rows,u=function(e,l){if(null==e)return{};var n,i,o={},t=Object.keys(e);for(i=0;i<t.length;i++)n=t[i],l.indexOf(n)>=0||(o[n]=e[n]);return o}(a,r),x=(0,i.useFormControl)(u),h=v?(0,t.cJ)(n,["h","minH","height","minHeight"]):n;return d.createElement(o.Bv.textarea,s({ref:l,rows:v},x,{className:(0,t.cx)("chakra-textarea",c),__css:h}))}));t.gt&&(a.displayName="Textarea")}}]);
//# sourceMappingURL=685.5b350a28.chunk.js.map