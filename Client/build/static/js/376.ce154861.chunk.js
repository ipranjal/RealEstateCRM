"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[376],{1046:(e,o,l)=>{l.d(o,{A:()=>h});var n=l(9379),t=l(1206),a=l(4450),s=l(1778),r=l(5066),i=l(5043),d=l(1094),c=l(216),m=l(6914),x=l(8152),u=l(5369),p=l(579);function h(e){const{columnsData:o,tableData:l,title:h,type:g,selectedValues:v,setSelectedValues:j}=e,f=(0,i.useMemo)((()=>o),[o]),b=(0,i.useMemo)((()=>l),[l]),[C,S]=(JSON.parse(localStorage.getItem("user")),(0,i.useState)()),y=(0,d.useTable)({columns:f,data:b,initialState:{pageIndex:0}},d.useGlobalFilter,d.useSortBy,d.usePagination),{getTableProps:T,getTableBodyProps:z,headerGroups:L,prepareRow:A,page:I,canPreviousPage:k,canNextPage:N,pageOptions:F,pageCount:W,gotoPage:w,nextPage:H,previousPage:Y,setPageSize:D,state:{pageIndex:B,pageSize:P}}=y;F.length<C&&S(F.length);const G=(0,t.dU)("gray.500","white"),M=(0,t.dU)("gray.200","whiteAlpha.100"),O=(e,o)=>{"multi"===g?e.target.checked?j((e=>[...e,o])):j((e=>e.filter((e=>e!==o)))):e.target.checked?j(o):j(null)};return(0,p.jsxs)(c.A,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,p.jsx)(a.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:(0,p.jsxs)(a.Text,{color:G,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:[h,"  (",(0,p.jsx)(m.A,{targetNumber:null===b||void 0===b?void 0:b.length},null===b||void 0===b?void 0:b.length),")"]})}),(0,p.jsx)(a.Box,{overflowY:"auto",className:"table-container-property",children:(0,p.jsxs)(s.XI,(0,n.A)((0,n.A)({},T()),{},{variant:"simple",color:"gray.500",mb:"24px",children:[(0,p.jsx)(s.d8,{zIndex:1,children:null===L||void 0===L?void 0:L.map(((e,o)=>(0,i.createElement)(s.Tr,(0,n.A)((0,n.A)({},e.getHeaderGroupProps()),{},{key:o}),e.headers.map(((e,o)=>(0,i.createElement)(s.Th,(0,n.A)((0,n.A)({},e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps())),{},{pe:"10px",key:o,borderColor:M}),(0,p.jsxs)(a.Flex,{align:"center",justifyContent:e.center?"center":"start",fontSize:{sm:"14px",lg:"16px"},color:" secondaryGray.900",children:[(0,p.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")}),!1!==e.isSortable&&(0,p.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,p.jsx)(u.GOR,{}):(0,p.jsx)(u.XhJ,{}):(0,p.jsx)(u.MjW,{})})]})))))))}),(0,p.jsxs)(s.NN,(0,n.A)((0,n.A)({},z()),{},{children:[0===(null===b||void 0===b?void 0:b.length)&&(0,p.jsx)(s.Tr,{children:(0,p.jsx)(s.Td,{colSpan:f.length,children:(0,p.jsx)(a.Text,{textAlign:"center",width:"100%",color:G,fontSize:"sm",fontWeight:"700",children:"-- No Data Found --"})})}),null===I||void 0===I?void 0:I.map(((e,o)=>{var l;return A(e),(0,i.createElement)(s.Tr,(0,n.A)((0,n.A)({},null===e||void 0===e?void 0:e.getRowProps()),{},{key:o}),null===e||void 0===e||null===(l=e.cells)||void 0===l?void 0:l.map(((e,o)=>{let l="";var t;"#"===(null===e||void 0===e?void 0:e.column.Header)?l=(0,p.jsxs)(a.Flex,{align:"center",children:["multi"===g?(0,p.jsx)(r.Sc,{colorScheme:"brandScheme",value:v,isChecked:v.includes(null===e||void 0===e?void 0:e.value),onChange:o=>O(o,null===e||void 0===e?void 0:e.value),me:"10px"}):(0,p.jsx)(r.Sc,{colorScheme:"brandScheme",value:v,isChecked:v===(null===e||void 0===e?void 0:e.value),onChange:o=>O(o,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,p.jsx)(a.Text,{color:G,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.index)+1})]}):"title"===(null===e||void 0===e?void 0:e.column.Header)||"first Name"===(null===e||void 0===e?void 0:e.column.Header)||"last Name"===(null===e||void 0===e?void 0:e.column.Header)?l=(0,p.jsx)(a.Text,{me:"10px",color:G,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):"phone Number"===(null===e||void 0===e?void 0:e.column.Header)||"Email Address"===(null===e||void 0===e?void 0:e.column.Header)?l=(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"700",color:G,children:null===e||void 0===e?void 0:e.value}):("physical Address"===(null===e||void 0===e?void 0:e.column.Header)||"mailing Address"===(null===e||void 0===e?void 0:e.column.Header)||"Contact Method"===(null===e||void 0===e?void 0:e.column.Header))&&(l=(0,p.jsx)(a.Text,{color:G,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}));return(0,i.createElement)(s.Td,(0,n.A)((0,n.A)({},null===e||void 0===e?void 0:e.getCellProps()),{},{key:o,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"}),l)})))}))]}))]}))}),(null===b||void 0===b?void 0:b.length)>5&&(0,p.jsx)(x.A,{gotoPage:w,gopageValue:C,setGopageValue:S,pageCount:W,canPreviousPage:k,previousPage:Y,canNextPage:N,pageOptions:F,setPageSize:D,nextPage:H,pageSize:P,pageIndex:B})]})}},9565:(e,o,l)=>{l.d(o,{A:()=>m});var n=l(9942),t=l(4450),a=l(2554),s=l(5043),r=l(1046),i=l(9488),d=l(8860),c=l(579);const m=e=>{const{onClose:o,isOpen:l,fieldName:m,setFieldValue:x,data:u}=e,[p,h]=(0,s.useState)(),[g,v]=(0,s.useState)(!1);JSON.parse(localStorage.getItem("user"));return(0,c.jsxs)(n.aF,{onClose:o,size:"full",isOpen:l,children:[(0,c.jsx)(n.mH,{}),(0,c.jsxs)(n.$m,{children:[(0,c.jsx)(n.rQ,{children:"Select Contact"}),(0,c.jsx)(n.s_,{}),(0,c.jsx)(n.cw,{children:g?(0,c.jsx)(t.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,c.jsx)(i.A,{})}):(0,c.jsx)(r.A,{tableData:u,selectedValues:p,setSelectedValues:h,columnsData:[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"title",accessor:"title"},{Header:"first Name",accessor:"firstName"},{Header:"last Name",accessor:"lastName"},{Header:"phone Number",accessor:"phoneNumber"},{Header:"Email Address",accessor:"email"},{Header:"physical Address",accessor:"physicalAddress"},{Header:"mailing Address",accessor:"mailingAddress"},{Header:"Contact Method",accessor:"preferredContactMethod"}],title:"Contact"})}),(0,c.jsxs)(n.jl,{children:[(0,c.jsxs)(a.Button,{variant:"brand",size:"sm",me:2,onClick:async()=>{try{v(!0),x(m,p),o()}catch(e){console.log(e)}finally{v(!1)}},disabled:!!g,leftIcon:(0,c.jsx)(d.NLY,{}),children:[" ",g?(0,c.jsx)(i.A,{}):"Select"]}),(0,c.jsx)(a.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>o(),children:"Close"})]})]})]})}},7214:(e,o,l)=>{l.d(o,{A:()=>h});var n=l(9379),t=l(1206),a=l(4450),s=l(1778),r=l(5066),i=l(5043),d=l(1094),c=l(216),m=l(6914),x=l(8152),u=l(5369),p=l(579);function h(e){const{columnsData:o,tableData:l,title:h,type:g,selectedValues:v,setSelectedValues:j}=e,f=(0,i.useMemo)((()=>o),[o]),b=(0,i.useMemo)((()=>l),[l]),[C,S]=(JSON.parse(localStorage.getItem("user")),(0,i.useState)()),y=(0,d.useTable)({columns:f,data:b,initialState:{pageIndex:0}},d.useGlobalFilter,d.useSortBy,d.usePagination),{getTableProps:T,getTableBodyProps:z,headerGroups:L,prepareRow:A,page:I,canPreviousPage:k,canNextPage:N,pageOptions:F,pageCount:W,gotoPage:w,nextPage:H,previousPage:Y,setPageSize:D,state:{pageIndex:B,pageSize:P}}=y;F.length<C&&S(F.length);const G=(0,t.dU)("gray.500","white"),M=(0,t.dU)("gray.200","whiteAlpha.100"),O=(e,o)=>{"multi"===g?e.target.checked?j((e=>[...e,o])):j((e=>e.filter((e=>e!==o)))):e.target.checked?j(o):j(null)};return(0,p.jsxs)(c.A,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,p.jsx)(a.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:(0,p.jsxs)(a.Text,{color:G,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:[h,"  (",(0,p.jsx)(m.A,{targetNumber:null===b||void 0===b?void 0:b.length},null===b||void 0===b?void 0:b.length),")"]})}),(0,p.jsx)(a.Box,{overflowY:"auto",className:"table-container-property",children:(0,p.jsxs)(s.XI,(0,n.A)((0,n.A)({},T()),{},{variant:"simple",color:"gray.500",mb:"24px",children:[(0,p.jsx)(s.d8,{zIndex:1,children:null===L||void 0===L?void 0:L.map(((e,o)=>(0,i.createElement)(s.Tr,(0,n.A)((0,n.A)({},e.getHeaderGroupProps()),{},{key:o}),e.headers.map(((e,o)=>(0,i.createElement)(s.Th,(0,n.A)((0,n.A)({},e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps())),{},{pe:"10px",key:o,borderColor:M}),(0,p.jsxs)(a.Flex,{align:"center",justifyContent:e.center?"center":"start",fontSize:{sm:"14px",lg:"16px"},color:" secondaryGray.900",children:[(0,p.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")}),!1!==e.isSortable&&(0,p.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,p.jsx)(u.GOR,{}):(0,p.jsx)(u.XhJ,{}):(0,p.jsx)(u.MjW,{})})]})))))))}),(0,p.jsxs)(s.NN,(0,n.A)((0,n.A)({},z()),{},{children:[0===(null===b||void 0===b?void 0:b.length)&&(0,p.jsx)(s.Tr,{children:(0,p.jsx)(s.Td,{colSpan:f.length,children:(0,p.jsx)(a.Text,{textAlign:"center",width:"100%",color:G,fontSize:"sm",fontWeight:"700",children:"-- No Data Found --"})})}),null===I||void 0===I?void 0:I.map(((e,o)=>{var l;return A(e),(0,i.createElement)(s.Tr,(0,n.A)((0,n.A)({},null===e||void 0===e?void 0:e.getRowProps()),{},{key:o}),null===e||void 0===e||null===(l=e.cells)||void 0===l?void 0:l.map(((e,o)=>{let l="";var t;"#"===(null===e||void 0===e?void 0:e.column.Header)?l=(0,p.jsxs)(a.Flex,{align:"center",children:["multi"===g?(0,p.jsx)(r.Sc,{colorScheme:"brandScheme",value:v,isChecked:v.includes(null===e||void 0===e?void 0:e.value),onChange:o=>O(o,null===e||void 0===e?void 0:e.value),me:"10px"}):(0,p.jsx)(r.Sc,{colorScheme:"brandScheme",value:v,isChecked:v===(null===e||void 0===e?void 0:e.value),onChange:o=>O(o,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,p.jsx)(a.Text,{color:G,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.index)+1})]}):"Lead Name"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Email"===(null===e||void 0===e?void 0:e.column.Header)||"Lead PhoneNumber"===(null===e||void 0===e?void 0:e.column.Header)?l=(0,p.jsx)(a.Text,{me:"10px",color:G,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):("Lead Address"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Status"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Owner"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Score"===(null===e||void 0===e?void 0:e.column.Header))&&(l=(0,p.jsx)(a.Text,{color:G,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}));return(0,i.createElement)(s.Td,(0,n.A)((0,n.A)({},null===e||void 0===e?void 0:e.getCellProps()),{},{key:o,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"}),l)})))}))]}))]}))}),(null===b||void 0===b?void 0:b.length)>5&&(0,p.jsx)(x.A,{gotoPage:w,gopageValue:C,setGopageValue:S,pageCount:W,canPreviousPage:k,previousPage:Y,canNextPage:N,pageOptions:F,setPageSize:D,nextPage:H,pageSize:P,pageIndex:B})]})}},1125:(e,o,l)=>{l.d(o,{A:()=>m});var n=l(9942),t=l(4450),a=l(2554),s=l(5043),r=l(7214),i=l(9488),d=l(8860),c=l(579);const m=e=>{const{onClose:o,isOpen:l,fieldName:m,setFieldValue:x,data:u}=e,[p,h]=(0,s.useState)(),[g,v]=(0,s.useState)(!1);JSON.parse(localStorage.getItem("user"));return(0,c.jsxs)(n.aF,{onClose:o,size:"full",isOpen:l,children:[(0,c.jsx)(n.mH,{}),(0,c.jsxs)(n.$m,{children:[(0,c.jsx)(n.rQ,{children:"Select Lead"}),(0,c.jsx)(n.s_,{}),(0,c.jsx)(n.cw,{children:g?(0,c.jsx)(t.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,c.jsx)(i.A,{})}):(0,c.jsx)(r.A,{tableData:u,selectedValues:p,setSelectedValues:h,columnsData:[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Lead Name",accessor:"leadName",width:20},{Header:"Lead Email",accessor:"leadEmail"},{Header:"Lead PhoneNumber",accessor:"leadPhoneNumber"},{Header:"Lead Address",accessor:"leadAddress"},{Header:"Lead Status",accessor:"leadStatus"},{Header:"Lead Owner",accessor:"leadOwner"},{Header:"Lead Score",accessor:"leadScore"}],title:"Lead"})}),(0,c.jsxs)(n.jl,{children:[(0,c.jsxs)(a.Button,{variant:"brand",size:"sm",me:2,onClick:async()=>{try{v(!0),x(m,p),o()}catch(e){console.log(e)}finally{v(!1)}},disabled:!!g,leftIcon:(0,c.jsx)(d.NLY,{}),children:[" ",g?(0,c.jsx)(i.A,{}):"Select"]}),(0,c.jsx)(a.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>o(),children:"Close"})]})]})]})}},7930:(e,o,l)=>{l.d(o,{A:()=>T});var n=l(4034),t=l(9942),a=l(2554),s=l(4450),r=l(8510),i=l(7682),d=l(5104),c=l(4626),m=l(5066),x=l(3186),u=l(9565),p=l(1125),h=l(9488),g=l(3516),v=l(5043),j=l(3388),f=l(9849),b=l(6305),C=l(6178),S=l.n(C),y=l(579);const T=e=>{const{onClose:o,isOpen:l,fetchData:C}=e,[T,z]=(0,v.useState)(!1),L=JSON.parse(localStorage.getItem("user"))._id,[A,I]=(0,v.useState)([]),k=JSON.parse(localStorage.getItem("user")),[N,F]=(0,v.useState)(!1),[W,w]=(0,v.useState)(!1),[H,Y]=(0,v.useState)(!1),D={title:"",category:"contactView"===e.leadContect?"Contact":"leadView"===e.leadContect?"Lead":"None",description:"",notes:"",assignmentTo:"contactView"===e.leadContect&&e.id?e.id:"",assignmentToLead:"leadView"===e.leadContect&&e.id?e.id:"",reminder:"",start:"",end:"",backgroundColor:"",borderColor:"#ffffff",textColor:"",allDay:!0===T?"Yes":"No",display:"",url:"",createBy:L},B=(0,g.Wx)({initialValues:D,validationSchema:f.pj,onSubmit:(e,o)=>{let{resetForm:l}=o;R()}}),{errors:P,touched:G,values:M,handleBlur:O,handleChange:V,handleSubmit:E,setFieldValue:_}=B,R=async()=>{try{F(!0),null!==M&&void 0!==M&&M.start&&(M.start=T?S()(M.start).format("YYYY-MM-DD")||"":S()(M.start).format("YYYY-MM-DD HH:mm")||""),null!==M&&void 0!==M&&M.end&&(M.end=T?S()(M.end).format("YYY-MM-DD")||"":S()(M.end).format("YYYY-MM-DD HH:mm")||""),200===(await(0,b.d_)("api/task/add",M)).status&&(B.resetForm(),o(),C())}catch(e){console.log(e)}finally{F(!1)}};return(0,v.useEffect)((async()=>{M.start=null===e||void 0===e?void 0:e.date;try{var o;let e;"Contact"===M.category?e=await(0,b.x4)("superAdmin"===k.role?"api/contact/":"api/contact/?createBy=".concat(k._id)):"Lead"===M.category&&(e=await(0,b.x4)("superAdmin"===k.role?"api/lead/":"api/lead/?createBy=".concat(k._id))),I(null===(o=e)||void 0===o?void 0:o.data)}catch(l){console.log(l)}}),[e,M.category]),(0,y.jsxs)(t.aF,{isOpen:l,size:"xl",children:[(0,y.jsx)(t.mH,{}),(0,y.jsxs)(t.$m,{height:"600px",children:[(0,y.jsxs)(t.rQ,{justifyContent:"space-between",display:"flex",children:["Create Task",(0,y.jsx)(a.IconButton,{onClick:()=>e.from?o(!1):o(),icon:(0,y.jsx)(n.CloseIcon,{})})]}),(0,y.jsxs)(t.cw,{overflowY:"auto",height:"700px",children:[(0,y.jsx)(u.A,{isOpen:W,data:A,onClose:w,fieldName:"assignmentTo",setFieldValue:_}),(0,y.jsx)(p.A,{isOpen:H,data:A,onClose:Y,fieldName:"assignmentToLead",setFieldValue:_}),(0,y.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsxs)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Title",(0,y.jsx)(s.Text,{color:"red",children:"*"})]}),(0,y.jsx)(i.Input,{fontSize:"sm",onChange:V,onBlur:O,value:M.title,name:"title",placeholder:"Title",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.title&&null!==G&&void 0!==G&&G.title?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",P.title&&G.title&&P.title]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Related"}),(0,y.jsx)(d.z6,{onChange:e=>{_("category",e),_("assignmentTo",null),_("assignmentToLead",null)},value:M.category,children:(0,y.jsxs)(s.Stack,{direction:"row",children:[(0,y.jsx)(d.sx,{value:"None",children:"None"}),"contactView"===e.leadContect&&(0,y.jsx)(d.sx,{value:"Contact",children:"Contact"}),"leadView"===e.leadContect&&(0,y.jsx)(d.sx,{value:"Lead",children:"Lead"}),!e.leadContect&&(0,y.jsxs)(y.Fragment,{children:[" ",(0,y.jsx)(d.sx,{value:"Contact",children:"Contact"}),(0,y.jsx)(d.sx,{value:"Lead",children:"Lead"})]})]})}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.category&&G.category&&P.category]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:"None"===M.category?12:6},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Description"}),(0,y.jsx)(i.Input,{fontSize:"sm",onChange:V,onBlur:O,value:M.description,name:"description",placeholder:"Description",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.description&&null!==G&&void 0!==G&&G.description?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.description&&G.description&&P.description]})]}),"Contact"===M.category?(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Assignment To  Contact"}),(0,y.jsxs)(s.Flex,{justifyContent:"space-between",children:[(0,y.jsx)(c.l6,{value:M.assignmentTo,name:"assignmentTo",onChange:V,mb:P.assignmentTo&&G.assignmentTo?void 0:"10px",fontWeight:"500",placeholder:"Assignment To",borderColor:P.assignmentTo&&G.assignmentTo?"red.300":null,children:null===A||void 0===A?void 0:A.map((e=>(0,y.jsx)("option",{value:e._id,children:"Contact"===M.category&&"".concat(e.firstName," ").concat(e.lastName)},e._id)))}),(0,y.jsx)(a.IconButton,{onClick:()=>w(!0),ml:2,fontSize:"25px",icon:(0,y.jsx)(j.G2h,{})})]}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.assignmentTo&&G.assignmentTo&&P.assignmentTo]})]})}):"Lead"===M.category?(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Assignment To Lead"}),(0,y.jsxs)(s.Flex,{justifyContent:"space-between",children:[(0,y.jsx)(c.l6,{value:M.assignmentToLead,name:"assignmentToLead",onChange:V,mb:P.assignmentToLead&&G.assignmentToLead?void 0:"10px",fontWeight:"500",placeholder:"Assignment To",borderColor:P.assignmentToLead&&G.assignmentToLead?"red.300":null,children:null===A||void 0===A?void 0:A.map((e=>(0,y.jsx)("option",{value:e._id,children:"Lead"===M.category&&e.leadName},e._id)))}),(0,y.jsx)(a.IconButton,{onClick:()=>Y(!0),ml:2,fontSize:"25px",icon:(0,y.jsx)(j.G2h,{})})]}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.assignmentToLead&&G.assignmentToLead&&P.assignmentToLead]})]})}):"",(0,y.jsx)(s.GridItem,{colSpan:{base:12},children:(0,y.jsx)(m.Sc,{isChecked:T,name:"allDay",onChange:e=>{_("allDay",!0===e.target.checked?"Yes":"No"),z(e.target.checked)},children:"All Day Task ? "})}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsxs)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Start Date",(0,y.jsx)(s.Text,{color:"red",children:"*"})]}),(0,y.jsx)(i.Input,{type:T?"date":"datetime-local",fontSize:"sm",onChange:V,onBlur:O,value:M.start,name:"start",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.start&&null!==G&&void 0!==G&&G.start?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",P.start&&G.start&&P.start]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"End Date"}),(0,y.jsx)(i.Input,{type:T?"date":"datetime-local",fontSize:"sm",min:M.start,onChange:V,onBlur:O,value:M.end,name:"end",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.end&&null!==G&&void 0!==G&&G.end?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.end&&G.end&&P.end]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,sm:4},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Background-Color"}),(0,y.jsx)(i.Input,{type:"color",fontSize:"sm",onChange:V,onBlur:O,value:M.backgroundColor,name:"backgroundColor",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.backgroundColor&&null!==G&&void 0!==G&&G.backgroundColor?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.backgroundColor&&G.backgroundColor&&P.backgroundColor]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,sm:4},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Border-Color"}),(0,y.jsx)(i.Input,{fontSize:"sm",type:"color",onChange:V,onBlur:O,value:M.borderColor,name:"borderColor",placeholder:"borderColor",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.borderColor&&null!==G&&void 0!==G&&G.borderColor?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.borderColor&&G.borderColor&&P.borderColor]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,sm:4},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Text-Color"}),(0,y.jsx)(i.Input,{fontSize:"sm",type:"color",onChange:V,onBlur:O,value:M.textColor,name:"textColor",placeholder:"textColor",fontWeight:"500",textColor:null!==P&&void 0!==P&&P.textColor&&null!==G&&void 0!==G&&G.textColor?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.textColor&&G.textColor&&P.textColor]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Url"}),(0,y.jsx)(i.Input,{fontSize:"sm",onChange:V,onBlur:O,value:M.url,name:"url",placeholder:"Enter url",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.url&&null!==G&&void 0!==G&&G.url?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.url&&G.url&&P.url]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Notes"}),(0,y.jsx)(x.T,{resize:"none",fontSize:"sm",onChange:V,onBlur:O,value:M.notes,name:"notes",placeholder:"Notes",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.notes&&null!==G&&void 0!==G&&G.notes?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.notes&&G.notes&&P.notes]})]})]})]}),(0,y.jsxs)(t.jl,{children:[(0,y.jsx)(a.Button,{size:"sm",variant:"brand",disabled:!!N,onClick:E,children:N?(0,y.jsx)(h.A,{}):"Save"}),(0,y.jsx)(a.Button,{sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",size:"sm",onClick:()=>{B.resetForm(),o()},children:"Close"})]})]})]})}},591:(e,o,l)=>{l.d(o,{A:()=>T});var n=l(4034),t=l(9942),a=l(2554),s=l(4450),r=l(8510),i=l(7682),d=l(5104),c=l(4626),m=l(5066),x=l(3186),u=l(3516),p=l(5043),h=l(3388),g=l(9849),v=l(6305),j=l(9565),f=l(1125),b=l(9488),C=l(6178),S=l.n(C),y=l(579);const T=e=>{const{onClose:o,isOpen:l,setAction:C}=e,[T,z]=(0,p.useState)(!1),L=JSON.parse(localStorage.getItem("user"))._id,A=JSON.parse(localStorage.getItem("user")),[I,k]=(0,p.useState)([]),[N,F]=(0,p.useState)(!1),[W,w]=(0,p.useState)(!1),[H,Y]=(0,p.useState)(!1),D={title:"",category:"None",description:"",notes:"",assignmentTo:"",assignmentToLead:"",reminder:"",start:"",end:"",backgroundColor:"",borderColor:"#ffffff",textColor:"",display:"",url:"",allDay:"",status:"",createBy:L},B=(0,u.Wx)({enableReinitialize:!0,initialValues:D,validationSchema:g.pj,onSubmit:(e,o)=>{let{resetForm:l}=o;R()}}),{errors:P,touched:G,values:M,handleBlur:O,handleChange:V,handleSubmit:E,setFieldValue:_}=B,R=async()=>{try{Y(!0),null!==M&&void 0!==M&&M.start&&(M.start=T?S()(M.start).format("YYYY-MM-DD")||"":S()(M.start).format("YYYY-MM-DD HH:mm")||""),null!==M&&void 0!==M&&M.end&&(M.end=T?S()(M.end).format("YYYY-MM-DD")||"":S()(M.end).format("YYYY-MM-DD HH:mm")||""),200===(await(0,v.yP)("api/task/edit/".concat(e.id),M)).status&&(B.resetForm(),e.viewClose(),o(!1),C((e=>!e)))}catch(l){console.log(l)}finally{Y(!1)}},J=async()=>{try{var e;let o;"Contact"===M.category?o=await(0,v.x4)("superAdmin"===A.role?"api/contact/":"api/contact/?createBy=".concat(A._id)):"Lead"===M.category&&(o=await(0,v.x4)("superAdmin"===A.role?"api/lead/":"api/lead/?createBy=".concat(A._id))),k(null===(e=o)||void 0===e?void 0:e.data)}catch(o){console.log(o)}};return(0,p.useEffect)((()=>{J()}),[M.category]),(0,p.useEffect)((()=>{(async()=>{if(e.id)try{var o,l,n,t,a,s,r,i,d,c,m,x,u,p,h,g,j;Y(!0);let f=await(0,v.x4)("api/task/view/",e.id);_("title",null===f||void 0===f||null===(o=f.data)||void 0===o?void 0:o.title),_("category",null===f||void 0===f||null===(l=f.data)||void 0===l?void 0:l.category),_("description",null===f||void 0===f||null===(n=f.data)||void 0===n?void 0:n.description),_("notes",null===f||void 0===f||null===(t=f.data)||void 0===t?void 0:t.notes),_("assignmentTo",null===f||void 0===f||null===(a=f.data)||void 0===a?void 0:a.assignmentTo),_("reminder",null===f||void 0===f||null===(s=f.data)||void 0===s?void 0:s.reminder),_("start",null===f||void 0===f||null===(r=f.data)||void 0===r?void 0:r.start),_("end",null===f||void 0===f||null===(i=f.data)||void 0===i?void 0:i.end),_("backgroundColor",null===f||void 0===f||null===(d=f.data)||void 0===d?void 0:d.backgroundColor),_("borderColor",null===f||void 0===f||null===(c=f.data)||void 0===c?void 0:c.borderColor),_("textColor",null===f||void 0===f||null===(m=f.data)||void 0===m?void 0:m.textColor),_("display",null===f||void 0===f||null===(x=f.data)||void 0===x?void 0:x.display),_("url",null===f||void 0===f||null===(u=f.data)||void 0===u?void 0:u.url),_("status",null===f||void 0===f||null===(p=f.data)||void 0===p?void 0:p.status),_("assignmentToLead",null===f||void 0===f||null===(h=f.data)||void 0===h?void 0:h.assignmentToLead),_("allDay","Yes"===(null===f||void 0===f||null===(g=f.data)||void 0===g?void 0:g.allDay)?"Yes":"No"),z("Yes"===(null===f||void 0===f||null===(j=f.data)||void 0===j?void 0:j.allDay))}catch(f){console.log(f)}finally{Y(!1)}})(),J()}),[e.id,l]),(0,y.jsxs)(t.aF,{isOpen:l,size:"xl",children:[!e.from&&(0,y.jsx)(t.mH,{}),(0,y.jsxs)(t.$m,{overflowY:"auto",height:"600px",children:[(0,y.jsxs)(t.rQ,{justifyContent:"space-between",display:"flex",children:["Edit Task",(0,y.jsx)(a.IconButton,{onClick:()=>o(!1),icon:(0,y.jsx)(n.CloseIcon,{})})]}),(0,y.jsxs)(t.cw,{overflowY:"auto",height:"700px",children:[(0,y.jsx)(j.A,{isOpen:N,data:I,onClose:F,values:M,fieldName:"assignmentTo",setFieldValue:_}),(0,y.jsx)(f.A,{isOpen:W,data:I,onClose:w,values:M,fieldName:"assignmentToLead",setFieldValue:_}),H?(0,y.jsx)(s.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,y.jsx)(b.A,{})}):(0,y.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsxs)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Title",(0,y.jsx)(s.Text,{color:"red",children:"*"})]}),(0,y.jsx)(i.Input,{fontSize:"sm",onChange:V,onBlur:O,value:M.title,name:"title",placeholder:"Title",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.title&&null!==G&&void 0!==G&&G.title?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",fontSize:"sm",children:[" ",P.title&&G.title&&P.title]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Related"}),(0,y.jsx)(d.z6,{onChange:e=>{_("category",e),_("assignmentTo",null),_("assignmentToLead",null)},value:M.category,children:(0,y.jsxs)(s.Stack,{direction:"row",children:[(0,y.jsx)(d.sx,{value:"None",children:"None"}),"Contact"===M.category&&(0,y.jsx)(d.sx,{value:"Contact",children:"Contact"}),"Lead"===M.category&&(0,y.jsx)(d.sx,{value:"Lead",children:"Lead"}),!M.category&&(0,y.jsxs)(y.Fragment,{children:[" ",(0,y.jsx)(d.sx,{value:"Contact",children:"Contact"}),(0,y.jsx)(d.sx,{value:"Lead",children:"Lead"})]})]})}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.category&&G.category&&P.category]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:"None"===M.category?12:6},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Description"}),(0,y.jsx)(i.Input,{fontSize:"sm",onChange:V,onBlur:O,value:M.description,name:"description",placeholder:"Description",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.description&&null!==G&&void 0!==G&&G.description?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.description&&G.description&&P.description]})]}),"Contact"===M.category?(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Assignment To  Contact"}),(0,y.jsxs)(s.Flex,{justifyContent:"space-between",children:[(0,y.jsx)(c.l6,{value:M.assignmentTo,name:"assignmentTo",onChange:V,mb:P.assignmentTo&&G.assignmentTo?void 0:"10px",fontWeight:"500",placeholder:"Assignment To",borderColor:P.assignmentTo&&G.assignmentTo?"red.300":null,children:null===I||void 0===I?void 0:I.map((e=>(0,y.jsx)("option",{value:e._id,children:"Contact"===M.category?"".concat(e.firstName," ").concat(e.lastName):e.leadName},e._id)))}),(0,y.jsx)(a.IconButton,{onClick:()=>F(!0),ml:2,fontSize:"25px",icon:(0,y.jsx)(h.G2h,{})})]}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.assignmentTo&&G.assignmentTo&&P.assignmentTo]})]})}):"Lead"===M.category?(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Assignment To Lead"}),(0,y.jsxs)(s.Flex,{justifyContent:"space-between",children:[(0,y.jsx)(c.l6,{value:M.assignmentToLead,name:"assignmentToLead",onChange:V,mb:P.assignmentToLead&&G.assignmentToLead?void 0:"10px",fontWeight:"500",placeholder:"Assignment To",borderColor:P.assignmentToLead&&G.assignmentToLead?"red.300":null,children:null===I||void 0===I?void 0:I.map((e=>(0,y.jsx)("option",{value:e._id,children:e.leadName},e._id)))}),(0,y.jsx)(a.IconButton,{onClick:()=>w(!0),ml:2,fontSize:"25px",icon:(0,y.jsx)(h.G2h,{})})]}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.assignmentToLead&&G.assignmentToLead&&P.assignmentToLead]})]})}):"",(0,y.jsx)(s.GridItem,{colSpan:{base:12},children:(0,y.jsx)(m.Sc,{isChecked:T,name:"allDay",onChange:e=>{const o=e.target.checked;_("allDay",!0===e.target.checked?"Yes":"No"),z(o)},children:"All Day Task ?"})}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Start Date"}),(0,y.jsx)(i.Input,{type:!0===T?"date":"datetime-local",fontSize:"sm",onChange:V,onBlur:O,value:T?S()(M.start).format("YYYY-MM-DD")||"":S()(M.start).format("YYYY-MM-DDTHH:mm")||"",name:"start",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.start&&null!==G&&void 0!==G&&G.start?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",P.start&&G.start&&P.start]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"End Date"}),(0,y.jsx)(i.Input,{type:!0===T?"date":"datetime-local",fontSize:"sm",min:M.start,onChange:V,onBlur:O,value:T?S()(M.end).format("YYYY-MM-DD")||"":S()(M.end).format("YYYY-MM-DDTHH:mm")||"",name:"end",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.end&&null!==G&&void 0!==G&&G.end?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.end&&G.end&&P.end]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,sm:4},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Background-Color"}),(0,y.jsx)(i.Input,{type:"color",fontSize:"sm",onChange:V,onBlur:O,value:M.backgroundColor,name:"backgroundColor",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.backgroundColor&&null!==G&&void 0!==G&&G.backgroundColor?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.backgroundColor&&G.backgroundColor&&P.backgroundColor]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,sm:4},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Border-Color"}),(0,y.jsx)(i.Input,{fontSize:"sm",type:"color",onChange:V,onBlur:O,value:M.borderColor,name:"borderColor",placeholder:"borderColor",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.borderColor&&null!==G&&void 0!==G&&G.borderColor?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.borderColor&&G.borderColor&&P.borderColor]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,sm:4},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Text-Color"}),(0,y.jsx)(i.Input,{fontSize:"sm",type:"color",onChange:V,onBlur:O,value:M.textColor,name:"textColor",placeholder:"textColor",fontWeight:"500",textColor:null!==P&&void 0!==P&&P.textColor&&null!==G&&void 0!==G&&G.textColor?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.textColor&&G.textColor&&P.textColor]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Url"}),(0,y.jsx)(i.Input,{fontSize:"sm",onChange:V,onBlur:O,value:M.url,name:"url",placeholder:"Enter url",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.url&&null!==G&&void 0!==G&&G.url?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.url&&G.url&&P.url]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Status"}),(0,y.jsxs)(c.l6,{onChange:e=>_("status",e.target.value),value:null===M||void 0===M?void 0:M.status,style:{fontSize:"14px"},children:[(0,y.jsx)("option",{value:"completed",children:"Completed"}),(0,y.jsx)("option",{value:"todo",children:"Todo"}),(0,y.jsx)("option",{value:"onHold",children:"On Hold"}),(0,y.jsx)("option",{value:"inProgress",children:"In Progress"}),(0,y.jsx)("option",{value:"pending",children:"Pending"})]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,y.jsx)(r.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Notes"}),(0,y.jsx)(x.T,{resize:"none",fontSize:"sm",onChange:V,onBlur:O,value:M.notes,name:"notes",placeholder:"Notes",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.notes&&null!==G&&void 0!==G&&G.notes?"red.300":null}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",P.notes&&G.notes&&P.notes]})]})]})]}),(0,y.jsxs)(t.jl,{children:[(0,y.jsx)(a.Button,{size:"sm",variant:"brand",onClick:E,children:"Update"}),(0,y.jsx)(a.Button,{sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",size:"sm",ml:2,onClick:()=>o(!1),children:"Close"})]})]})]})}}}]);
//# sourceMappingURL=376.ce154861.chunk.js.map