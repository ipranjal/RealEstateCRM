"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[134],{962:(e,l,t)=>{t.d(l,{A:()=>k});var n=t(4034),o=t(4450),i=t(5376),a=t(858),s=t(5043),d=t(243),r=t(1009),c=t(4960),u=t(7149),x=t(3216),m=t(9942),h=t(2554),v=t(6305),p=t(579);const g=e=>(0,p.jsx)("div",{children:(0,p.jsxs)(m.aF,{onClose:e.onClose,isOpen:e.isOpen,isCentered:!0,children:[(0,p.jsx)(m.mH,{}),(0,p.jsxs)(m.$m,{children:[(0,p.jsxs)(m.rQ,{children:["Delete Document","one"===e.method?"":"s"]}),(0,p.jsx)(m.s_,{}),(0,p.jsxs)(m.cw,{children:["Are You Sure To Delete selected Document","one"===e.method?"":"s"," ?"]}),(0,p.jsxs)(m.jl,{children:[(0,p.jsx)(h.Button,{size:"sm",colorScheme:"red",mr:2,onClick:async()=>{if("one"===e.method)e.deleteFile(e.id),e.onClose(!1);else if("many"===e.method)try{200===(await(0,v.Vn)(e.url,e.data)).status&&(e.setSelectedValues([]),e.onClose(!1))}catch(l){console.log(l)}},children:"Yes"}),(0,p.jsx)(h.Button,{size:"sm",variant:"outline",onClick:()=>{e.onClose(!1)},children:"No"})]})]})]})});var f=t(8510),j=t(5104),b=t(4626),S=t(3516),C=t(2145),y=t(9565),T=t(1125),z=t(3388);const A=e=>{const{setLinkDocument:l}=e,[t,i]=(0,s.useState)(!1),[a,d]=(0,s.useState)([]),[r,c]=(0,s.useState)(!1),[u,x]=(0,s.useState)(!1),g=JSON.parse(localStorage.getItem("user")),A=(0,S.Wx)({initialValues:{linkWith:"",linkContact:"",linkLead:""},onSubmit:(e,l)=>{let{resetForm:t}=l;P(),t()}}),{errors:w,touched:k,values:I,handleBlur:N,handleChange:D,handleSubmit:L,setFieldValue:B,resetForm:F}=A,P=async()=>{try{i(!0);let n=I.linkContact?{linkContact:I.linkContact}:{linkLead:I.linkLead},o=await(0,v.d_)("api/document/link-document/".concat(e.id),n);var t;if(o&&200===o.status)l((e=>!e)),e.onClose();else C.oR.error(null===(t=o.response.data)||void 0===t?void 0:t.message)}catch(n){console.log(n)}finally{i(!1)}};return(0,s.useEffect)((()=>{(async()=>{if("Contact"===I.linkWith){let e=await(0,v.x4)("superAdmin"===g.role?"api/contact/":"api/contact/?createBy=".concat(g._id));I.createBy=null===e||void 0===e?void 0:e._id,d((l=>{var t;return[...(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map((e=>({label:e.firstName+" "+e.lastName,value:e._id}))))||[]]}))}else if("lead"===I.linkWith){let e=await(0,v.x4)("superAdmin"===g.role?"api/lead/":"api/lead/?createBy=".concat(g._id));I.createBy=null===e||void 0===e?void 0:e._id,d((l=>{var t;return[...(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map((e=>({label:e.leadName,value:e._id}))))||[]]}))}})()}),[I.linkWith]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(m.aF,{onClose:e.onClose,isOpen:e.isOpen,children:[(0,p.jsx)(m.mH,{}),(0,p.jsxs)(m.$m,{children:[(0,p.jsx)(m.rQ,{children:"Link With Document"}),(0,p.jsx)(m.s_,{}),(0,p.jsx)(m.cw,{children:(0,p.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,p.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Link With"}),(0,p.jsx)(j.z6,{onChange:e=>{F(),B("linkWith",e)},value:I.linkWith,children:(0,p.jsxs)(o.Stack,{direction:"row",children:[(0,p.jsx)(j.sx,{value:"Contact",children:"Contact"}),(0,p.jsx)(j.sx,{value:"lead",children:"Lead"})]})}),(0,p.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",w.linkWith&&k.linkWith&&w.linkWith]})]}),"Contact"===I.linkWith?(0,p.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Link Contact"}),(0,p.jsxs)(o.Flex,{children:[(0,p.jsx)(b.l6,{value:I.linkContact,name:"linkContact",onChange:D,mb:w.linkContact&&k.linkContact?void 0:"10px",fontWeight:"500",placeholder:"Link Contact",borderColor:w.linkContact&&k.linkContact?"red.300":null,children:null===a||void 0===a?void 0:a.map((e=>(0,p.jsx)("option",{value:e.value,children:"Contact"===I.linkWith&&"".concat(e.label)},e.value)))}),(0,p.jsx)(h.IconButton,{onClick:()=>c(!0),ml:2,fontSize:"25px",icon:(0,p.jsx)(z.G2h,{})}),(0,p.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",w.linkContact&&k.linkContact&&w.linkContact]})]})]}):"lead"===I.linkWith&&(0,p.jsxs)(o.GridItem,{colSpan:{base:12},children:[console.log(a),(0,p.jsx)(f.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Link Lead"}),(0,p.jsxs)(o.Flex,{children:[(0,p.jsx)(b.l6,{value:I.linkLead,name:"linkLead",onChange:D,mb:w.linkLead&&k.linkLead?void 0:"10px",fontWeight:"500",placeholder:"Link Lead",borderColor:w.linkLead&&k.linkLead?"red.300":null,children:null===a||void 0===a?void 0:a.map((e=>(0,p.jsx)("option",{value:e.value,children:"lead"===I.linkWith&&"".concat(e.label)},e.value)))}),(0,p.jsx)(h.IconButton,{onClick:()=>c(!0),ml:2,fontSize:"25px",icon:(0,p.jsx)(z.G2h,{})}),(0,p.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",w.linkLead&&k.linkLead&&w.linkLead]})]}),(0,p.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",w.linkLead&&k.linkLead&&w.linkLead]})]})]})}),(0,p.jsxs)(m.jl,{children:[(0,p.jsx)(h.Button,{size:"sm",colorScheme:"brand",rightIcon:(0,p.jsx)(n.LinkIcon,{}),mr:2,onClick:P,children:"Link"}),(0,p.jsx)(h.Button,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>{e.onClose(!1),F()},children:"Cancel"})]})]})]}),(0,p.jsx)(y.A,{data:a,isOpen:r,onClose:c,fieldName:"linkContact",setFieldValue:B}),(0,p.jsx)(T.A,{data:a,isOpen:u,onClose:x,fieldName:"linkLead",setFieldValue:B})]})};var w=t(7368);const k=e=>{let{data:l,deleteFile:t,item:m,download:h,name:v,isFile:f,children:j,setLinkDocument:b,from:S}=e;const[C,y]=(0,s.useState)(!1),[T,z]=(0,s.useState)(!1),[k,I]=(0,s.useState)(!1),[N,D]=(0,s.useState)(!1),L=(0,x.Zp)(),B=!f&&!!j;JSON.parse(localStorage.getItem("user"));return(0,p.jsxs)(o.List,{width:"100%",children:[(0,p.jsx)(o.ListItem,{alignItems:"center",display:"flex",children:(0,p.jsxs)(o.Text,{alignItems:"center",justifyContent:"space-between",display:"flex",width:"100%",onClick:B?()=>{y(!C)}:void 0,_hover:{cursor:"pointer",textDecoration:"none"},children:[(0,p.jsxs)(o.Flex,{width:"70%",alignItems:"center",children:[(0,p.jsx)(o.ListIcon,{as:f?r.QuH:d.NVk}),B&&(C?(0,p.jsx)(r.fK4,{}):(0,p.jsx)(r.fOo,{})),v]}),null!==m&&void 0!==m&&m.createByName?(0,p.jsxs)(o.Text,{children:["(",null===m||void 0===m?void 0:m.createByName,") "]}):null,!B&&(0,p.jsx)(o.Flex,{justifyContent:"right",width:"100%",children:(0,p.jsxs)(i.W1,{isLazy:!0,children:[(0,p.jsx)(i.IU,{children:(0,p.jsx)(w.txp,{})}),(0,p.jsxs)(i.cO,{position:"absolute",right:-5,pl:"0.5em",minW:"fit-content",children:[!S&&null!==l&&void 0!==l&&l.linkContact?(0,p.jsx)(i.Dr,{pr:2,w:"180px",onClick:()=>L("/contactView/".concat(null===l||void 0===l?void 0:l.linkContact)),icon:(0,p.jsx)(c.oau,{fontSize:15}),children:"Linked Contact"}):!S&&(null===l||void 0===l?void 0:l.linkLead)&&(0,p.jsx)(i.Dr,{pr:2,w:"180px",onClick:()=>L("/leadView/".concat(null===l||void 0===l?void 0:l.linkLead)),icon:(0,p.jsx)(u.ju$,{fontSize:15}),children:"Linked Lead"}),!S&&(0,p.jsx)(i.Dr,{pr:10,alignItems:"start",color:"blue",onClick:()=>(e=>{I(!0),D(e)})(null===l||void 0===l?void 0:l._id),icon:(0,p.jsx)(n.LinkIcon,{fontSize:15}),children:"Link"}),function(e){const l=e.substring(e.lastIndexOf(".")).toLowerCase();return[".jpg",".jpeg",".png",".gif",".bmp"].includes(l)}(null===l||void 0===l?void 0:l.img)&&(0,p.jsx)(i.Dr,{alignItems:"start",pr:10,color:"green",onClick:()=>window.open(null===l||void 0===l?void 0:l.img),icon:(0,p.jsx)(n.ViewIcon,{fontSize:15}),children:"View"}),(0,p.jsx)(i.Dr,{pr:10,alignItems:"start",onClick:()=>(e=>{h(e)})(null===l||void 0===l?void 0:l._id),icon:(0,p.jsx)(n.DownloadIcon,{fontSize:15}),children:"Download"}),!S&&(0,p.jsx)(i.Dr,{alignItems:"start",pr:10,color:"red",onClick:()=>(e=>{z(!0),D(e)})(null===l||void 0===l?void 0:l._id),icon:(0,p.jsx)(n.DeleteIcon,{fontSize:15}),children:"Delete"})]})]})}),(0,p.jsx)(g,{isOpen:T,onClose:z,method:"one",deleteFile:t,id:N}),(0,p.jsx)(A,{isOpen:k,setLinkDocument:b,onClose:I,id:N})]})}),B&&(0,p.jsx)(a.SD,{in:C,animateOpacity:!0,children:(0,p.jsx)(o.List,{styleType:"disc",ml:4,children:j})})]})}},8618:(e,l,t)=>{t.d(l,{A:()=>p});var n=t(9942),o=t(4450),i=t(8510),a=t(7682),s=t(2554),d=t(5043),r=t(3516),c=t(9488),u=t(6305),x=t(9849);const m=e=>{const l=new FormData;return Object.entries(e).forEach((e=>{let[t,n]=e;l.append(t,n)})),e.files.forEach((e=>{null===l||void 0===l||l.append("files",e)})),l};var h=t(8966),v=t(579);const p=e=>{let{setAddDocument:l,addDocument:t,linkId:p,from:g,setAction:f}=e;const[j,b]=(0,d.useState)(!1),[S,C]=(0,d.useState)([]),y=JSON.parse(localStorage.getItem("user")),T=async()=>{b(!0);let e=await(0,u.x4)("superAdmin"===y.role?"api/document":"api/document?createBy=".concat(y._id));C(null===e||void 0===e?void 0:e.data),b(!1)};(0,d.useEffect)((()=>{T()}),[t]);const z={folderName:"",files:"",filename:"",linkLead:"lead"===g&&p,linkContact:"contact"===g&&p,createBy:y._id},A=(0,r.Wx)({initialValues:z,validationSchema:x.L8,onSubmit:(e,l)=>{let{resetForm:t}=l;P()}}),{errors:w,touched:k,values:I,handleBlur:N,handleChange:D,handleSubmit:L,setFieldValue:B,resetForm:F}=A,P=async()=>{try{b(!0);const e=m(I);let t=await(0,u.d_)("lead"===g?"api/document/addDocumentLead":"api/document/addDocumentContact",e);t&&200===t.status&&(T(),A.resetForm(),f((e=>!e)),l(!1))}catch(e){console.log(e)}finally{b(!1)}};return(0,v.jsxs)(n.aF,{onClose:()=>l(!1),isOpen:t,isCentered:!0,children:[(0,v.jsx)(n.mH,{}),(0,v.jsxs)(n.$m,{maxWidth:"2xl",children:[(0,v.jsx)(n.rQ,{}),(0,v.jsx)(n.s_,{}),(0,v.jsxs)(n.cw,{children:[(0,v.jsxs)(o.Box,{children:[(0,v.jsxs)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Folder Name",(0,v.jsx)(o.Text,{color:"red",children:"*"})]}),(0,v.jsx)(a.Input,{fontSize:"sm",onChange:D,value:I.folderName,name:"folderName",placeholder:"Enter Folder Name",fontWeight:"500",borderColor:null!==w&&void 0!==w&&w.folderName&&null!==k&&void 0!==k&&k.folderName?"red.300":null}),t&&(null===I||void 0===I?void 0:I.folderName)&&(null===S||void 0===S?void 0:S.filter((e=>{var l,t;return null===e||void 0===e||null===(l=e.folderName)||void 0===l||null===(t=l.toLowerCase())||void 0===t?void 0:t.includes(null===I||void 0===I?void 0:I.folderName.toLowerCase())})).length)>0&&(0,v.jsx)(o.List,{position:"relative",border:"1px solid",bg:"gray.100",width:"100%",borderRadius:"0px 0px 20px 20px",lineHeight:1,children:null===S||void 0===S?void 0:S.filter((e=>{var l,t;return null===e||void 0===e||null===(l=e.folderName)||void 0===l||null===(t=l.toLowerCase())||void 0===t?void 0:t.includes(null===I||void 0===I?void 0:I.folderName.toLowerCase())})).map(((e,l)=>(0,v.jsx)(o.ListItem,{p:3,borderBottom:"2px solid #efefef",sx:{"&:last-child":{borderBottom:"none"}},cursor:"pointer",onClick:()=>{B("folderName",null===e||void 0===e?void 0:e.folderName)},children:null===e||void 0===e?void 0:e.folderName},null===e||void 0===e?void 0:e._id)))}),(0,v.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",w.folderName&&k.folderName&&w.folderName]})]}),(0,v.jsxs)(o.Box,{children:[(0,v.jsx)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"File Name"}),(0,v.jsx)(a.Input,{fontSize:"sm",onChange:D,value:I.filename,name:"filename",placeholder:"Enter File Name",fontWeight:"500",borderColor:null!==w&&void 0!==w&&w.filename&&null!==k&&void 0!==k&&k.filename?"red.300":null}),(0,v.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",w.filename&&k.filename&&w.filename]})]}),(0,v.jsx)(h.A,{count:I.files.length,onFileSelect:e=>B("files",e)}),"              "]}),(0,v.jsxs)(n.jl,{children:[(0,v.jsx)(s.Button,{size:"sm",variant:"brand",mr:2,onClick:L,disabled:!!j,children:j?(0,v.jsx)(c.A,{}):"Save"}),(0,v.jsx)(s.Button,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>{l(!1),F()},children:"Close"})]})]})]})}},3278:(e,l,t)=>{t.d(l,{A:()=>b});var n=t(9379),o=t(1206),i=t(4450),a=t(2554),s=t(1778),d=t(6178),r=t.n(d),c=t(5043),u=t(1094),x=t(6914),m=t(8152),h=t(3216),v=t(5475),p=t(6),g=t(4034),f=t(2853),j=t(579);function b(e){var l,t,d,b;const{columnsData:S,tableData:C,title:y,fetchData:T,emailAccess:z}=e,A=(0,c.useMemo)((()=>S),[S]),w=(0,c.useMemo)((()=>C),[C]),[k,I]=(0,c.useState)(!1),[N,D]=(JSON.parse(localStorage.getItem("user")),(0,c.useState)()),L=(0,u.useTable)({columns:A,data:w,initialState:{pageIndex:0}},u.useGlobalFilter,u.useSortBy,u.usePagination),{getTableProps:B,getTableBodyProps:F,headerGroups:P,prepareRow:W,page:_,canPreviousPage:H,canNextPage:O,pageOptions:G,pageCount:E,gotoPage:V,nextPage:R,previousPage:M,setPageSize:U,state:{pageIndex:Y,pageSize:J}}=L;G.length<N&&D(G.length);const X=(0,o.dU)("gray.500","white"),$=(0,o.dU)("gray.200","whiteAlpha.100"),Q=(0,h.g)(),K=(0,o.dU)("gray.200","white");return(0,c.useEffect)((()=>{void 0===N&&G.length<N&&D(G.length)}),[G,N]),(0,j.jsxs)(i.Box,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,j.jsxs)(i.Flex,{justify:"space-between",mb:"10px",align:"center",children:[(0,j.jsxs)(i.Heading,{size:"md",mb:3,children:[y,"  (",(0,j.jsx)(x.A,{targetNumber:null===w||void 0===w?void 0:w.length},null===w||void 0===w?void 0:w.length),")"]}),(null===z||void 0===z?void 0:z.create)&&(0,j.jsx)(a.Button,{size:"sm",onClick:()=>I(!0),leftIcon:(0,j.jsx)(g.AddIcon,{}),colorScheme:"gray",bg:K,children:"Add New"}),(0,j.jsx)(p.A,{lead:e.lead,leadEmail:null===e||void 0===e||null===(l=e.viewData)||void 0===l||null===(t=l.lead)||void 0===t?void 0:t.leadEmail,contactEmail:null===e||void 0===e||null===(d=e.viewData)||void 0===d||null===(b=d.contact)||void 0===b?void 0:b.email,fetchData:T,isOpen:k,onClose:I,id:Q.id})]}),(0,j.jsx)(i.Box,{overflowY:"auto",className:"table-container p0",children:(0,j.jsxs)(s.XI,(0,n.A)((0,n.A)({},B()),{},{variant:"simple",color:"gray.500",mb:"24px",children:[(0,j.jsx)(s.d8,{children:null===P||void 0===P?void 0:P.map(((e,l)=>(0,c.createElement)(s.Tr,(0,n.A)((0,n.A)({},e.getHeaderGroupProps()),{},{key:l}),e.headers.map(((e,l)=>(0,c.createElement)(s.Th,(0,n.A)((0,n.A)({},e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps())),{},{pe:"10px",key:l,borderColor:$}),(0,j.jsx)(i.Flex,{justifyContent:e.center?"center":"start",align:"center",fontSize:{sm:"14px",lg:"16px"},color:"secondaryGray.900",children:(0,j.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")})})))))))}),(0,j.jsx)(s.NN,(0,n.A)((0,n.A)({},F()),{},{children:0===(null===w||void 0===w?void 0:w.length)?(0,j.jsx)(s.Tr,{children:(0,j.jsx)(s.Td,{colSpan:null===A||void 0===A?void 0:A.length,children:(0,j.jsx)(i.Text,{textAlign:"center",width:"100%",color:X,fontSize:"sm",fontWeight:"700",children:(0,j.jsx)(f.A,{})})})}):null===_||void 0===_?void 0:_.map(((e,l)=>{var t;return W(e),(0,c.createElement)(s.Tr,(0,n.A)((0,n.A)({},null===e||void 0===e?void 0:e.getRowProps()),{},{key:l}),null===e||void 0===e||null===(t=e.cells)||void 0===t?void 0:t.map(((e,l)=>{let t="";if("sender"===(null===e||void 0===e?void 0:e.column.Header))t=(0,j.jsx)(i.Flex,{align:"center",children:(0,j.jsx)(i.Text,{me:"10px",color:X,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value})});else if("recipient"===(null===e||void 0===e?void 0:e.column.Header)){var o;t=(0,j.jsx)(i.Flex,{align:"center",children:(0,j.jsx)(v.N_,{to:"/Email/".concat(null===e||void 0===e||null===(o=e.row)||void 0===o?void 0:o.original._id),children:(0,j.jsx)(i.Text,{sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value})})})}else if("Created"===(null===e||void 0===e?void 0:e.column.Header)){var a;t=(0,j.jsx)(i.Text,{color:X,fontSize:"sm",fontWeight:"700",children:r()(null===e||void 0===e||null===(a=e.row)||void 0===a?void 0:a.values.timestamp).format("h:mma (DD/MM)")})}else"time stamp"===(null===e||void 0===e?void 0:e.column.Header)&&(t=(0,j.jsx)(i.Text,{color:X,fontSize:"sm",fontWeight:"700",children:r()(null===e||void 0===e?void 0:e.value).fromNow()}));return(0,c.createElement)(s.Td,(0,n.A)((0,n.A)({},null===e||void 0===e?void 0:e.getCellProps()),{},{key:l,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"}),t)})))}))}))]}))}),(null===w||void 0===w?void 0:w.length)>5&&(0,j.jsx)(m.A,{gotoPage:V,gopageValue:N,setGopageValue:D,pageCount:E,canPreviousPage:H,previousPage:M,canNextPage:O,pageOptions:G,setPageSize:U,nextPage:R,pageSize:J,pageIndex:Y})]})}},4406:(e,l,t)=>{t.d(l,{A:()=>S});var n=t(9379),o=t(1206),i=t(4450),a=t(2554),s=t(1778),d=t(6178),r=t.n(d),c=t(5043),u=t(1094),x=t(6914),m=t(8152),h=t(7149),v=t(3216),p=t(5475),g=t(9250),f=t(4034),j=t(2853),b=t(579);function S(e){const{columnsData:l,tableData:t,title:d,fetchData:S,callAccess:C}=e,y=(0,c.useMemo)((()=>l),[l]),T=(0,c.useMemo)((()=>t),[t]),[z,A]=(0,c.useState)(!1),[w,k]=(JSON.parse(localStorage.getItem("user")),(0,c.useState)()),I=(0,u.useTable)({columns:y,data:T,initialState:{pageIndex:0}},u.useGlobalFilter,u.useSortBy,u.usePagination),{getTableProps:N,getTableBodyProps:D,headerGroups:L,prepareRow:B,page:F,canPreviousPage:P,canNextPage:W,pageOptions:_,pageCount:H,gotoPage:O,nextPage:G,previousPage:E,setPageSize:V,state:{pageIndex:R,pageSize:M}}=I;_.length<w&&k(_.length);const U=(0,o.dU)("gray.500","white"),Y=(0,o.dU)("gray.200","whiteAlpha.100"),J=(0,o.dU)("gray.200","white"),X=(0,v.g)(),$=(0,v.Zp)();return(0,b.jsxs)(i.Box,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,b.jsxs)(i.Flex,{justify:"space-between",mb:"10px",align:"center",children:[(0,b.jsxs)(i.Heading,{size:"md",mb:3,children:[d," (",(0,b.jsx)(x.A,{targetNumber:null===T||void 0===T?void 0:T.length},null===T||void 0===T?void 0:T.length),")"]}),e.text?(0,b.jsx)(a.Button,{onClick:()=>$("/communication-integration"),size:"sm",leftIcon:(0,b.jsx)(h.liL,{}),colorScheme:"gray",children:"send text Msg"}):(null===C||void 0===C?void 0:C.create)&&(0,b.jsx)(a.Button,{onClick:()=>A(!0),leftIcon:(0,b.jsx)(f.AddIcon,{}),size:"sm",colorScheme:"gray",bg:J,children:"Add New"}),(0,b.jsx)(g.A,{lead:e.lead,fetchData:S,isOpen:z,onClose:A,id:X.id})]}),(0,b.jsx)(i.Box,{overflowY:"auto",className:"table-container",children:(0,b.jsxs)(s.XI,(0,n.A)((0,n.A)({},N()),{},{variant:"simple",color:"gray.500",mb:"24px",children:[(0,b.jsx)(s.d8,{children:null===L||void 0===L?void 0:L.map(((e,l)=>(0,c.createElement)(s.Tr,(0,n.A)((0,n.A)({},e.getHeaderGroupProps()),{},{key:l}),e.headers.map(((e,l)=>(0,c.createElement)(s.Th,(0,n.A)((0,n.A)({},e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps())),{},{pe:"10px",key:l,borderColor:Y}),(0,b.jsx)(i.Flex,{justifyContent:e.center?"center":"start",align:"center",fontSize:{sm:"14px",lg:"16px"},color:"secondaryGray.900",children:(0,b.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")})})))))))}),(0,b.jsxs)(s.NN,(0,n.A)((0,n.A)({},D()),{},{children:[0===(null===T||void 0===T?void 0:T.length)&&(0,b.jsx)(s.Tr,{children:(0,b.jsx)(s.Td,{colSpan:y.length,children:(0,b.jsx)(i.Text,{textAlign:"center",width:"100%",color:U,fontSize:"sm",fontWeight:"700",children:(0,b.jsx)(j.A,{})})})}),null===F||void 0===F?void 0:F.map(((l,t)=>(B(l),(0,c.createElement)(s.Tr,(0,n.A)((0,n.A)({},null===l||void 0===l?void 0:l.getRowProps()),{},{key:t}),null===l||void 0===l?void 0:l.cells.map(((l,t)=>{let o="";if("sender"===(null===l||void 0===l?void 0:l.column.Header))o=(0,b.jsx)(i.Flex,{align:"center",children:(0,b.jsx)(i.Text,{fontSize:"sm",color:U,fontWeight:"700",children:null===l||void 0===l?void 0:l.value})});else if("recipient"===(null===l||void 0===l?void 0:l.column.Header)){var a,d;o=(0,b.jsx)(i.Flex,{align:"center",children:(0,b.jsx)(p.N_,{to:e.text?"/text-msg/".concat(null===l||void 0===l||null===(a=l.row)||void 0===a?void 0:a.original._id):"/phone-call/".concat(null===l||void 0===l||null===(d=l.row)||void 0===d?void 0:d.original._id),children:(0,b.jsx)(i.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null===l||void 0===l?void 0:l.value})})})}else if("Created"===(null===l||void 0===l?void 0:l.column.Header)){var u;o=(0,b.jsx)(i.Text,{color:U,fontSize:"sm",fontWeight:"700",children:r()(null===l||void 0===l||null===(u=l.row)||void 0===u?void 0:u.values.timestamp).format("h:mma (DD/MM)")})}else"time stamp"===(null===l||void 0===l?void 0:l.column.Header)&&(o=(0,b.jsx)(i.Text,{color:U,fontSize:"sm",fontWeight:"700",children:r()(null===l||void 0===l?void 0:l.value).fromNow()}));return(0,c.createElement)(s.Td,(0,n.A)((0,n.A)({},null===l||void 0===l?void 0:l.getCellProps()),{},{key:t,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"}),o)}))))))]}))]}))}),(null===T||void 0===T?void 0:T.length)>5&&(0,b.jsx)(m.A,{gotoPage:O,gopageValue:w,setGopageValue:k,pageCount:H,canPreviousPage:P,previousPage:E,canNextPage:W,pageOptions:_,setPageSize:V,nextPage:G,pageSize:M,pageIndex:R})]})}},8966:(e,l,t)=>{t.d(l,{A:()=>u});var n=t(45),o=t(1206),i=t(4450),a=t(3458),s=t(1997),d=t(7149),r=t(579);const c=["used","total","count"];function u(e){const{used:l,total:t,count:u}=e,x=((0,n.A)(e,c),(0,o.dU)("secondaryGray.900","white")),m=(0,o.dU)("brand.500","white");return(0,r.jsxs)(i.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,r.jsx)(i.GridItem,{colSpan:{base:12,"2xl":5},children:(0,r.jsx)(s.A,{w:{base:"100%","2xl":"240px"},me:"36px",minH:200,height:"100%",onFileSelect:e.onFileSelect,content:(0,r.jsxs)(i.Box,{children:[(0,r.jsx)(a.In,{as:d.vpy,w:"70px",h:"70px",color:m}),(0,r.jsx)(i.Flex,{justify:"center",mx:"auto",mb:"12px",children:(0,r.jsx)(i.Text,{fontSize:"xl",fontWeight:"700",color:m,children:"Upload Files"})}),(0,r.jsx)(i.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:u>0&&(0,r.jsxs)(i.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:["Selected Files : ",u]})})]})})}),(0,r.jsx)(i.GridItem,{colSpan:{base:12,"2xl":7},children:(0,r.jsxs)(i.Flex,{direction:"column",children:[(0,r.jsx)(i.Text,{color:x,fontWeight:"bold",textAlign:"start",fontSize:"2xl",mt:{base:"20px","2xl":"50px"},children:"Upload Files"}),(0,r.jsx)(i.Text,{color:"gray.400",fontSize:"md",my:{base:"auto","2xl":"10px"},mx:"auto",textAlign:"start",children:"Accepted File Types (Images, PDFs, Word docs, Powerpoint, Excel, ZIP, and video files - 15MB max)"})]})})]})}},6:(e,l,t)=>{t.d(l,{A:()=>v});var n=t(9942),o=t(4450),i=t(8510),a=t(7682),s=t(3186),d=t(2554),r=t(9488),c=t(3516),u=t(5043),x=t(9849),m=t(6305),h=t(579);const v=e=>{const{onClose:l,isOpen:t,fetchData:v,setAction:p}=e,g=JSON.parse(localStorage.getItem("user")),[f,j]=(0,u.useState)(!1),b={sender:null===g||void 0===g?void 0:g._id,recipient:"true"!==e.lead?null===e||void 0===e?void 0:e.contactEmail:null===e||void 0===e?void 0:e.leadEmail,subject:"",message:"",createByContact:"",createByLead:"",startDate:"",endDate:"",createBy:null===g||void 0===g?void 0:g._id},S=(0,c.Wx)({initialValues:b,validationSchema:x.y4,enableReinitialize:!0,onSubmit:(e,l)=>{let{resetForm:t}=l;I(),t()}}),{errors:C,touched:y,values:T,handleBlur:z,handleChange:A,handleSubmit:w,setFieldValue:k}=S,I=async()=>{try{j(!0),200===(await(0,m.d_)("api/email/add",T)).status&&(e.onClose(),v(),p((e=>!e)))}catch(l){console.log(l)}finally{j(!1)}};return(0,u.useEffect)((()=>{e.id&&"true"!==e.lead?k("createByContact",e.id):e.id&&"true"===e.lead&&k("createByLead",e.id)}),[e.id,e.lead]),(0,h.jsxs)(n.aF,{onClose:l,isOpen:t,isCentered:!0,children:[(0,h.jsx)(n.mH,{}),(0,h.jsxs)(n.$m,{children:[(0,h.jsx)(n.rQ,{children:"Send Email "}),(0,h.jsx)(n.s_,{}),(0,h.jsx)(n.cw,{children:(0,h.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,h.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,h.jsxs)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Recipient",(0,h.jsx)(o.Text,{color:"red",children:"*"})]}),(0,h.jsx)(a.Input,{fontSize:"sm",onChange:A,onBlur:z,value:T.recipient,name:"recipient",disabled:!0,placeholder:"Recipient",fontWeight:"500",borderColor:C.recipient&&y.recipient?"red.300":null}),(0,h.jsxs)(o.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",C.recipient&&y.recipient&&C.recipient]})]}),(0,h.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,h.jsx)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Subject"}),(0,h.jsx)(a.Input,{fontSize:"sm",placeholder:"Enter subject",onChange:A,onBlur:z,value:T.subject,name:"subject",fontWeight:"500",borderColor:C.subject&&y.subject?"red.300":null}),(0,h.jsxs)(o.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",C.subject&&y.subject&&C.subject]})]}),(0,h.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,h.jsxs)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Start Date",(0,h.jsx)(o.Text,{color:"red",children:"*"})]}),(0,h.jsx)(a.Input,{type:"datetime-local",fontSize:"sm",onChange:A,onBlur:z,value:T.startDate,name:"startDate",fontWeight:"500",borderColor:null!==C&&void 0!==C&&C.startDate&&null!==y&&void 0!==y&&y.startDate?"red.300":null}),(0,h.jsxs)(o.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",C.startDate&&y.startDate&&C.startDate]})]}),(0,h.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,h.jsx)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"End Date"}),(0,h.jsx)(a.Input,{type:"datetime-local",fontSize:"sm",min:T.startDate,onChange:A,onBlur:z,value:T.endDate,name:"endDate",fontWeight:"500",borderColor:null!==C&&void 0!==C&&C.endDate&&null!==y&&void 0!==y&&y.endDate?"red.300":null}),(0,h.jsxs)(o.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",C.endDate&&y.endDate&&C.endDate]})]}),(0,h.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,h.jsx)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Message"}),(0,h.jsx)(s.T,{fontSize:"sm",placeholder:"Here Type message",resize:"none",onChange:A,onBlur:z,value:T.message,name:"message",fontWeight:"500",borderColor:C.message&&y.message?"red.300":null}),(0,h.jsxs)(o.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",C.message&&y.message&&C.message]})]})]})}),(0,h.jsxs)(n.jl,{children:[(0,h.jsx)(d.Button,{size:"sm",variant:"brand",onClick:w,disabled:!!f,children:f?(0,h.jsx)(r.A,{}):"Save"}),(0,h.jsx)(d.Button,{sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",size:"sm",onClick:()=>{S.resetForm(),l()},children:"Close"})]})]})]})}},6654:(e,l,t)=>{t.d(l,{A:()=>z});var n=t(9379),o=t(9942),i=t(4450),a=t(8510),s=t(7682),d=t(5104),r=t(2554),c=t(3186),u=t(968),x=t(5043),m=t(1046),h=t(9488),v=t(8860),p=t(579);const g=e=>{const{onClose:l,isOpen:t,fieldName:n,setFieldValue:a,data:s}=e,[d,c]=(0,x.useState)([]),[u,g]=(0,x.useState)(!1),f=(JSON.parse(localStorage.getItem("user")),[...new Set(d)]);return(0,p.jsxs)(o.aF,{onClose:l,size:"full",isOpen:t,children:[(0,p.jsx)(o.mH,{}),(0,p.jsxs)(o.$m,{children:[(0,p.jsx)(o.rQ,{children:"Select Contact"}),(0,p.jsx)(o.s_,{}),(0,p.jsx)(o.cw,{children:u?(0,p.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,p.jsx)(h.A,{})}):(0,p.jsx)(m.A,{tableData:s,type:"multi",selectedValues:d,setSelectedValues:c,columnsData:[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"title",accessor:"title"},{Header:"first Name",accessor:"firstName"},{Header:"last Name",accessor:"lastName"},{Header:"phone Number",accessor:"phoneNumber"},{Header:"Email Address",accessor:"email"},{Header:"physical Address",accessor:"physicalAddress"},{Header:"mailing Address",accessor:"mailingAddress"},{Header:"Contact Method",accessor:"preferredContactMethod"}],title:"Contact"})}),(0,p.jsxs)(o.jl,{children:[(0,p.jsxs)(r.Button,{variant:"brand",onClick:async()=>{try{g(!0),a(n,f),l()}catch(e){console.log(e)}finally{g(!1)}},disabled:!!u,leftIcon:(0,p.jsx)(v.NLY,{}),children:[" ",u?(0,p.jsx)(h.A,{}):"Select"]}),(0,p.jsx)(r.Button,{onClick:()=>l(),children:"Close"})]})]})]})};var f=t(7214);const j=e=>{const{onClose:l,isOpen:t,fieldName:n,setFieldValue:a,data:s}=e,[d,c]=(0,x.useState)([]),[u,m]=(0,x.useState)(!1),g=(JSON.parse(localStorage.getItem("user")),[...new Set(d)]);return(0,p.jsxs)(o.aF,{onClose:l,size:"full",isOpen:t,children:[(0,p.jsx)(o.mH,{}),(0,p.jsxs)(o.$m,{children:[(0,p.jsx)(o.rQ,{children:"Select Lead"}),(0,p.jsx)(o.s_,{}),(0,p.jsx)(o.cw,{children:u?(0,p.jsx)(i.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,p.jsx)(h.A,{})}):(0,p.jsx)(f.A,{tableData:s,type:"multi",selectedValues:d,setSelectedValues:c,columnsData:[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Lead Name",accessor:"leadName",width:20},{Header:"Lead Email",accessor:"leadEmail"},{Header:"Lead PhoneNumber",accessor:"leadPhoneNumber"},{Header:"Lead Address",accessor:"leadAddress"},{Header:"Lead Status",accessor:"leadStatus"},{Header:"Lead Owner",accessor:"leadOwner"},{Header:"Lead Score",accessor:"leadScore"}],title:"Lead"})}),(0,p.jsxs)(o.jl,{children:[(0,p.jsxs)(r.Button,{variant:"brand",onClick:async()=>{try{m(!0),a(n,g),l()}catch(e){console.log(e)}finally{m(!1)}},disabled:!!u,leftIcon:(0,p.jsx)(v.NLY,{}),children:[" ",u?(0,p.jsx)(h.A,{}):"Select"]}),(0,p.jsx)(r.Button,{onClick:()=>l(),children:"Close"})]})]})]})};var b=t(3516),S=t(3388),C=t(2145),y=t(9849),T=t(6305);const z=e=>{const{onClose:l,isOpen:t,setAction:m,from:v}=e,[f,z]=(0,x.useState)([]),[A,w]=(0,x.useState)(!1),[k,I]=(0,x.useState)(!1),[N,D]=(0,x.useState)(!1),L=JSON.parse(localStorage.getItem("user")),B={agenda:"",attendes:"contactView"===e.leadContect&&e.id?[e.id]:[],attendesLead:"leadView"===e.leadContect&&e.id?[e.id]:[],location:"",related:"contactView"===e.leadContect?"Contact":"leadView"===e.leadContect?"Lead":"None",dateTime:"",notes:"",createBy:null===L||void 0===L?void 0:L._id},F=(0,b.Wx)({initialValues:B,validationSchema:y.pq,onSubmit:(e,l)=>{let{resetForm:t}=l;V()}}),{errors:P,touched:W,values:_,handleBlur:H,handleChange:O,handleSubmit:G,setFieldValue:E}=F,V=async()=>{try{if(w(!0),_.attendes.length>0||_.attendesLead.length>0){200===(await(0,T.d_)("api/meeting/add",_)).status&&(F.resetForm(),e.onClose(),m((e=>!e)))}else C.oR.error("Select Related To")}catch(l){console.log(l)}finally{w(!1)}};(0,x.useEffect)((()=>{(async()=>{var e;let l;"Contact"===_.related?l=await(0,T.x4)("superAdmin"===L.role?"api/contact/":"api/contact/?createBy=".concat(L._id)):"Lead"===_.related&&(l=await(0,T.x4)("superAdmin"===L.role?"api/lead/":"api/lead/?createBy=".concat(L._id))),z(null===(e=l)||void 0===e?void 0:e.data)})()}),[e.id,_.related]);const R=null===f||void 0===f?void 0:f.map((e=>(0,n.A)((0,n.A)({},e),{},{value:e._id,label:"Contact"===_.related?"".concat(e.firstName," ").concat(e.lastName):e.leadName})));return(0,p.jsxs)(o.aF,{onClose:l,isOpen:t,isCentered:!0,children:[(0,p.jsx)(o.mH,{}),(0,p.jsxs)(o.$m,{height:"580px",children:[(0,p.jsx)(o.rQ,{children:"Add Meeting "}),(0,p.jsx)(o.s_,{}),(0,p.jsxs)(o.cw,{overflowY:"auto",height:"400px",children:[(0,p.jsx)(g,{data:f,isOpen:k,onClose:I,fieldName:"attendes",setFieldValue:E}),(0,p.jsx)(j,{data:f,isOpen:N,onClose:D,fieldName:"attendesLead",setFieldValue:E}),(0,p.jsxs)(i.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,p.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,p.jsxs)(a.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Agenda",(0,p.jsx)(i.Text,{color:"red",children:"*"})]}),(0,p.jsx)(s.Input,{fontSize:"sm",onChange:O,onBlur:H,value:_.agenda,name:"agenda",placeholder:"Agenda",fontWeight:"500",borderColor:P.agenda&&W.agenda?"red.300":null}),(0,p.jsxs)(i.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",P.agenda&&W.agenda&&P.agenda]})]}),(0,p.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,p.jsxs)(a.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Related To",(0,p.jsx)(i.Text,{color:"red",children:"*"})]}),(0,p.jsx)(d.z6,{onChange:e=>E("related",e),value:_.related,children:(0,p.jsxs)(i.Stack,{direction:"row",children:["contactView"===e.leadContect&&(0,p.jsx)(d.sx,{value:"Contact",children:"Contact"}),"leadView"===e.leadContect&&(0,p.jsx)(d.sx,{value:"Lead",children:"Lead"}),!e.leadContect&&(0,p.jsxs)(p.Fragment,{children:[" ",(0,p.jsx)(d.sx,{value:"Contact",children:"Contact"}),(0,p.jsx)(d.sx,{value:"Lead",children:"Lead"})]})]})}),(0,p.jsxs)(i.Text,{mb:"10px",color:"red",fontSize:"sm",children:[" ",P.related&&W.related&&P.related]})]}),(null===f||void 0===f?void 0:f.length)>0&&_.related&&(0,p.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,p.jsxs)(i.Flex,{alignItems:"end",justifyContent:"space-between",children:[(0,p.jsx)(i.Text,{w:"100%",children:(0,p.jsx)(u.CUIAutoComplete,{label:"Choose Preferred Attendes ".concat("Contact"===_.related?"Contact":"Lead"===_.related&&"Lead"),placeholder:"Type a Name",name:"attendes",items:R,className:"custom-autoComplete",selectedItems:null===R||void 0===R?void 0:R.filter((e=>"Contact"===_.related?null===_||void 0===_?void 0:_.attendes.includes(e._id):"Lead"===_.related&&(null===_||void 0===_?void 0:_.attendesLead.includes(e._id)))),onSelectedItemsChange:e=>{const l=e.selectedItems.map((e=>e._id));"Contact"===_.related?E("attendes",l):"Lead"===_.related&&E("attendesLead",l)}})}),(0,p.jsx)(r.IconButton,{mb:6,onClick:()=>"Contact"===_.related?I(!0):"Lead"===_.related&&D(!0),fontSize:"25px",icon:(0,p.jsx)(S.G2h,{})})]}),(0,p.jsxs)(i.Text,{color:"red",children:[" ",P.attendes&&W.attendes&&P.attendes]})]}),(0,p.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(a.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Location"}),(0,p.jsx)(s.Input,{fontSize:"sm",onChange:O,onBlur:H,value:_.location,name:"location",placeholder:"Location",fontWeight:"500",borderColor:P.location&&W.location?"red.300":null}),(0,p.jsxs)(i.Text,{mb:"10px",color:"red",fontSize:"sm",children:[" ",P.location&&W.location&&P.location]})]}),(0,p.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,p.jsxs)(a.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Date Time",(0,p.jsx)(i.Text,{color:"red",children:"*"})]}),(0,p.jsx)(s.Input,{fontSize:"sm",type:"datetime-local",onChange:O,onBlur:H,value:_.dateTime,name:"dateTime",placeholder:"Date Time",fontWeight:"500",borderColor:P.dateTime&&W.dateTime?"red.300":null}),(0,p.jsxs)(i.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",P.dateTime&&W.dateTime&&P.dateTime]})]}),(0,p.jsxs)(i.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(a.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Notes"}),(0,p.jsx)(c.T,{resize:"none",fontSize:"sm",placeholder:"Notes",onChange:O,onBlur:H,value:_.notes,name:"notes",fontWeight:"500",borderColor:P.notes&&W.notes?"red.300":null}),(0,p.jsxs)(i.Text,{mb:"10px",color:"red",children:[" ",P.notes&&W.notes&&P.notes]})]})]})]}),(0,p.jsxs)(o.jl,{children:[(0,p.jsx)(r.Button,{size:"sm",variant:"brand",me:2,disabled:!!A,onClick:G,children:A?(0,p.jsx)(h.A,{}):"Save"}),(0,p.jsx)(r.Button,{sx:{textTransform:"capitalize"},variant:"outline",colorScheme:"red",size:"sm",onClick:()=>{F.resetForm(),l()},children:"Close"})]})]})]})}},9367:(e,l,t)=>{t.d(l,{A:()=>b});var n=t(9379),o=t(1206),i=t(4450),a=t(2554),s=t(1778),d=t(6178),r=t.n(d),c=t(5043),u=t(1094),x=t(6914),m=t(8152),h=t(3216),v=t(5475),p=t(6654),g=t(4034),f=t(2853),j=t(579);function b(e){const{columnsData:l,tableData:t,title:d,fetchData:b,action:S,setAction:C,access:y}=e,T=(0,o.dU)("gray.200","white"),z=(0,c.useMemo)((()=>l),[l]),A=(0,c.useMemo)((()=>t),[t]),[w,k]=(0,c.useState)(!1),[I,N]=(0,c.useState)(),D=(0,u.useTable)({columns:z,data:A,initialState:{pageIndex:0}},u.useGlobalFilter,u.useSortBy,u.usePagination),{getTableProps:L,getTableBodyProps:B,headerGroups:F,prepareRow:P,page:W,canPreviousPage:_,canNextPage:H,pageOptions:O,pageCount:G,gotoPage:E,nextPage:V,previousPage:R,setPageSize:M,state:{pageIndex:U,pageSize:Y}}=D;O.length<I&&N(O.length);const J=(0,o.dU)("gray.500","white"),X=(0,o.dU)("gray.200","whiteAlpha.100"),$=(0,h.g)();(0,c.useEffect)((()=>{void 0===I&&O.length<I&&N(O.length)}),[O,I]);const Q=null===Object||void 0===Object?void 0:Object.values($)[0],K=null===Q||void 0===Q?void 0:Q.split("/");return(0,j.jsxs)(i.Box,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,j.jsxs)(i.Flex,{justify:"space-between",mb:"10px",align:"center",children:[(0,j.jsxs)(i.Heading,{size:"md",mb:3,children:[d,"  (",(0,j.jsx)(x.A,{targetNumber:null===A||void 0===A?void 0:A.length},null===A||void 0===A?void 0:A.length),")"]}),(0,j.jsx)(a.Button,{size:"sm",onClick:()=>k(!0),leftIcon:(0,j.jsx)(g.AddIcon,{}),colorScheme:"gray",bg:T,children:"Add New "}),(0,j.jsx)(p.A,{fetchData:b,isOpen:w,onClose:k,leadContect:K[0],from:"lead",id:$.id,setAction:C})]}),(0,j.jsx)(i.Box,{overflowY:"auto",className:"table-container p0",children:(0,j.jsxs)(s.XI,(0,n.A)((0,n.A)({},L()),{},{variant:"simple",color:"gray.500",mb:"24px",children:[(0,j.jsx)(s.d8,{children:null===F||void 0===F?void 0:F.map(((e,l)=>(0,c.createElement)(s.Tr,(0,n.A)((0,n.A)({},e.getHeaderGroupProps()),{},{key:l}),e.headers.map(((e,l)=>(0,c.createElement)(s.Th,(0,n.A)((0,n.A)({},e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps())),{},{pe:"10px",key:l,borderColor:X}),(0,j.jsx)(i.Flex,{justifyContent:e.center?"center":"start",align:"center",fontSize:{sm:"14px",lg:"16px"},color:"secondaryGray.900",children:(0,j.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")})})))))))}),(0,j.jsx)(s.NN,(0,n.A)((0,n.A)({},B()),{},{children:0===(null===A||void 0===A?void 0:A.length)?(0,j.jsx)(s.Tr,{children:(0,j.jsx)(s.Td,{colSpan:null===z||void 0===z?void 0:z.length,children:(0,j.jsx)(i.Text,{textAlign:"center",width:"100%",color:J,fontSize:"sm",fontWeight:"700",children:(0,j.jsx)(f.A,{})})})}):null===W||void 0===W?void 0:W.map(((e,l)=>{var t;return P(e),(0,c.createElement)(s.Tr,(0,n.A)((0,n.A)({},null===e||void 0===e?void 0:e.getRowProps()),{},{key:l}),null===e||void 0===e||null===(t=e.cells)||void 0===t?void 0:t.map(((e,l)=>{let t="";var o;"agenda"===(null===e||void 0===e?void 0:e.column.Header)?t=null!==y&&void 0!==y&&y.view?(0,j.jsx)(v.N_,{to:"/metting/".concat(null===e||void 0===e||null===(o=e.row)||void 0===o?void 0:o.original._id),children:(0,j.jsx)(i.Text,{sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:" - "})}):(0,j.jsx)(i.Text,{color:J,fontSize:"sm",fontWeight:"700",children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:" - "}):"date Time"===(null===e||void 0===e?void 0:e.column.Header)?t=(0,j.jsx)(i.Text,{color:J,fontSize:"sm",fontWeight:"700",children:r()(null===e||void 0===e?void 0:e.value).format("D/MM/YYYY LT")}):"times tamp"===(null===e||void 0===e?void 0:e.column.Header)?t=(0,j.jsx)(i.Text,{color:J,fontSize:"sm",fontWeight:"700",children:r()(null===e||void 0===e?void 0:e.value).format("(DD/MM) LT")}):"create By"===(null===e||void 0===e?void 0:e.column.Header)&&(t=(0,j.jsx)(i.Text,{color:J,fontSize:"sm",fontWeight:"700",children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:" - "}));return(0,c.createElement)(s.Td,(0,n.A)((0,n.A)({},null===e||void 0===e?void 0:e.getCellProps()),{},{key:l,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"}),t)})))}))}))]}))}),(null===A||void 0===A?void 0:A.length)>5&&(0,j.jsx)(m.A,{gotoPage:E,gopageValue:I,setGopageValue:N,pageCount:G,canPreviousPage:_,previousPage:R,canNextPage:H,pageOptions:O,setPageSize:M,nextPage:V,pageSize:Y,pageIndex:U})]})}},9250:(e,l,t)=>{t.d(l,{A:()=>v});var n=t(9942),o=t(4450),i=t(8510),a=t(7682),s=t(3186),d=t(2554),r=t(9488),c=t(3516),u=t(5043),x=t(9849),m=t(6305),h=t(579);const v=e=>{const{onClose:l,isOpen:t,fetchData:v,setAction:p}=e,[g,f]=(0,u.useState)(!1),j=JSON.parse(localStorage.getItem("user")),b={sender:null===j||void 0===j?void 0:j._id,recipient:"",callDuration:"",callNotes:"",createByContact:"",createByLead:"",startDate:"",endDate:"",createBy:null===j||void 0===j?void 0:j._id},S=(0,c.Wx)({initialValues:b,validationSchema:x.Ar,onSubmit:(e,l)=>{let{resetForm:t}=l;I(),t()}}),{errors:C,touched:y,values:T,handleBlur:z,handleChange:A,handleSubmit:w,setFieldValue:k}=S,I=async()=>{try{f(!0),200===(await(0,m.d_)("api/phoneCall/add",T)).status&&(e.onClose(),v(),p((e=>!e)))}catch(l){console.log(l)}finally{f(!1)}};return(0,u.useEffect)((()=>{(async()=>{var l,t,n,o,i,a;if(null!==e&&void 0!==e&&null!==(l=e.viewData)&&void 0!==l&&null!==(t=l.lead)&&void 0!==t&&t.leadPhoneNumber){if(e.id&&"true"!==e.lead)k("recipient",null===e||void 0===e||null===(n=e.viewData)||void 0===n||null===(o=n.contact)||void 0===o?void 0:o.phoneNumber),k("createByContact",null===e||void 0===e?void 0:e.id),T.recipient=null===e||void 0===e||null===(i=e.viewData)||void 0===i||null===(a=i.contact)||void 0===a?void 0:a.phoneNumber;else if(e.id&&"true"===e.lead){let l=await(0,m.x4)("api/lead/view/",e.id);var s,d,r,c;200===(null===l||void 0===l?void 0:l.status)&&(k("recipient",null===l||void 0===l||null===(s=l.data)||void 0===s||null===(d=s.lead)||void 0===d?void 0:d.leadPhoneNumber),k("createByLead",e.id),T.recipient=null===l||void 0===l||null===(r=l.data)||void 0===r||null===(c=r.lead)||void 0===c?void 0:c.leadPhoneNumber)}}else if(e.id&&"true"!==e.lead){let l=await(0,m.x4)("api/contact/view/",e.id);var u,x,h,v;200===(null===l||void 0===l?void 0:l.status)&&(k("recipient",null===l||void 0===l||null===(u=l.data)||void 0===u||null===(x=u.contact)||void 0===x?void 0:x.phoneNumber),k("createByContact",null===e||void 0===e?void 0:e.id),T.recipient=null===l||void 0===l||null===(h=l.data)||void 0===h||null===(v=h.contact)||void 0===v?void 0:v.phoneNumber)}else if(e.id&&"true"===e.lead){let l=await(0,m.x4)("api/lead/view/",e.id);var p,g,f,j;200===(null===l||void 0===l?void 0:l.status)&&(k("recipient",null===l||void 0===l||null===(p=l.data)||void 0===p||null===(g=p.lead)||void 0===g?void 0:g.leadPhoneNumber),k("createByLead",e.id),T.recipient=null===l||void 0===l||null===(f=l.data)||void 0===f||null===(j=f.lead)||void 0===j?void 0:j.leadPhoneNumber)}})()}),[e.id]),(0,h.jsxs)(n.aF,{onClose:l,isOpen:t,isCentered:!0,children:[(0,h.jsx)(n.mH,{}),(0,h.jsxs)(n.$m,{children:[(0,h.jsx)(n.rQ,{children:"Add Call "}),(0,h.jsx)(n.s_,{}),(0,h.jsx)(n.cw,{children:(0,h.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,h.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,h.jsxs)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Recipient",(0,h.jsx)(o.Text,{color:"red",children:"*"})]}),(0,h.jsx)(a.Input,{fontSize:"sm",type:"number",disabled:!0,onChange:A,onBlur:z,value:T.recipient,name:"recipient",placeholder:"Recipient",fontWeight:"500",borderColor:C.recipient&&y.recipient?"red.300":null}),(0,h.jsxs)(o.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",C.recipient&&y.recipient&&C.recipient]})]}),(0,h.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,h.jsxs)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Start Date",(0,h.jsx)(o.Text,{color:"red",children:"*"})]}),(0,h.jsx)(a.Input,{type:"datetime-local",fontSize:"sm",onChange:A,onBlur:z,value:T.startDate,name:"startDate",fontWeight:"500",borderColor:null!==C&&void 0!==C&&C.startDate&&null!==y&&void 0!==y&&y.startDate?"red.300":null}),(0,h.jsxs)(o.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",C.startDate&&y.startDate&&C.startDate]})]}),(0,h.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,h.jsx)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"End Date"}),(0,h.jsx)(a.Input,{type:"datetime-local",fontSize:"sm",min:T.startDate,onChange:A,onBlur:z,value:T.endDate,name:"endDate",fontWeight:"500",borderColor:null!==C&&void 0!==C&&C.endDate&&null!==y&&void 0!==y&&y.endDate?"red.300":null}),(0,h.jsxs)(o.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",C.endDate&&y.endDate&&C.endDate]})]}),(0,h.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,h.jsxs)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Call Duration",(0,h.jsx)(o.Text,{color:"red",children:"*"})]}),(0,h.jsx)(a.Input,{fontSize:"sm",onChange:A,onBlur:z,value:T.callDuration,name:"callDuration",placeholder:"call Duration",fontWeight:"500",borderColor:C.callDuration&&y.callDuration?"red.300":null}),(0,h.jsxs)(o.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",C.callDuration&&y.callDuration&&C.callDuration]})]}),(0,h.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,h.jsx)(i.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Call Notes"}),(0,h.jsx)(s.T,{resize:"none",fontSize:"sm",placeholder:"Enter Call Notes",onChange:A,onBlur:z,value:T.callNotes,name:"callNotes",fontWeight:"500",borderColor:C.callNotes&&y.callNotes?"red.300":null}),(0,h.jsxs)(o.Text,{mb:"10px",fontSize:"sm",color:"red",children:[" ",C.callNotes&&y.callNotes&&C.callNotes]})]})]})}),(0,h.jsxs)(n.jl,{children:[(0,h.jsx)(d.Button,{size:"sm",variant:"brand",disabled:!!g,onClick:w,children:g?(0,h.jsx)(r.A,{}):"Save"}),(0,h.jsx)(d.Button,{size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",onClick:()=>{S.resetForm(),l()},children:"Close"})]})]})]})}},8879:(e,l,t)=>{t.d(l,{A:()=>f});var n=t(9379),o=t(1206),i=t(4450),a=t(2554),s=t(1778),d=t(5043),r=t(1094),c=t(4034),u=t(6914),x=t(8152),m=t(3216),h=t(2942),v=t(7930),p=t(2853),g=t(579);function f(e){const{columnsData:l,tableData:t,title:f,fetchData:j,action:b,setAction:S,access:C}=e,y=(0,o.dU)("gray.200","white"),T=(0,d.useMemo)((()=>l),[l]),z=(0,d.useMemo)((()=>t),[t]),[A,w]=(0,d.useState)(),[k,I]=(0,d.useState)(!1),[N,D]=(0,d.useState)(!1),[L,B]=(0,d.useState)(),F=(0,r.useTable)({columns:T,data:z,initialState:{pageIndex:0}},r.useGlobalFilter,r.useSortBy,r.usePagination),{getTableProps:P,getTableBodyProps:W,headerGroups:_,prepareRow:H,page:O,canPreviousPage:G,canNextPage:E,pageOptions:V,pageCount:R,gotoPage:M,nextPage:U,previousPage:Y,setPageSize:J,state:{pageIndex:X,pageSize:$}}=F;V.length<L&&B(V.length);const Q=(0,o.dU)("gray.500","white"),K=(0,o.dU)("gray.200","whiteAlpha.100"),Z=(0,m.g)();(0,d.useEffect)((()=>{void 0===L&&V.length<L&&B(V.length)}),[V,L]);const q=null===Object||void 0===Object?void 0:Object.values(Z)[0],ee=null===q||void 0===q?void 0:q.split("/");return(0,g.jsxs)(i.Box,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,g.jsxs)(i.Flex,{justify:"space-between",mb:"10px",align:"center",children:[(0,g.jsxs)(i.Heading,{size:"md",mb:3,children:[f,"  (",(0,g.jsx)(u.A,{targetNumber:null===z||void 0===z?void 0:z.length},null===z||void 0===z?void 0:z.length),")"]}),(0,g.jsx)(a.Button,{onClick:()=>D(!0),leftIcon:(0,g.jsx)(c.AddIcon,{}),colorScheme:"gray",size:"sm",bg:y,children:"Add New"}),N&&(0,g.jsx)(v.A,{fetchData:j,isOpen:N,leadContect:ee[0],onClose:D,from:"lead",id:Z.id})]}),(0,g.jsx)(i.Box,{overflowY:"auto",className:"table-container p0",children:(0,g.jsxs)(s.XI,(0,n.A)((0,n.A)({},P()),{},{variant:"simple",color:"gray.500",mb:"24px",children:[(0,g.jsx)(s.d8,{children:null===_||void 0===_?void 0:_.map(((e,l)=>(0,d.createElement)(s.Tr,(0,n.A)((0,n.A)({},e.getHeaderGroupProps()),{},{key:l}),e.headers.map(((e,l)=>(0,d.createElement)(s.Th,(0,n.A)((0,n.A)({},e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps())),{},{pe:"10px",key:l,borderColor:K}),(0,g.jsx)(i.Flex,{justifyContent:e.center?"center":"start",align:"center",fontSize:{sm:"14px",lg:"16px"},color:"secondaryGray.900",children:(0,g.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")})})))))))}),(0,g.jsx)(s.NN,(0,n.A)((0,n.A)({},W()),{},{children:0===(null===z||void 0===z?void 0:z.length)?(0,g.jsx)(s.Tr,{children:(0,g.jsx)(s.Td,{colSpan:null===T||void 0===T?void 0:T.length,children:(0,g.jsx)(i.Text,{textAlign:"center",width:"100%",color:Q,fontSize:"sm",fontWeight:"700",children:(0,g.jsx)(p.A,{})})})}):null===O||void 0===O?void 0:O.map(((e,l)=>{var t;return H(e),(0,d.createElement)(s.Tr,(0,n.A)((0,n.A)({},null===e||void 0===e?void 0:e.getRowProps()),{},{key:l}),null===e||void 0===e||null===(t=e.cells)||void 0===t?void 0:t.map(((e,l)=>{let t="";return"Title"===(null===e||void 0===e?void 0:e.column.Header)?t=(0,g.jsx)(i.Text,{sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",onClick:()=>(e=>{var l,t;w(null===e||void 0===e||null===(l=e.row)||void 0===l||null===(t=l.original)||void 0===t?void 0:t._id),I(!0)})(e),children:null===e||void 0===e?void 0:e.value}):"Category"===(null===e||void 0===e?void 0:e.column.Header)?t=(0,g.jsx)(i.Text,{color:Q,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):"Assign To"===(null===e||void 0===e?void 0:e.column.Header)?t=(0,g.jsx)(i.Text,{color:Q,fontSize:"sm",fontWeight:"700",children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:" - "}):("Start Date"===(null===e||void 0===e?void 0:e.column.Header)||"End Date"===(null===e||void 0===e?void 0:e.column.Header))&&(t=(0,g.jsx)(i.Text,{color:Q,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value})),(0,d.createElement)(s.Td,(0,n.A)((0,n.A)({},null===e||void 0===e?void 0:e.getCellProps()),{},{key:l,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"}),t)})))}))}))]}))}),(0,g.jsx)(h.A,{fetchData:j,isOpen:k,access:C,onClose:I,info:A,setAction:S,action:b}),(null===z||void 0===z?void 0:z.length)>5&&(0,g.jsx)(x.A,{gotoPage:M,gopageValue:L,setGopageValue:B,pageCount:R,canPreviousPage:G,previousPage:Y,canNextPage:E,pageOptions:V,setPageSize:J,nextPage:U,pageSize:$,pageIndex:X})]})}},2942:(e,l,t)=>{t.d(l,{A:()=>g});var n=t(4034),o=t(9942),i=t(2554),a=t(4450),s=t(9488),d=t(6178),r=t.n(d),c=t(5043),u=t(7805),x=t(5475),m=t(6305),h=t(591),v=t(3216),p=t(579);const g=e=>{var l;const{onClose:t,isOpen:d,info:g,fetchData:f,setAction:j,action:b,access:S,contactAccess:C,leadAccess:y}=e,[T,z]=(0,c.useState)(),[A,w]=(0,c.useState)(!1),[k,I]=(0,c.useState)(!1),N=JSON.parse(localStorage.getItem("user")),[D,L]=(0,c.useState)(!1),B=(0,v.Zp)();(0,c.useEffect)((()=>{(async()=>{if(g){var e;L(!0);let l=await(0,m.x4)("api/task/view/",null!==g&&void 0!==g&&g.event?null===g||void 0===g||null===(e=g.event)||void 0===e?void 0:e.id:g);z(null===l||void 0===l?void 0:l.data),L(!1)}})()}),[b,g]);return(0,p.jsxs)(o.aF,{isOpen:d,size:"md",isCentered:!0,children:[(0,p.jsx)(o.mH,{}),(0,p.jsxs)(o.$m,{children:[(0,p.jsxs)(o.rQ,{justifyContent:"space-between",display:"flex",children:["Task",(0,p.jsx)(i.IconButton,{onClick:()=>t(!1),icon:(0,p.jsx)(n.CloseIcon,{})})]}),D?(0,p.jsx)(a.Flex,{justifyContent:"center",alignItems:"center",mb:30,width:"100%",children:(0,p.jsx)(s.A,{})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.cw,{children:(0,p.jsxs)(a.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,p.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Title "}),(0,p.jsx)(a.Text,{children:null!==T&&void 0!==T&&T.title?null===T||void 0===T?void 0:T.title:" - "})]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Related To "}),(0,p.jsx)(a.Text,{children:null!==T&&void 0!==T&&T.category?null===T||void 0===T?void 0:T.category:" - "})]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task start "}),(0,p.jsx)(a.Text,{children:null!==T&&void 0!==T&&T.start?r()(null===T||void 0===T?void 0:T.start).format("L LT"):" - "})]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task end  "}),(0,p.jsx)(a.Text,{children:null!==T&&void 0!==T&&T.end?r()(null===T||void 0===T?void 0:T.end).format("L LT"):r()(null===T||void 0===T?void 0:T.start).format("L")})]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Link "}),null!==T&&void 0!==T&&T.url?(0,p.jsx)("a",{target:"_blank",href:null===T||void 0===T?void 0:T.url,children:(0,p.jsx)(i.IconButton,{borderRadius:"10px",size:"md",icon:(0,p.jsx)(u.o9J,{})})}):"-"]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task reminder "}),(0,p.jsx)(a.Text,{children:null!==T&&void 0!==T&&T.reminder?null===T||void 0===T?void 0:T.reminder:" - "})]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" assignment To  "}),null!==T&&void 0!==T&&T.assignmentTo?(0,p.jsx)(x.N_,{to:(null===C||void 0===C?void 0:C.view)&&"/contactView/".concat(null===T||void 0===T?void 0:T.assignmentTo),children:(0,p.jsx)(a.Text,{color:null!==C&&void 0!==C&&C.view?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:null!==C&&void 0!==C&&C.view?"blue.500":"blackAlpha.900",textDecoration:null!==C&&void 0!==C&&C.view?"underline":"none"}},children:null!==T&&void 0!==T&&T.assignmentToName?null===T||void 0===T?void 0:T.assignmentToName:" - "})}):(0,p.jsx)(x.N_,{to:(null===y||void 0===y?void 0:y.view)&&"/leadView/".concat(null===T||void 0===T?void 0:T.assignmentToLead),children:(0,p.jsx)(a.Text,{color:null!==y&&void 0!==y&&y.view?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:null!==y&&void 0!==y&&y.view?"blue.500":"blackAlpha.900",textDecoration:null!==y&&void 0!==y&&y.view?"underline":"none"}},children:null!==T&&void 0!==T&&T.assignmentToName?null===T||void 0===T?void 0:T.assignmentToName:" - "})})]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task createBy "}),(0,p.jsx)(a.Text,{children:null!==T&&void 0!==T&&T.createByName?null===T||void 0===T?void 0:T.createByName:" - "})]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Description"}),(0,p.jsx)(a.Text,{children:null!==T&&void 0!==T&&T.description?null===T||void 0===T?void 0:T.description:" - "})]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task notes "}),(0,p.jsx)(a.Text,{children:null!==T&&void 0!==T&&T.notes?null===T||void 0===T?void 0:T.notes:" - "})]})]})}),(0,p.jsxs)(o.tb,{children:[(null===S||void 0===S?void 0:S.view)||"superAdmin"===(null===N||void 0===N?void 0:N.role)&&(0,p.jsx)(i.IconButton,{variant:"outline",colorScheme:"green",onClick:()=>(()=>{var e;null!==g&&void 0!==g&&g.event?B("/view/".concat(null===g||void 0===g||null===(e=g.event)||void 0===e?void 0:e.id)):B("/view/".concat(g))})(),borderRadius:"10px",size:"md",icon:(0,p.jsx)(n.ViewIcon,{})}),(null===S||void 0===S?void 0:S.update)||"superAdmin"===(null===N||void 0===N?void 0:N.role)&&(0,p.jsx)(i.IconButton,{variant:"outline",onClick:()=>w(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,p.jsx)(n.EditIcon,{})}),(null===S||void 0===S?void 0:S.delete)||"superAdmin"===(null===N||void 0===N?void 0:N.role)&&(0,p.jsx)(i.IconButton,{colorScheme:"red",onClick:()=>I(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,p.jsx)(n.DeleteIcon,{})}),(0,p.jsx)(h.A,{setAction:j,isOpen:A,onClose:w,viewClose:t,id:null!==g&&void 0!==g&&g.event?null===g||void 0===g||null===(l=g.event)||void 0===l?void 0:l.id:g,from:"view"})]})]})]})]})}},8858:(e,l,t)=>{t.d(l,{Kp:()=>D,T2:()=>L,oz:()=>I,tU:()=>k,wb:()=>N});var n=t(9522),o=t(835),i=t(5043),a=t(1490),s=t(3830),d=t(9754),r=t(2006),c=t(636);function u(){return u=Object.assign||function(e){for(var l=1;l<arguments.length;l++){var t=arguments[l];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},u.apply(this,arguments)}function x(e,l){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],l.indexOf(t)>=0||(o[t]=e[t]);return o}var m=["defaultIndex","onChange","index","isManual","isLazy","lazyBehavior","orientation","direction"],h=["isDisabled","isFocusable"],v=["isSelected","id","children"],p=(0,s.D)(),g=p[0],f=p[1],j=p[2],b=p[3];var S=(0,c.q6)({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"}),C=S[0],y=S[1];function T(e,l){return e+"--tab-"+l}function z(e,l){return e+"--tabpanel-"+l}var A=["children","className"],w=["htmlProps","descendants"],k=(0,n.Rf)((function(e,l){var t=(0,n.o5)("Tabs",e),a=(0,n.MN)(e),s=a.children,r=a.className,c=function(e){var l=e.defaultIndex,t=e.onChange,n=e.index,o=e.isManual,a=e.isLazy,s=e.lazyBehavior,r=void 0===s?"unmount":s,c=e.orientation,u=void 0===c?"horizontal":c,h=e.direction,v=void 0===h?"ltr":h,p=x(e,m),g=i.useState(null!=l?l:0),f=g[0],b=g[1],S=(0,d.ic)({defaultValue:null!=l?l:0,value:n,onChange:t}),C=S[0],y=S[1];i.useEffect((function(){null!=n&&b(n)}),[n]);var T=j();return{id:(0,d.Bi)(e.id,"tabs"),selectedIndex:C,focusedIndex:f,setSelectedIndex:y,setFocusedIndex:b,isManual:o,isLazy:a,lazyBehavior:r,orientation:u,descendants:T,direction:v,htmlProps:p}}(x(a,A)),h=c.htmlProps,v=c.descendants,p=x(c,w),f=i.useMemo((function(){return p}),[p]),b=(0,o.cJ)(h,["isFitted"]);return i.createElement(g,{value:v},i.createElement(C,{value:f},i.createElement(n.W$,{value:t},i.createElement(n.Bv.div,u({className:(0,o.cx)("chakra-tabs",r),ref:l},b,{__css:t.root}),s))))}));o.gt&&(k.displayName="Tabs");var I=(0,n.Rf)((function(e,l){var t=(0,n.IS)(),s=function(e){var l=e.isDisabled,t=e.isFocusable,n=x(e,h),i=y(),s=i.setSelectedIndex,d=i.isManual,r=i.id,m=i.setFocusedIndex,v=i.selectedIndex,p=b({disabled:l&&!t}),g=p.index,f=p.register,j=g===v,S=(0,a.I)(u({},n,{ref:(0,c.Px)(f,e.ref),isDisabled:l,isFocusable:t,onClick:(0,o.Hj)(e.onClick,(function(){s(g)}))}));return u({},S,{id:T(r,g),role:"tab",tabIndex:j?0:-1,type:"button","aria-selected":j,"aria-controls":z(r,g),onFocus:l?void 0:(0,o.Hj)(e.onFocus,(function(){m(g),!d&&(!l||!t)&&s(g)}))})}(u({},e,{ref:l})),d=u({outline:"0",display:"flex",alignItems:"center",justifyContent:"center"},t.tab);return i.createElement(n.Bv.button,u({},s,{className:(0,o.cx)("chakra-tabs__tab",e.className),__css:d}))}));o.gt&&(I.displayName="Tab");var N=(0,n.Rf)((function(e,l){var t=function(e){var l=y(),t=l.focusedIndex,n=l.orientation,a=l.direction,s=f(),d=i.useCallback((function(e){var l,i=function(){var e=s.nextEnabled(t);e&&(0,o.XC)(e.node)},d=function(){var e=s.prevEnabled(t);e&&(0,o.XC)(e.node)},r="horizontal"===n,c="vertical"===n,u=(0,o.fw)(e),x="ltr"===a?"ArrowRight":"ArrowLeft",m=((l={})["ltr"===a?"ArrowLeft":"ArrowRight"]=function(){return r&&d()},l[x]=function(){return r&&i()},l.ArrowDown=function(){return c&&i()},l.ArrowUp=function(){return c&&d()},l.Home=function(){var e=s.firstEnabled();e&&(0,o.XC)(e.node)},l.End=function(){var e=s.lastEnabled();e&&(0,o.XC)(e.node)},l)[u];m&&(e.preventDefault(),m(e))}),[s,t,n,a]);return u({},e,{role:"tablist","aria-orientation":n,onKeyDown:(0,o.Hj)(e.onKeyDown,d)})}(u({},e,{ref:l})),a=u({display:"flex"},(0,n.IS)().tablist);return i.createElement(n.Bv.div,u({},t,{className:(0,o.cx)("chakra-tabs__tablist",e.className),__css:a}))}));o.gt&&(N.displayName="TabList");var D=(0,n.Rf)((function(e,l){var t=function(e){var l=e.isSelected,t=e.id,n=e.children,a=x(e,v),s=y(),d=s.isLazy,r=s.lazyBehavior,c=i.useRef(!1);return l&&(c.current=!0),u({tabIndex:0},a,{children:(0,o.YO)({hasBeenSelected:c.current,isSelected:l,isLazy:d,lazyBehavior:r})?n:null,role:"tabpanel",hidden:!l,id:t})}(u({},e,{ref:l})),a=(0,n.IS)();return i.createElement(n.Bv.div,u({outline:"0"},t,{className:(0,o.cx)("chakra-tabs__tab-panel",e.className),__css:a.tabpanel}))}));o.gt&&(D.displayName="TabPanel");var L=(0,n.Rf)((function(e,l){var t=function(e){var l=y(),t=l.id,n=l.selectedIndex;return u({},e,{children:(0,c.ag)(e.children).map((function(e,l){return i.cloneElement(e,{isSelected:l===n,id:z(t,l),"aria-labelledby":T(t,l)})}))})}(e),a=(0,n.IS)();return i.createElement(n.Bv.div,u({},t,{width:"100%",ref:l,className:(0,o.cx)("chakra-tabs__tab-panels",e.className),__css:a.tabpanels}))}));o.gt&&(L.displayName="TabPanels");var B=(0,n.Rf)((function(e,l){var t=function(){var e=y(),l=f(),t=e.selectedIndex,n=e.orientation,a="horizontal"===n,s="vertical"===n,d=i.useState((function(){return a?{left:0,width:0}:s?{top:0,height:0}:void 0})),c=d[0],x=d[1],m=i.useState(!1),h=m[0],v=m[1];return(0,r.a)((function(){if(!(0,o.b0)(t)){var e=l.item(t);if(!(0,o.b0)(e)){a&&x({left:e.node.offsetLeft,width:e.node.offsetWidth}),s&&x({top:e.node.offsetTop,height:e.node.offsetHeight});var n=requestAnimationFrame((function(){v(!0)}));return function(){n&&cancelAnimationFrame(n)}}}}),[t,a,s,l]),u({position:"absolute",transitionProperty:"left, right, top, bottom, height, width",transitionDuration:h?"200ms":"0ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"},c)}(),a=u({},e.style,t),s=(0,n.IS)();return i.createElement(n.Bv.div,u({ref:l},e,{className:(0,o.cx)("chakra-tabs__tab-indicator",e.className),style:a,__css:s.indicator}))}));o.gt&&(B.displayName="TabIndicator")}}]);
//# sourceMappingURL=134.39344bd9.chunk.js.map