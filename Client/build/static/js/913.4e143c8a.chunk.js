"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[913],{1046:(e,t,a)=>{a.d(t,{A:()=>p});var l=a(9379),n=a(1206),o=a(4450),s=a(1778),i=a(5066),d=a(5043),r=a(1094),c=a(216),m=a(6914),u=a(8152),x=a(5369),h=a(579);function p(e){const{columnsData:t,tableData:a,title:p,type:v,selectedValues:g,setSelectedValues:j}=e,S=(0,d.useMemo)((()=>t),[t]),f=(0,d.useMemo)((()=>a),[a]),[b,C]=(JSON.parse(localStorage.getItem("user")),(0,d.useState)()),y=(0,r.useTable)({columns:S,data:f,initialState:{pageIndex:0}},r.useGlobalFilter,r.useSortBy,r.usePagination),{getTableProps:A,getTableBodyProps:T,headerGroups:z,prepareRow:D,page:w,canPreviousPage:I,canNextPage:H,pageOptions:L,pageCount:N,gotoPage:F,nextPage:P,previousPage:B,setPageSize:W,state:{pageIndex:O,pageSize:k}}=y;L.length<b&&C(L.length);const V=(0,n.dU)("gray.500","white"),G=(0,n.dU)("gray.200","whiteAlpha.100"),E=(e,t)=>{"multi"===v?e.target.checked?j((e=>[...e,t])):j((e=>e.filter((e=>e!==t)))):e.target.checked?j(t):j(null)};return(0,h.jsxs)(c.A,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,h.jsx)(o.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:(0,h.jsxs)(o.Text,{color:V,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:[p,"  (",(0,h.jsx)(m.A,{targetNumber:null===f||void 0===f?void 0:f.length},null===f||void 0===f?void 0:f.length),")"]})}),(0,h.jsx)(o.Box,{overflowY:"auto",className:"table-container-property",children:(0,h.jsxs)(s.XI,(0,l.A)((0,l.A)({},A()),{},{variant:"simple",color:"gray.500",mb:"24px",children:[(0,h.jsx)(s.d8,{zIndex:1,children:null===z||void 0===z?void 0:z.map(((e,t)=>(0,d.createElement)(s.Tr,(0,l.A)((0,l.A)({},e.getHeaderGroupProps()),{},{key:t}),e.headers.map(((e,t)=>(0,d.createElement)(s.Th,(0,l.A)((0,l.A)({},e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps())),{},{pe:"10px",key:t,borderColor:G}),(0,h.jsxs)(o.Flex,{align:"center",justifyContent:e.center?"center":"start",fontSize:{sm:"14px",lg:"16px"},color:" secondaryGray.900",children:[(0,h.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")}),!1!==e.isSortable&&(0,h.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,h.jsx)(x.GOR,{}):(0,h.jsx)(x.XhJ,{}):(0,h.jsx)(x.MjW,{})})]})))))))}),(0,h.jsxs)(s.NN,(0,l.A)((0,l.A)({},T()),{},{children:[0===(null===f||void 0===f?void 0:f.length)&&(0,h.jsx)(s.Tr,{children:(0,h.jsx)(s.Td,{colSpan:S.length,children:(0,h.jsx)(o.Text,{textAlign:"center",width:"100%",color:V,fontSize:"sm",fontWeight:"700",children:"-- No Data Found --"})})}),null===w||void 0===w?void 0:w.map(((e,t)=>{var a;return D(e),(0,d.createElement)(s.Tr,(0,l.A)((0,l.A)({},null===e||void 0===e?void 0:e.getRowProps()),{},{key:t}),null===e||void 0===e||null===(a=e.cells)||void 0===a?void 0:a.map(((e,t)=>{let a="";var n;"#"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,h.jsxs)(o.Flex,{align:"center",children:["multi"===v?(0,h.jsx)(i.Sc,{colorScheme:"brandScheme",value:g,isChecked:g.includes(null===e||void 0===e?void 0:e.value),onChange:t=>E(t,null===e||void 0===e?void 0:e.value),me:"10px"}):(0,h.jsx)(i.Sc,{colorScheme:"brandScheme",value:g,isChecked:g===(null===e||void 0===e?void 0:e.value),onChange:t=>E(t,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,h.jsx)(o.Text,{color:V,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.index)+1})]}):"title"===(null===e||void 0===e?void 0:e.column.Header)||"first Name"===(null===e||void 0===e?void 0:e.column.Header)||"last Name"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,h.jsx)(o.Text,{me:"10px",color:V,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):"phone Number"===(null===e||void 0===e?void 0:e.column.Header)||"Email Address"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,h.jsx)(o.Text,{fontSize:"sm",fontWeight:"700",color:V,children:null===e||void 0===e?void 0:e.value}):("physical Address"===(null===e||void 0===e?void 0:e.column.Header)||"mailing Address"===(null===e||void 0===e?void 0:e.column.Header)||"Contact Method"===(null===e||void 0===e?void 0:e.column.Header))&&(a=(0,h.jsx)(o.Text,{color:V,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}));return(0,d.createElement)(s.Td,(0,l.A)((0,l.A)({},null===e||void 0===e?void 0:e.getCellProps()),{},{key:t,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"}),a)})))}))]}))]}))}),(null===f||void 0===f?void 0:f.length)>5&&(0,h.jsx)(u.A,{gotoPage:F,gopageValue:b,setGopageValue:C,pageCount:N,canPreviousPage:I,previousPage:B,canNextPage:H,pageOptions:L,setPageSize:W,nextPage:P,pageSize:k,pageIndex:O})]})}},7214:(e,t,a)=>{a.d(t,{A:()=>p});var l=a(9379),n=a(1206),o=a(4450),s=a(1778),i=a(5066),d=a(5043),r=a(1094),c=a(216),m=a(6914),u=a(8152),x=a(5369),h=a(579);function p(e){const{columnsData:t,tableData:a,title:p,type:v,selectedValues:g,setSelectedValues:j}=e,S=(0,d.useMemo)((()=>t),[t]),f=(0,d.useMemo)((()=>a),[a]),[b,C]=(JSON.parse(localStorage.getItem("user")),(0,d.useState)()),y=(0,r.useTable)({columns:S,data:f,initialState:{pageIndex:0}},r.useGlobalFilter,r.useSortBy,r.usePagination),{getTableProps:A,getTableBodyProps:T,headerGroups:z,prepareRow:D,page:w,canPreviousPage:I,canNextPage:H,pageOptions:L,pageCount:N,gotoPage:F,nextPage:P,previousPage:B,setPageSize:W,state:{pageIndex:O,pageSize:k}}=y;L.length<b&&C(L.length);const V=(0,n.dU)("gray.500","white"),G=(0,n.dU)("gray.200","whiteAlpha.100"),E=(e,t)=>{"multi"===v?e.target.checked?j((e=>[...e,t])):j((e=>e.filter((e=>e!==t)))):e.target.checked?j(t):j(null)};return(0,h.jsxs)(c.A,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,h.jsx)(o.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:(0,h.jsxs)(o.Text,{color:V,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:[p,"  (",(0,h.jsx)(m.A,{targetNumber:null===f||void 0===f?void 0:f.length},null===f||void 0===f?void 0:f.length),")"]})}),(0,h.jsx)(o.Box,{overflowY:"auto",className:"table-container-property",children:(0,h.jsxs)(s.XI,(0,l.A)((0,l.A)({},A()),{},{variant:"simple",color:"gray.500",mb:"24px",children:[(0,h.jsx)(s.d8,{zIndex:1,children:null===z||void 0===z?void 0:z.map(((e,t)=>(0,d.createElement)(s.Tr,(0,l.A)((0,l.A)({},e.getHeaderGroupProps()),{},{key:t}),e.headers.map(((e,t)=>(0,d.createElement)(s.Th,(0,l.A)((0,l.A)({},e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps())),{},{pe:"10px",key:t,borderColor:G}),(0,h.jsxs)(o.Flex,{align:"center",justifyContent:e.center?"center":"start",fontSize:{sm:"14px",lg:"16px"},color:" secondaryGray.900",children:[(0,h.jsx)("span",{style:{textTransform:"capitalize",marginRight:"8px"},children:e.render("Header")}),!1!==e.isSortable&&(0,h.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,h.jsx)(x.GOR,{}):(0,h.jsx)(x.XhJ,{}):(0,h.jsx)(x.MjW,{})})]})))))))}),(0,h.jsxs)(s.NN,(0,l.A)((0,l.A)({},T()),{},{children:[0===(null===f||void 0===f?void 0:f.length)&&(0,h.jsx)(s.Tr,{children:(0,h.jsx)(s.Td,{colSpan:S.length,children:(0,h.jsx)(o.Text,{textAlign:"center",width:"100%",color:V,fontSize:"sm",fontWeight:"700",children:"-- No Data Found --"})})}),null===w||void 0===w?void 0:w.map(((e,t)=>{var a;return D(e),(0,d.createElement)(s.Tr,(0,l.A)((0,l.A)({},null===e||void 0===e?void 0:e.getRowProps()),{},{key:t}),null===e||void 0===e||null===(a=e.cells)||void 0===a?void 0:a.map(((e,t)=>{let a="";var n;"#"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,h.jsxs)(o.Flex,{align:"center",children:["multi"===v?(0,h.jsx)(i.Sc,{colorScheme:"brandScheme",value:g,isChecked:g.includes(null===e||void 0===e?void 0:e.value),onChange:t=>E(t,null===e||void 0===e?void 0:e.value),me:"10px"}):(0,h.jsx)(i.Sc,{colorScheme:"brandScheme",value:g,isChecked:g===(null===e||void 0===e?void 0:e.value),onChange:t=>E(t,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,h.jsx)(o.Text,{color:V,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.index)+1})]}):"Lead Name"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Email"===(null===e||void 0===e?void 0:e.column.Header)||"Lead PhoneNumber"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,h.jsx)(o.Text,{me:"10px",color:V,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):("Lead Address"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Status"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Owner"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Score"===(null===e||void 0===e?void 0:e.column.Header))&&(a=(0,h.jsx)(o.Text,{color:V,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}));return(0,d.createElement)(s.Td,(0,l.A)((0,l.A)({},null===e||void 0===e?void 0:e.getCellProps()),{},{key:t,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"}),a)})))}))]}))]}))}),(null===f||void 0===f?void 0:f.length)>5&&(0,h.jsx)(u.A,{gotoPage:F,gopageValue:b,setGopageValue:C,pageCount:N,canPreviousPage:I,previousPage:B,canNextPage:H,pageOptions:L,setPageSize:W,nextPage:P,pageSize:k,pageIndex:O})]})}},6654:(e,t,a)=>{a.d(t,{A:()=>T});var l=a(9379),n=a(9942),o=a(4450),s=a(8510),i=a(7682),d=a(5104),r=a(2554),c=a(3186),m=a(968),u=a(5043),x=a(1046),h=a(9488),p=a(8860),v=a(579);const g=e=>{const{onClose:t,isOpen:a,fieldName:l,setFieldValue:s,data:i}=e,[d,c]=(0,u.useState)([]),[m,g]=(0,u.useState)(!1),j=(JSON.parse(localStorage.getItem("user")),[...new Set(d)]);return(0,v.jsxs)(n.aF,{onClose:t,size:"full",isOpen:a,children:[(0,v.jsx)(n.mH,{}),(0,v.jsxs)(n.$m,{children:[(0,v.jsx)(n.rQ,{children:"Select Contact"}),(0,v.jsx)(n.s_,{}),(0,v.jsx)(n.cw,{children:m?(0,v.jsx)(o.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,v.jsx)(h.A,{})}):(0,v.jsx)(x.A,{tableData:i,type:"multi",selectedValues:d,setSelectedValues:c,columnsData:[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"title",accessor:"title"},{Header:"first Name",accessor:"firstName"},{Header:"last Name",accessor:"lastName"},{Header:"phone Number",accessor:"phoneNumber"},{Header:"Email Address",accessor:"email"},{Header:"physical Address",accessor:"physicalAddress"},{Header:"mailing Address",accessor:"mailingAddress"},{Header:"Contact Method",accessor:"preferredContactMethod"}],title:"Contact"})}),(0,v.jsxs)(n.jl,{children:[(0,v.jsxs)(r.Button,{variant:"brand",onClick:async()=>{try{g(!0),s(l,j),t()}catch(e){console.log(e)}finally{g(!1)}},disabled:!!m,leftIcon:(0,v.jsx)(p.NLY,{}),children:[" ",m?(0,v.jsx)(h.A,{}):"Select"]}),(0,v.jsx)(r.Button,{onClick:()=>t(),children:"Close"})]})]})]})};var j=a(7214);const S=e=>{const{onClose:t,isOpen:a,fieldName:l,setFieldValue:s,data:i}=e,[d,c]=(0,u.useState)([]),[m,x]=(0,u.useState)(!1),g=(JSON.parse(localStorage.getItem("user")),[...new Set(d)]);return(0,v.jsxs)(n.aF,{onClose:t,size:"full",isOpen:a,children:[(0,v.jsx)(n.mH,{}),(0,v.jsxs)(n.$m,{children:[(0,v.jsx)(n.rQ,{children:"Select Lead"}),(0,v.jsx)(n.s_,{}),(0,v.jsx)(n.cw,{children:m?(0,v.jsx)(o.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,v.jsx)(h.A,{})}):(0,v.jsx)(j.A,{tableData:i,type:"multi",selectedValues:d,setSelectedValues:c,columnsData:[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Lead Name",accessor:"leadName",width:20},{Header:"Lead Email",accessor:"leadEmail"},{Header:"Lead PhoneNumber",accessor:"leadPhoneNumber"},{Header:"Lead Address",accessor:"leadAddress"},{Header:"Lead Status",accessor:"leadStatus"},{Header:"Lead Owner",accessor:"leadOwner"},{Header:"Lead Score",accessor:"leadScore"}],title:"Lead"})}),(0,v.jsxs)(n.jl,{children:[(0,v.jsxs)(r.Button,{variant:"brand",onClick:async()=>{try{x(!0),s(l,g),t()}catch(e){console.log(e)}finally{x(!1)}},disabled:!!m,leftIcon:(0,v.jsx)(p.NLY,{}),children:[" ",m?(0,v.jsx)(h.A,{}):"Select"]}),(0,v.jsx)(r.Button,{onClick:()=>t(),children:"Close"})]})]})]})};var f=a(3516),b=a(3388),C=a(2145),y=a(9849),A=a(6305);const T=e=>{const{onClose:t,isOpen:a,setAction:x,from:p}=e,[j,T]=(0,u.useState)([]),[z,D]=(0,u.useState)(!1),[w,I]=(0,u.useState)(!1),[H,L]=(0,u.useState)(!1),N=JSON.parse(localStorage.getItem("user")),F={agenda:"",attendes:"contactView"===e.leadContect&&e.id?[e.id]:[],attendesLead:"leadView"===e.leadContect&&e.id?[e.id]:[],location:"",related:"contactView"===e.leadContect?"Contact":"leadView"===e.leadContect?"Lead":"None",dateTime:"",notes:"",createBy:null===N||void 0===N?void 0:N._id},P=(0,f.Wx)({initialValues:F,validationSchema:y.pq,onSubmit:(e,t)=>{let{resetForm:a}=t;_()}}),{errors:B,touched:W,values:O,handleBlur:k,handleChange:V,handleSubmit:G,setFieldValue:E}=P,_=async()=>{try{if(D(!0),O.attendes.length>0||O.attendesLead.length>0){200===(await(0,A.d_)("api/meeting/add",O)).status&&(P.resetForm(),e.onClose(),x((e=>!e)))}else C.oR.error("Select Related To")}catch(t){console.log(t)}finally{D(!1)}};(0,u.useEffect)((()=>{(async()=>{var e;let t;"Contact"===O.related?t=await(0,A.x4)("superAdmin"===N.role?"api/contact/":"api/contact/?createBy=".concat(N._id)):"Lead"===O.related&&(t=await(0,A.x4)("superAdmin"===N.role?"api/lead/":"api/lead/?createBy=".concat(N._id))),T(null===(e=t)||void 0===e?void 0:e.data)})()}),[e.id,O.related]);const M=null===j||void 0===j?void 0:j.map((e=>(0,l.A)((0,l.A)({},e),{},{value:e._id,label:"Contact"===O.related?"".concat(e.firstName," ").concat(e.lastName):e.leadName})));return(0,v.jsxs)(n.aF,{onClose:t,isOpen:a,isCentered:!0,children:[(0,v.jsx)(n.mH,{}),(0,v.jsxs)(n.$m,{height:"580px",children:[(0,v.jsx)(n.rQ,{children:"Add Meeting "}),(0,v.jsx)(n.s_,{}),(0,v.jsxs)(n.cw,{overflowY:"auto",height:"400px",children:[(0,v.jsx)(g,{data:j,isOpen:w,onClose:I,fieldName:"attendes",setFieldValue:E}),(0,v.jsx)(S,{data:j,isOpen:H,onClose:L,fieldName:"attendesLead",setFieldValue:E}),(0,v.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,v.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,v.jsxs)(s.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Agenda",(0,v.jsx)(o.Text,{color:"red",children:"*"})]}),(0,v.jsx)(i.Input,{fontSize:"sm",onChange:V,onBlur:k,value:O.agenda,name:"agenda",placeholder:"Agenda",fontWeight:"500",borderColor:B.agenda&&W.agenda?"red.300":null}),(0,v.jsxs)(o.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",B.agenda&&W.agenda&&B.agenda]})]}),(0,v.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,v.jsxs)(s.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Related To",(0,v.jsx)(o.Text,{color:"red",children:"*"})]}),(0,v.jsx)(d.z6,{onChange:e=>E("related",e),value:O.related,children:(0,v.jsxs)(o.Stack,{direction:"row",children:["contactView"===e.leadContect&&(0,v.jsx)(d.sx,{value:"Contact",children:"Contact"}),"leadView"===e.leadContect&&(0,v.jsx)(d.sx,{value:"Lead",children:"Lead"}),!e.leadContect&&(0,v.jsxs)(v.Fragment,{children:[" ",(0,v.jsx)(d.sx,{value:"Contact",children:"Contact"}),(0,v.jsx)(d.sx,{value:"Lead",children:"Lead"})]})]})}),(0,v.jsxs)(o.Text,{mb:"10px",color:"red",fontSize:"sm",children:[" ",B.related&&W.related&&B.related]})]}),(null===j||void 0===j?void 0:j.length)>0&&O.related&&(0,v.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,v.jsxs)(o.Flex,{alignItems:"end",justifyContent:"space-between",children:[(0,v.jsx)(o.Text,{w:"100%",children:(0,v.jsx)(m.CUIAutoComplete,{label:"Choose Preferred Attendes ".concat("Contact"===O.related?"Contact":"Lead"===O.related&&"Lead"),placeholder:"Type a Name",name:"attendes",items:M,className:"custom-autoComplete",selectedItems:null===M||void 0===M?void 0:M.filter((e=>"Contact"===O.related?null===O||void 0===O?void 0:O.attendes.includes(e._id):"Lead"===O.related&&(null===O||void 0===O?void 0:O.attendesLead.includes(e._id)))),onSelectedItemsChange:e=>{const t=e.selectedItems.map((e=>e._id));"Contact"===O.related?E("attendes",t):"Lead"===O.related&&E("attendesLead",t)}})}),(0,v.jsx)(r.IconButton,{mb:6,onClick:()=>"Contact"===O.related?I(!0):"Lead"===O.related&&L(!0),fontSize:"25px",icon:(0,v.jsx)(b.G2h,{})})]}),(0,v.jsxs)(o.Text,{color:"red",children:[" ",B.attendes&&W.attendes&&B.attendes]})]}),(0,v.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,v.jsx)(s.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Location"}),(0,v.jsx)(i.Input,{fontSize:"sm",onChange:V,onBlur:k,value:O.location,name:"location",placeholder:"Location",fontWeight:"500",borderColor:B.location&&W.location?"red.300":null}),(0,v.jsxs)(o.Text,{mb:"10px",color:"red",fontSize:"sm",children:[" ",B.location&&W.location&&B.location]})]}),(0,v.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,v.jsxs)(s.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Date Time",(0,v.jsx)(o.Text,{color:"red",children:"*"})]}),(0,v.jsx)(i.Input,{fontSize:"sm",type:"datetime-local",onChange:V,onBlur:k,value:O.dateTime,name:"dateTime",placeholder:"Date Time",fontWeight:"500",borderColor:B.dateTime&&W.dateTime?"red.300":null}),(0,v.jsxs)(o.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",B.dateTime&&W.dateTime&&B.dateTime]})]}),(0,v.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,v.jsx)(s.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Notes"}),(0,v.jsx)(c.T,{resize:"none",fontSize:"sm",placeholder:"Notes",onChange:V,onBlur:k,value:O.notes,name:"notes",fontWeight:"500",borderColor:B.notes&&W.notes?"red.300":null}),(0,v.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",B.notes&&W.notes&&B.notes]})]})]})]}),(0,v.jsxs)(n.jl,{children:[(0,v.jsx)(r.Button,{size:"sm",variant:"brand",me:2,disabled:!!z,onClick:G,children:z?(0,v.jsx)(h.A,{}):"Save"}),(0,v.jsx)(r.Button,{sx:{textTransform:"capitalize"},variant:"outline",colorScheme:"red",size:"sm",onClick:()=>{P.resetForm(),t()},children:"Close"})]})]})]})}},7913:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D});var l=a(5043),n=a(4034),o=a(9754),s=a(4450),i=a(5376),d=a(2554),r=a(6305),c=a(5574),m=a(55),u=a(7368),x=a(3216),h=a(5475),p=a(3516),v=a(899),g=a(9942),j=a(8510),S=a(7682),f=a(9488),b=(a(6178),a(577)),C=a(7508),y=a(579);const A=e=>{const{allData:t,advanceSearch:a,setAdvanceSearch:l,isLoding:n,setSearchedData:o,setDisplaySearchData:i,setSearchbox:r}=e,c=(0,C.wA)(),m=v.Ik({agenda:v.Yj(),createBy:v.Yj().email("Invalid email format")}),u=(0,p.Wx)({initialValues:{agenda:"",createBy:"",startDate:"",endDate:"",timeStartDate:"",timeEndDate:""},validationSchema:m,onSubmit:(e,a)=>{let{resetForm:n}=a;c((0,b.gB)(e)),c((0,b.DW)({values:e,allData:t,type:"Meeting"}));const o="".concat((null===e||void 0===e?void 0:e.startDate)&&"From: ".concat(null===e||void 0===e?void 0:e.startDate)).concat((null===e||void 0===e?void 0:e.endDate)&&" To: ".concat(null===e||void 0===e?void 0:e.endDate)),s="".concat((null===e||void 0===e?void 0:e.timeStartDate)&&"From: ".concat(null===e||void 0===e?void 0:e.timeStartDate)).concat((null===e||void 0===e?void 0:e.timeEndDate)&&" To: ".concat(null===e||void 0===e?void 0:e.timeEndDate)),d=[{name:["agenda"],value:e.agenda},{name:["createBy"],value:e.createBy},{name:["startDate","endDate"],value:o},{name:["timeStartDate","timeEndDate"],value:s}];c((0,b.Tr)(d.filter((e=>e.value)))),i(!0),l(!1),n(),r("")}}),{errors:x,touched:h,values:A,handleBlur:T,handleChange:z,handleSubmit:D,setFieldValue:w,resetForm:I,dirty:H}=u;return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(g.aF,{onClose:()=>{l(!1),I()},isOpen:a,isCentered:!0,children:[(0,y.jsx)(g.mH,{}),(0,y.jsxs)(g.$m,{children:[(0,y.jsx)(g.rQ,{children:"Advance Search"}),(0,y.jsx)(g.s_,{onClick:()=>{l(!1),I()}}),(0,y.jsx)(g.cw,{children:(0,y.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Agenda"}),(0,y.jsx)(S.Input,{fontSize:"sm",onChange:z,onBlur:T,value:null===A||void 0===A?void 0:A.agenda,name:"agenda",placeholder:"Enter Lead Name",fontWeight:"500"}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",x.agenda&&h.agenda&&x.agenda]})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Create By"}),(0,y.jsx)(S.Input,{fontSize:"sm",onChange:z,onBlur:T,value:null===A||void 0===A?void 0:A.createBy,name:"createBy",placeholder:"Enter Lead Email",fontWeight:"500"}),(0,y.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",x.createBy&&h.createBy&&x.createBy]})]}),(0,y.jsx)(s.GridItem,{colSpan:{base:12},children:(0,y.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Date & time"})}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"From"}),(0,y.jsx)(S.Input,{fontSize:"sm",onChange:z,onBlur:T,value:A.startDate,type:"date",name:"startDate",fontWeight:"500"})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"To"}),(0,y.jsx)(S.Input,{fontSize:"sm",onChange:z,onBlur:T,value:A.endDate,min:A.startDate,type:"date",name:"endDate",fontWeight:"500"})]}),(0,y.jsx)(s.GridItem,{colSpan:{base:12},children:(0,y.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Time Stamp"})}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"From"}),(0,y.jsx)(S.Input,{fontSize:"sm",onChange:z,onBlur:T,value:A.timeStartDate,type:"date",name:"timeStartDate",fontWeight:"500"})]}),(0,y.jsxs)(s.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(j.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"To"}),(0,y.jsx)(S.Input,{fontSize:"sm",onChange:z,onBlur:T,value:A.timeEndDate,min:A.timeStartDate,type:"date",name:"timeEndDate",fontWeight:"500"})]})]})}),(0,y.jsxs)(g.jl,{children:[(0,y.jsx)(d.Button,{size:"sm",variant:"brand",mr:2,onClick:D,disabled:!(!n&&H),children:n?(0,y.jsx)(f.A,{}):"Search"}),(0,y.jsx)(d.Button,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>I(),children:"Clear"})]})]})]})})};var T=a(6654),z=a(8177);const D=()=>{const e=(0,x.Zp)(),[t,a]=(0,l.useState)(!1),{isOpen:p,onOpen:v,onClose:g}=(0,o.j1)(),[j,S]=(0,l.useState)([]),[f,b]=(0,l.useState)(!1),[C,D]=(0,l.useState)([]),[w,I]=(0,l.useState)(""),H=JSON.parse(localStorage.getItem("user")),[L,N]=(0,l.useState)(!1),[F,P]=(0,l.useState)(!1),[B,W]=(0,l.useState)([]),[O,k]=(0,l.useState)(!1),[V,G]=(0,l.useState)([]),[E]=(0,c.h)(["Meetings"]),_={Header:"Action",isSortable:!1,center:!0,cell:t=>{let{row:a}=t;return(0,y.jsx)(s.Text,{fontSize:"md",fontWeight:"900",textAlign:"center",children:(0,y.jsxs)(i.W1,{isLazy:!0,children:[(0,y.jsx)(i.IU,{children:(0,y.jsx)(u.txp,{})}),(0,y.jsxs)(i.cO,{minW:"fit-content",transform:"translate(1520px, 173px);",children:[(null===E||void 0===E?void 0:E.view)&&(0,y.jsx)(i.Dr,{py:2.5,color:"green",onClick:()=>e("/metting/".concat(null===a||void 0===a?void 0:a.values._id)),icon:(0,y.jsx)(n.ViewIcon,{fontSize:15}),children:"View"}),(null===E||void 0===E?void 0:E.delete)&&(0,y.jsx)(i.Dr,{py:2.5,color:"red",onClick:()=>{var e;N(!0),S([null===a||void 0===a||null===(e=a.values)||void 0===e?void 0:e._id])},icon:(0,y.jsx)(n.DeleteIcon,{fontSize:15}),children:"Delete"})]})]})})}},M=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Agenda",accessor:"agenda",cell:e=>{var t;return(0,y.jsxs)(h.N_,{to:"/metting/".concat(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.values._id),children:[" ",(0,y.jsx)(s.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e?void 0:e.value)||" - "})]})}},{Header:"Date & Time",accessor:"dateTime"},{Header:"Time Stamp",accessor:"timestamp"},{Header:"Create By",accessor:"createdByName"},...null!==E&&void 0!==E&&E.update||null!==E&&void 0!==E&&E.view||null!==E&&void 0!==E&&E.delete?[_]:[]],[R,J]=(0,l.useState)([...M]),[Y,U]=(0,l.useState)([...M]),X=null===M||void 0===M?void 0:M.filter((e=>null===Y||void 0===Y?void 0:Y.find((t=>(null===t||void 0===t?void 0:t.Header)===e.Header))));return(0,l.useEffect)((()=>{(async()=>{P(!0);let e=await(0,r.x4)("superAdmin"===H.role?"api/meeting":"api/meeting/?createBy=".concat(H._id));W(e.data),P(!1)})()}),[t]),(0,y.jsxs)("div",{children:[(0,y.jsx)(m.A,{title:"Meeting",isLoding:F,columnData:R,dataColumn:X,allData:B,tableData:B,searchDisplay:O,setSearchDisplay:k,searchedDataOut:V,setSearchedDataOut:G,tableCustomFields:[],access:E,action:t,setAction:a,selectedColumns:Y,setSelectedColumns:U,isOpen:p,onClose:g,onOpen:v,selectedValues:j,setSelectedValues:S,setDelete:N,AdvanceSearch:(0,y.jsx)(d.Button,{variant:"outline",colorScheme:"brand",leftIcon:(0,y.jsx)(n.SearchIcon,{}),mt:{sm:"5px",md:"0"},size:"sm",onClick:()=>b(!0),children:"Advance Search"}),getTagValuesOutSide:C,searchboxOutside:w,setGetTagValuesOutside:D,setSearchboxOutside:I}),(0,y.jsx)(A,{advanceSearch:f,setAdvanceSearch:b,setSearchedData:G,setDisplaySearchData:k,allData:B,setAction:a,setGetTagValues:D,setSearchbox:I}),(0,y.jsx)(T.A,{setAction:a,isOpen:p,onClose:g}),(0,y.jsx)(z.A,{isOpen:L,onClose:()=>N(!1),type:"Meetings",handleDeleteData:async e=>{try{P(!0),200===(await(0,r.Vn)("api/meeting/deleteMany",e)).status&&(S([]),N(!1),a((e=>!e)))}catch(t){console.log(t)}finally{P(!1)}},ids:j})]})}}}]);
//# sourceMappingURL=913.4e143c8a.chunk.js.map