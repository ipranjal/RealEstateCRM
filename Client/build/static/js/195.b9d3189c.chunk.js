"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[195],{265:(e,t,l)=>{l.d(t,{A:()=>h});var o=l(9379),i=l(4034),n=l(9942),s=l(2554),a=l(9488),d=l(3516),r=l(5043),c=l(6305),u=l(2030),x=l(8908),m=l(899),v=l(579);const h=e=>{var t,l;const[h,p]=(0,r.useState)(!1),j=Object.fromEntries(((null===e||void 0===e||null===(t=e.contactData)||void 0===t?void 0:t.fields)||[]).map((e=>[null===e||void 0===e?void 0:e.name,""]))),g=(0,o.A)((0,o.A)({},j),{},{createBy:JSON.parse(localStorage.getItem("user"))._id}),f=(0,d.Wx)({initialValues:g,validationSchema:m.Ik().shape((0,u.g)(null===e||void 0===e||null===(l=e.contactData)||void 0===l?void 0:l.fields)),onSubmit:(e,t)=>{let{resetForm:l}=t;k(),l()}}),{errors:y,touched:b,values:S,handleBlur:A,handleChange:C,handleSubmit:I,setFieldValue:w}=f,k=async()=>{try{var t;p(!0),200===(await(0,c.d_)("api/form/add",(0,o.A)((0,o.A)({},S),{},{moduleId:null===e||void 0===e||null===(t=e.contactData)||void 0===t?void 0:t._id}))).status&&(e.onClose(),e.setAction((e=>!e)))}catch(l){console.log(l)}finally{p(!1)}};return(0,v.jsx)("div",{children:(0,v.jsxs)(n._s,{isOpen:e.isOpen,size:e.size,children:[(0,v.jsx)(n.QP,{}),(0,v.jsxs)(n.zj,{children:[(0,v.jsxs)(n.BE,{alignItems:"center",justifyContent:"space-between",display:"flex",children:["Add Contact",(0,v.jsx)(s.IconButton,{onClick:e.onClose,icon:(0,v.jsx)(i.CloseIcon,{})})]}),(0,v.jsx)(n.ys,{children:(0,v.jsx)(x.A,{moduleData:e.contactData,values:S,setFieldValue:w,handleChange:C,handleBlur:A,errors:y,touched:b})}),(0,v.jsxs)(n.tb,{children:[(0,v.jsx)(s.Button,{sx:{textTransform:"capitalize"},variant:"brand",disabled:!!h,type:"submit",size:"sm",onClick:I,children:h?(0,v.jsx)(a.A,{}):"Save"}),(0,v.jsx)(s.Button,{variant:"outline",colorScheme:"red",size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},onClick:()=>{f.resetForm(),e.onClose()},children:"Close"})]})]})]})})}},708:(e,t,l)=>{l.d(t,{A:()=>j});var o=l(9379),i=l(4034),n=l(9942),s=l(2554),a=l(4450),d=l(9488),r=l(3516),c=l(5043),u=l(3216),x=l(6305),m=l(2030),v=l(899),h=l(8908),p=l(579);const j=e=>{var t,l;const[j,g]=(0,c.useState)(!1),f=Object.fromEntries(((null===e||void 0===e||null===(t=e.contactData)||void 0===t?void 0:t.fields)||[]).map((e=>[null===e||void 0===e?void 0:e.name,""]))),[y,b]=(0,c.useState)((0,o.A)((0,o.A)({},f),{},{createBy:JSON.parse(localStorage.getItem("user"))._id})),S=(0,u.g)(),A=(0,r.Wx)({initialValues:y,enableReinitialize:!0,validationSchema:v.Ik().shape((0,m.g)(null===e||void 0===e||null===(l=e.contactData)||void 0===l?void 0:l.fields)),onSubmit:(e,t)=>{let{resetForm:l}=t;H()}}),{errors:C,touched:I,values:w,handleBlur:k,handleChange:z,handleSubmit:D,setFieldValue:P}=A,H=async()=>{try{g(!0),200===(await(0,x.yP)("api/form/edit/".concat((null===e||void 0===e?void 0:e.selectedId)||S.id),(0,o.A)((0,o.A)({},w),{},{moduleId:null===e||void 0===e?void 0:e.moduleId}))).status&&(e.onClose(),e.setAction((e=>!e)))}catch(t){console.log(t)}finally{g(!1)}},B=()=>{e.onClose(!1),e.setSelectedId&&(null===e||void 0===e||e.setSelectedId())};let T;return(0,c.useEffect)((()=>{(async()=>{if(null!==e&&void 0!==e&&e.selectedId||S.id)try{g(!0),T=await(0,x.x4)("api/contact/view/",null!==e&&void 0!==e&&e.selectedId?null===e||void 0===e?void 0:e.selectedId:S.id),b((e=>{var t,l;return(0,o.A)((0,o.A)({},e),null===(t=T)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.contact)}))}catch(t){console.error(t)}finally{g(!1)}})()}),[null===e||void 0===e?void 0:e.selectedId]),(0,p.jsx)("div",{children:(0,p.jsxs)(n._s,{isOpen:e.isOpen,size:e.size,children:[(0,p.jsx)(n.QP,{}),(0,p.jsxs)(n.zj,{children:[(0,p.jsxs)(n.BE,{alignItems:"center",justifyContent:"space-between",display:"flex",children:["Edit Contact",(0,p.jsx)(s.IconButton,{onClick:B,icon:(0,p.jsx)(i.CloseIcon,{})})]}),(0,p.jsx)(n.ys,{children:j?(0,p.jsx)(a.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,p.jsx)(d.A,{})}):(0,p.jsx)(h.A,{moduleData:e.contactData,values:w,setFieldValue:P,handleChange:z,handleBlur:k,errors:C,touched:I})}),(0,p.jsxs)(n.tb,{children:[(0,p.jsx)(s.Button,{sx:{textTransform:"capitalize"},variant:"brand",type:"submit",size:"sm",disabled:!!j,onClick:D,children:j?(0,p.jsx)(d.A,{}):"Update"}),(0,p.jsx)(s.Button,{variant:"outline",colorScheme:"red",size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},onClick:B,children:"Close"})]})]})]})})}},8195:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Q});var o=l(4034),i=l(1206),n=l(9754),s=l(4450),a=l(8858),d=l(5376),r=l(2554),c=l(962),u=l(216),x=l(3994),m=l(9488),v=l(2770),h=l(5043),p=l(7805),j=l(2127),g=l(5369),f=l(4960),y=l(9271),b=l(3216),S=l(5475),A=l(2145),C=l(6305),I=l(6),w=l(6654),k=l(9250),z=l(7930),D=l(265),P=l(708),H=l(3278),B=l(4406),T=l(9942),G=l(9379),F=l(1778),O=l(5066),E=l(1094),N=l(8152),_=l(2853),W=l(579);function V(e){const{columnsData:t,tableData:l,title:o,selectedValues:n,setSelectedValues:a}=e,d=(0,h.useMemo)((()=>t),[t]),r=(0,h.useMemo)((()=>l),[l]),c=JSON.parse(localStorage.getItem("user")),[x,m]=(0,h.useState)(),v=(0,E.useTable)({columns:d,data:r,initialState:{pageIndex:0}},E.useGlobalFilter,E.useSortBy,E.usePagination),{getTableProps:p,getTableBodyProps:j,headerGroups:g,prepareRow:f,page:y,canPreviousPage:b,canNextPage:A,pageOptions:C,pageCount:I,gotoPage:w,nextPage:k,previousPage:z,setPageSize:D,state:{pageIndex:P,pageSize:H}}=v;C.length<x&&m(C.length);const B=(0,i.dU)("gray.500","white"),T=(0,i.dU)("gray.200","whiteAlpha.100");return(0,W.jsxs)(u.A,{direction:"column",w:"100%",px:"0px",style:{border:"1px solid gray.200"},overflowX:{sm:"scroll",lg:"hidden"},children:[(0,W.jsx)(s.Box,{overflowY:"auto",className:"table-container-property",children:(0,W.jsxs)(F.XI,(0,G.A)((0,G.A)({},p()),{},{variant:"simple",color:"gray.500",mb:"24px",children:[(0,W.jsx)(F.d8,{children:null===g||void 0===g?void 0:g.map(((e,t)=>(0,h.createElement)(F.Tr,(0,G.A)((0,G.A)({},e.getHeaderGroupProps()),{},{key:t}),e.headers.map(((e,t)=>(0,h.createElement)(F.Th,(0,G.A)((0,G.A)({},e.getHeaderProps(e.getSortByToggleProps())),{},{pe:"10px",key:t,borderColor:T}),(0,W.jsx)(s.Flex,{justify:"space-between",align:"center",fontSize:{sm:"14px",lg:"14px"},color:"secondaryGray.900",children:e.render("Header")})))))))}),(0,W.jsxs)(F.NN,(0,G.A)((0,G.A)({},j()),{},{children:[0===(null===r||void 0===r?void 0:r.length)&&(0,W.jsx)(F.Tr,{children:(0,W.jsx)(F.Td,{colSpan:d.length,children:(0,W.jsx)(s.Text,{textAlign:"center",width:"100%",color:B,fontSize:"sm",fontWeight:"700",children:(0,W.jsx)(_.A,{})})})}),null===y||void 0===y?void 0:y.map(((e,t)=>{var l;return f(e),(0,h.createElement)(F.Tr,(0,G.A)((0,G.A)({},null===e||void 0===e?void 0:e.getRowProps()),{},{key:t}),null===e||void 0===e||null===(l=e.cells)||void 0===l?void 0:l.map(((e,t)=>{let l="";var o;if("#"===(null===e||void 0===e?void 0:e.column.Header))l=(0,W.jsxs)(s.Flex,{align:"center",children:[(0,W.jsx)(O.Sc,{colorScheme:"brandScheme",value:n,isChecked:n.includes(null===e||void 0===e?void 0:e.value),onChange:t=>((e,t)=>{e.target.checked?a((e=>[...e,t])):a((e=>e.filter((e=>e!==t))))})(t,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,W.jsx)(s.Text,{color:B,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(o=e.row)||void 0===o?void 0:o.index)+1})]});else if("property Type"===(null===e||void 0===e?void 0:e.column.Header)){var i,d,r,u;l=(0,W.jsx)(S.N_,{to:"superAdmin"!==(null===c||void 0===c?void 0:c.role)?"/propertyView/".concat(null===e||void 0===e||null===(i=e.row)||void 0===i||null===(d=i.original)||void 0===d?void 0:d._id):"/propertyView/".concat(null===e||void 0===e||null===(r=e.row)||void 0===r||null===(u=r.original)||void 0===u?void 0:u._id),children:(0,W.jsx)(s.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value})})}else"property Address"===(null===e||void 0===e?void 0:e.column.Header)||"listing Price"===(null===e||void 0===e?void 0:e.column.Header)?l=(0,W.jsx)(s.Text,{me:"10px",color:B,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}):("square Footage"===(null===e||void 0===e?void 0:e.column.Header)||"year Built"===(null===e||void 0===e?void 0:e.column.Header)||"number of Bedrooms"===(null===e||void 0===e?void 0:e.column.Header)||"number of Bathrooms"===(null===e||void 0===e?void 0:e.column.Header))&&(l=(0,W.jsx)(s.Text,{color:B,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}));return(0,h.createElement)(F.Td,(0,G.A)((0,G.A)({},null===e||void 0===e?void 0:e.getCellProps()),{},{key:t,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"}),l)})))}))]}))]}))}),(null===r||void 0===r?void 0:r.length)>5&&(0,W.jsx)(N.A,{gotoPage:w,gopageValue:x,setGopageValue:m,pageCount:I,canPreviousPage:b,previousPage:z,canNextPage:A,pageOptions:C,setPageSize:D,nextPage:k,pageSize:H,pageIndex:P})]})}const R=e=>{const{onClose:t,isOpen:l,fetchData:o,id:i,interestProperty:n}=e,[a,d]=(0,h.useState)([]),[c,u]=(0,h.useState)(!1),[x,v]=(0,h.useState)([]),p=JSON.parse(localStorage.getItem("user")),j=[...new Set(a)];return(0,h.useEffect)((()=>{null===n||void 0===n||n.map((e=>d((t=>[...t,e])))),(async()=>{u(!0);let e=await(0,C.x4)("superAdmin"===p.role?"api/property/":"api/property/?createBy=".concat(p._id));e&&200==e.status&&v(null===e||void 0===e?void 0:e.data),u(!1)})()}),[n]),(0,W.jsxs)(T.aF,{onClose:t,size:"full",isOpen:l,children:[(0,W.jsx)(T.mH,{}),(0,W.jsxs)(T.$m,{children:[(0,W.jsx)(T.rQ,{children:"Select Interested Property"}),(0,W.jsx)(T.s_,{}),(0,W.jsx)(T.cw,{children:c?(0,W.jsx)(s.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,W.jsx)(m.A,{})}):(0,W.jsx)(V,{tableData:x,selectedValues:a,setSelectedValues:d,columnsData:[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"property Type",accessor:"propertyType"},{Header:"property Address",accessor:"propertyAddress"},{Header:"listing Price",accessor:"listingPrice"},{Header:"square Footage",accessor:"squareFootage"},{Header:"year Built",accessor:"yearBuilt"}],title:"Properties"})}),(0,W.jsxs)(T.jl,{children:[(0,W.jsxs)(r.Button,{size:"sm",variant:"brand",onClick:async()=>{try{u(!0);let e=await(0,C.d_)("api/contact/add-property-interest/".concat(i),j);e&&200==e.status&&(o(),t())}catch(e){console.log(e)}finally{u(!1)}},disabled:!!c,children:[" ",c?(0,W.jsx)(m.A,{}):"Save"]}),(0,W.jsx)(r.Button,{size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",onClick:()=>t(),children:"Close"})]})]})]})};var U=l(5574),J=l(9367),L=l(8879),M=l(9702),q=l(8618),K=l(8177);const Q=()=>{var e,t,l,T,G,F,O,E,N,Q,X,$,Y,Z,ee,te;const le=(0,b.g)(),oe=(0,i.dU)("gray.500","white"),ie=JSON.parse(localStorage.getItem("user")),ne=(0,i.dU)("gray.200","white"),[se,ae]=(0,h.useState)([]),[de,re]=(0,h.useState)([]),[ce,ue]=(0,h.useState)([]),{isOpen:xe,onOpen:me,onClose:ve}=(0,n.j1)(),[he,pe]=(0,h.useState)(!1),[je,ge]=(0,h.useState)(!1),[fe,ye]=(0,h.useState)(!1),[be,Se]=(0,h.useState)(!1),[Ae,Ce]=(0,h.useState)(!1),[Ie,we]=(0,h.useState)(!1),[ke,ze]=(0,h.useState)(!1),[De,Pe]=(0,h.useState)(!1),[He,Be]=(0,h.useState)(!1),[Te,Ge]=(0,h.useState)(!1),[Fe,Oe]=(0,h.useState)(!1),[Ee,Ne]=(0,h.useState)(!1),[_e,We]=(0,h.useState)(!1),[Ve,Re]=(0,h.useState)(!1),Ue=(0,b.Zp)(),[Je,Le,Me,qe,Ke]=(0,U.h)(["Contacts","Calls","Emails","Tasks","Meetings"]),Qe=[{Header:"sender",accessor:"senderName"},{Header:"recipient",accessor:"createByName"},{Header:"time stamp",accessor:"timestamp"},{Header:"Created",accessor:"createBy"}],Xe=async e=>{if(e){let t=await(0,C.x4)("api/document/download/",e);t&&200===t.status?(window.open("".concat(v.d.baseUrl,"api/document/download/").concat(e)),A.oR.success("file Download successful")):t&&404===t.response.status&&A.oR.error("file Not Found")}},$e=async()=>{var e;Se(!0);let t=await(0,C.x4)("api/contact/view/",le.id);ae(null===(e=t.data)||void 0===e?void 0:e.contact),re(null===t||void 0===t?void 0:t.data),Se(!1)};(0,h.useEffect)((()=>{$e()}),[Ae]);const Ye=async()=>{const e=await(0,C.x4)("api/custom-field?moduleName=Contacts");ue(e.data)};return(0,h.useEffect)((()=>{Ye&&Ye()}),[Ae]),(0,W.jsxs)(W.Fragment,{children:[xe&&(0,W.jsx)(D.A,{isOpen:xe,size:"lg",onClose:ve,contactData:ce[0]}),(0,W.jsx)(P.A,{isOpen:he,contactData:ce[0],size:"lg",onClose:pe,setAction:Ce,moduleId:null===ce||void 0===ce||null===(e=ce[0])||void 0===e?void 0:e._id}),(0,W.jsx)(K.A,{isOpen:je,onClose:()=>ge(!1),type:"Contact",handleDeleteData:async e=>{try{Se(!0),200===(await(0,C.Gx)("api/contact/delete/",e)).status&&(ge(!1),Ce((e=>!e)),Ue("/contacts"))}catch(t){console.log(t)}finally{Se(!1)}},ids:le.id}),(0,W.jsx)(I.A,{fetchData:$e,isOpen:ke,onClose:ze,id:le.id,viewData:de,lead:"false"}),be?(0,W.jsx)(s.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,W.jsx)(m.A,{})}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(a.tU,{children:[(0,W.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:1,children:[(0,W.jsx)(s.GridItem,{colSpan:{base:12,md:6},children:(0,W.jsxs)(a.wb,{sx:{width:"100%",overflowX:"auto",border:"none","& button:focus":{boxShadow:"none"},"& button":{margin:{sm:"0 3px",md:"0 5px"},padding:{sm:"5px",md:"8px"},fontSize:{sm:"12px",md:"16px"},border:"2px solid #8080803d",borderTopLeftRadius:"10px",borderTopRightRadius:"10px",borderBottom:0},'& button[aria-selected="true"]':{border:"2px solid brand.200",borderBottom:0,zIndex:"0"}},children:[(0,W.jsx)(a.oz,{children:"Information"}),((null===Me||void 0===Me?void 0:Me.view)||(null===Le||void 0===Le?void 0:Le.view)||(null===qe||void 0===qe?void 0:qe.view)||(null===Ke||void 0===Ke?void 0:Ke.view))&&(0,W.jsx)(a.oz,{children:" Communication"}),(0,W.jsx)(a.oz,{children:"Document"})]})}),(0,W.jsx)(s.GridItem,{colSpan:{base:12,md:6},mt:{sm:"3px",md:"5px"},children:(0,W.jsxs)(s.Flex,{justifyContent:"right",children:[(0,W.jsxs)(d.W1,{children:[("superAdmin"===ie.role||(null===Je||void 0===Je?void 0:Je.create)||(null===Je||void 0===Je?void 0:Je.update)||(null===Je||void 0===Je?void 0:Je.delete))&&(0,W.jsx)(d.IU,{size:"sm",variant:"outline",colorScheme:"blackAlpha",va:!0,mr:2.5,as:r.Button,rightIcon:(0,W.jsx)(o.ChevronDownIcon,{}),children:"Actions"}),(0,W.jsx)(d.Nj,{}),(0,W.jsxs)(d.cO,{minWidth:2,children:[("superAdmin"===ie.role||(null===Je||void 0===Je?void 0:Je.create))&&(0,W.jsx)(d.Dr,{alignItems:"start",onClick:()=>me(),color:"blue",icon:(0,W.jsx)(o.AddIcon,{}),children:"Add"}),("superAdmin"===ie.role||(null===Je||void 0===Je?void 0:Je.update))&&(0,W.jsx)(d.Dr,{alignItems:"start",onClick:()=>pe(!0),icon:(0,W.jsx)(o.EditIcon,{}),children:"Edit"}),("superAdmin"===ie.role||(null===Je||void 0===Je?void 0:Je.delete))&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(d.Nj,{}),(0,W.jsx)(d.Dr,{alignItems:"start",onClick:()=>ge(!0),color:"red",icon:(0,W.jsx)(o.DeleteIcon,{}),children:"Delete"})]})]})]}),(0,W.jsx)(S.N_,{to:"/contacts",children:(0,W.jsx)(r.Button,{leftIcon:(0,W.jsx)(f.m6W,{}),size:"sm",variant:"brand",children:"Back"})})]})})]}),(0,W.jsxs)(a.T2,{children:[(0,W.jsxs)(a.Kp,{pt:4,p:0,children:[(0,W.jsx)(M.A,{data:ce[0],fieldData:se,toCamelCase:function(e){return null===e||void 0===e?void 0:e.replace(/([a-z])([A-Z])/g,"$1 $2")}}),(0,W.jsx)(s.GridItem,{colSpan:{base:12},mt:4,children:(0,W.jsx)(u.A,{children:(0,W.jsx)(s.Grid,{templateColumns:{base:"1fr"},gap:4,children:(0,W.jsxs)(s.GridItem,{colSpan:2,children:[(0,W.jsx)(s.Box,{children:(0,W.jsxs)(s.Flex,{alignItems:"center",mb:2,justifyContent:"space-between",children:[(0,W.jsxs)(s.Heading,{size:"md",children:["Property of Interest(",null===de||void 0===de||null===(t=de.interestProperty)||void 0===t||null===(l=t.interestProperty)||void 0===l?void 0:l.length,")"]}),(0,W.jsx)(r.Button,{onClick:()=>ye(!0),leftIcon:(0,W.jsx)(y.MbK,{}),size:"sm",colorScheme:"gray",bg:ne,children:"Select Interested Property  "}),(0,W.jsx)(R,{fetchData:$e,isOpen:fe,onClose:ye,id:le.id,interestProperty:null===se||void 0===se?void 0:se.interestProperty})]})}),(0,W.jsx)(s.Grid,{templateColumns:"repeat(2, 1fr)",gap:4,children:(0,W.jsx)(s.GridItem,{colSpan:{base:2},children:(0,W.jsx)(V,{fetchData:$e,columnsData:[{Header:"property Type",accessor:"propertyType"},{Header:"property Address",accessor:"propertyAddress"},{Header:"listing Price",accessor:"listingPrice"},{Header:"square Footage",accessor:"squareFootage"},{Header:"year Built",accessor:"yearBuilt"}],tableData:(null===de||void 0===de||null===(T=de.interestProperty)||void 0===T||null===(G=T.interestProperty)||void 0===G?void 0:G.length)>0?null===de||void 0===de||null===(F=de.interestProperty)||void 0===F?void 0:F.interestProperty:[],title:"Interested Property"})})})]})})})})]}),(0,W.jsx)(a.Kp,{pt:4,p:0,children:(0,W.jsx)(s.GridItem,{colSpan:{base:12},children:(0,W.jsx)(s.Grid,{templateColumns:{base:"1fr"},gap:4,children:(0,W.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,children:[(null===Me||void 0===Me?void 0:Me.view)&&(0,W.jsx)(s.GridItem,{colSpan:{base:12,md:6},children:(0,W.jsxs)(u.A,{overflow:"scroll",children:[(0,W.jsx)(H.A,{viewData:de,fetchData:$e,emailAccess:Me,columnsData:Qe,tableData:Te?de.EmailHistory:(null===de||void 0===de||null===(O=de.EmailHistory)||void 0===O?void 0:O.length)>0?[de.EmailHistory[0]]:[],title:"Email "}),(null===de||void 0===de||null===(E=de.EmailHistory)||void 0===E?void 0:E.length)>1&&(0,W.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,W.jsx)(r.Button,{colorScheme:"brand",variant:"outline",size:"sm",display:"flex",justifyContant:"end",onClick:()=>Ge(!Te),children:Te?"Show less":"Show more"})})]})}),(null===Le||void 0===Le?void 0:Le.view)&&(0,W.jsx)(s.GridItem,{colSpan:{base:12,md:6},children:(0,W.jsxs)(u.A,{overflow:"scroll",children:[(0,W.jsx)(B.A,{callAccess:Le,fetchData:$e,columnsData:Qe,tableData:Fe?null===de||void 0===de?void 0:de.phoneCallHistory:(null===de||void 0===de||null===(N=de.phoneCallHistory)||void 0===N?void 0:N.length)>0?[null===de||void 0===de?void 0:de.phoneCallHistory[0]]:[],title:"Call "}),(0,W.jsx)(k.A,{viewData:de,fetchData:$e,setAction:Ce,isOpen:De,onClose:Pe,data:null===se||void 0===se?void 0:se.contact,id:le.id}),(null===de||void 0===de||null===(Q=de.phoneCallHistory)||void 0===Q?void 0:Q.length)>1&&(0,W.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,W.jsx)(r.Button,{colorScheme:"brand",variant:"outline",size:"sm",display:"flex",justifyContant:"end",onClick:()=>Oe(!Fe),children:Fe?"Show less":"Show more"})})]})}),(null===qe||void 0===qe?void 0:qe.view)&&(0,W.jsx)(s.GridItem,{colSpan:{base:12,md:6},children:(0,W.jsxs)(u.A,{overflow:"scroll",children:[(0,W.jsx)(L.A,{fetchData:$e,columnsData:[{Header:"Title",accessor:"title"},{Header:"Category",accessor:"category"},{Header:"Assignment To",accessor:"assignmentToName"},{Header:"Start Date",accessor:"start"},{Header:"End Date",accessor:"end"}],tableData:Ee?null===de||void 0===de?void 0:de.task:(null===de||void 0===de||null===(X=de.task)||void 0===X?void 0:X.length)>0?[null===de||void 0===de?void 0:de.task[0]]:[],title:"Task ",action:Ae,setAction:Ce,access:qe}),(0,W.jsx)(z.A,{fetchData:$e,isOpen:Ie,onClose:we,from:"contact",id:le.id}),(null===de||void 0===de||null===($=de.task)||void 0===$?void 0:$.length)>1&&(0,W.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,W.jsx)(r.Button,{colorScheme:"brand",variant:"outline",size:"sm",display:"flex",justifyContant:"end",onClick:()=>Ne(!Ee),children:Ee?"Show less":"Show more"})})]})}),(null===Ke||void 0===Ke?void 0:Ke.view)&&(0,W.jsx)(s.GridItem,{colSpan:{base:12,md:6},children:(0,W.jsxs)(u.A,{overflow:"scroll",children:[(0,W.jsx)(J.A,{fetchData:$e,columnsData:[{Header:"agenda",accessor:"agenda"},{Header:"date Time",accessor:"dateTime"},{Header:"times tamp",accessor:"timestamp"},{Header:"create By",accessor:"createdByName"}],tableData:_e?null===de||void 0===de?void 0:de.meetingHistory:(null===de||void 0===de||null===(Y=de.meetingHistory)||void 0===Y?void 0:Y.length)>0?[null===de||void 0===de?void 0:de.meetingHistory[0]]:[],title:"Meeting ",action:Ae,setAction:Ce,access:Ke}),(0,W.jsx)(w.A,{fetchData:$e,isOpen:He,onClose:Be,from:"contact",id:le.id,setAction:Ce}),(null===de||void 0===de||null===(Z=de.meetingHistory)||void 0===Z?void 0:Z.length)>1&&(0,W.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,W.jsx)(r.Button,{colorScheme:"brand",size:"sm",variant:"outline",display:"flex",justifyContant:"end",onClick:()=>We(!_e),children:_e?"Show less":"Show more"})})]})})]})})})}),(0,W.jsx)(a.Kp,{pt:4,p:0,children:(0,W.jsx)(s.GridItem,{colSpan:{base:12},children:(0,W.jsxs)(u.A,{minH:"40vh",children:[(0,W.jsxs)(s.Flex,{alignItems:"center",justifyContent:"space-between",mb:"2",children:[(0,W.jsx)(s.Heading,{size:"md",mb:3,children:"Documents"}),(0,W.jsx)(r.Button,{leftIcon:(0,W.jsx)(o.AddIcon,{}),size:"sm",variant:"brand",onClick:()=>Re(!0),children:"Add Document"})]}),(0,W.jsx)(q.A,{addDocument:Ve,setAddDocument:Re,linkId:le.id,from:"contact",setAction:Ce}),(0,W.jsx)(x.E,{}),(0,W.jsx)(s.VStack,{mt:4,alignItems:"flex-start",children:(null===de||void 0===de||null===(ee=de.Document)||void 0===ee?void 0:ee.length)>0?null===de||void 0===de||null===(te=de.Document)||void 0===te?void 0:te.map((e=>{var t;return(0,W.jsx)(c.A,{name:e.folderName,item:e,children:null===e||void 0===e||null===(t=e.files)||void 0===t?void 0:t.map((e=>(0,W.jsx)(c.A,{download:Xe,data:e,name:e.fileName,isFile:!0,from:"contact"})))})})):(0,W.jsx)(s.Text,{textAlign:"center",width:"100%",color:oe,fontSize:"sm",fontWeight:"700",children:(0,W.jsx)(_.A,{})})})]})})}),(0,W.jsx)(a.Kp,{pt:4,p:0,children:(0,W.jsx)(s.GridItem,{colSpan:{base:12},children:(0,W.jsx)(u.A,{children:(0,W.jsxs)(s.Grid,{templateColumns:{base:"1fr"},gap:4,children:[(0,W.jsx)(s.GridItem,{colSpan:2,children:(0,W.jsxs)(s.Box,{children:[(0,W.jsx)(s.Heading,{size:"md",mb:3,children:"Social Media Profiles"}),(0,W.jsx)(x.E,{})]})}),null!==se&&void 0!==se&&se.linkedInProfile||null!==se&&void 0!==se&&se.facebookProfile||null!==se&&void 0!==se&&se.twitterHandle||null!==se&&void 0!==se&&se.otherProfiles?(0,W.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,my:3,flexWrap:"wrap",display:"flex",justifyContent:"center",children:[(null===se||void 0===se?void 0:se.linkedInProfile)&&(0,W.jsxs)(s.GridItem,{textAlign:"center",colSpan:{base:2,md:1},children:[(0,W.jsx)("a",{target:"_blank",href:null===se||void 0===se?void 0:se.linkedInProfile,children:(0,W.jsx)(r.IconButton,{colorScheme:"brand","aria-label":"Call Fred",borderRadius:"10px",size:"md",icon:(0,W.jsx)(p.LnC,{})})}),(0,W.jsx)(s.Text,{fontSize:"sm",mt:2,fontWeight:"bold",color:"blackAlpha.900",children:" LinkedIn Profile  "})]}),(null===se||void 0===se?void 0:se.facebookProfile)&&(0,W.jsxs)(s.GridItem,{textAlign:"center",colSpan:{base:2,md:1},children:[(0,W.jsx)("a",{target:"_blank",href:"https://www.facebook.com/".concat(se.facebookProfile),children:(0,W.jsx)(r.IconButton,{colorScheme:"brand","aria-label":"Call Fred",borderRadius:"10px",size:"md",icon:(0,W.jsx)(g.iYk,{})})}),(0,W.jsx)(s.Text,{fontSize:"sm",mt:2,fontWeight:"bold",color:"blackAlpha.900",children:" Facebook Profile  "})]}),(null===se||void 0===se?void 0:se.linkedInProfile)&&(0,W.jsxs)(s.GridItem,{textAlign:"center",colSpan:{base:2,md:1},children:[(0,W.jsx)("a",{target:"_blank",href:"https://www.facebook.com/".concat(se.facebookProfile),children:(0,W.jsx)(r.IconButton,{colorScheme:"brand","aria-label":"Call Fred",borderRadius:"10px",size:"md",icon:(0,W.jsx)(j.Pj_,{})})}),(0,W.jsx)(s.Text,{fontSize:"sm",mt:2,px:2,fontWeight:"bold",color:"blackAlpha.900",children:"Twitter Handle "})]}),(null===se||void 0===se?void 0:se.linkedInProfile)&&(0,W.jsxs)(s.GridItem,{textAlign:"center",colSpan:{base:2,md:1},children:[(0,W.jsx)("a",{target:"_blank",href:null===se||void 0===se?void 0:se.otherProfiles,children:(0,W.jsx)(r.IconButton,{colorScheme:"brand","aria-label":"Call Fred",borderRadius:"10px",size:"md",icon:(0,W.jsx)(p.o9J,{})})}),(0,W.jsx)(s.Text,{fontSize:"sm",mt:2,fontWeight:"bold",color:"blackAlpha.900",children:" Other Profiles  "})]})]}):(0,W.jsx)(s.Grid,{templateColumns:"repeat(2, 1fr)",gap:4,children:(0,W.jsx)(s.GridItem,{colSpan:{base:2},textAlign:"center",children:(0,W.jsxs)(s.Text,{textAlign:"center",width:"100%",color:oe,fontSize:"sm",fontWeight:"700",children:[" ",(0,W.jsx)(_.A,{})]})})})]})})})})]})]}),("superAdmin"===ie.role||(null===Je||void 0===Je?void 0:Je.update)||(null===Je||void 0===Je?void 0:Je.delete))&&(0,W.jsx)(u.A,{mt:3,children:(0,W.jsx)(s.Grid,{templateColumns:"repeat(6, 1fr)",gap:1,children:(0,W.jsx)(s.GridItem,{colStart:6,children:(0,W.jsxs)(s.Flex,{justifyContent:"right",children:[(null===Je||void 0===Je?void 0:Je.update)&&(0,W.jsx)(r.Button,{size:"sm",onClick:()=>pe(!0),leftIcon:(0,W.jsx)(o.EditIcon,{}),mr:2.5,variant:"outline",colorScheme:"green",children:"Edit"}),(null===Je||void 0===Je?void 0:Je.delete)&&(0,W.jsx)(r.Button,{size:"sm",style:{background:"red.800"},onClick:()=>ge(!0),leftIcon:(0,W.jsx)(o.DeleteIcon,{}),colorScheme:"red",children:"Delete"})]})})})})]})]})}}}]);
//# sourceMappingURL=195.b9d3189c.chunk.js.map