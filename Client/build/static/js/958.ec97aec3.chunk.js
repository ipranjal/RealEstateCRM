"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[958],{7720:(e,l,t)=>{t.r(l),t.d(l,{default:()=>f});var d=t(4450),i=t(2554),n=t(216),o=t(3994),a=t(9488),s=t(6178),r=t.n(s),c=t(5043),m=t(4960),x=t(3216),h=t(5475),v=t(5574),u=t(6305),j=t(4034),p=t(8177),b=t(579);const f=()=>{const e=(0,x.g)(),[l,t]=(0,c.useState)(),[s,f]=(0,c.useState)(!1),g=JSON.parse(localStorage.getItem("user")),[S,T]=(0,c.useState)(!1),k=(0,x.Zp)(),A=(0,x.g)();(0,c.useEffect)((()=>{(async()=>{T(!0);let l=await(0,u.x4)("api/meeting/view/",e.id);t(null===l||void 0===l?void 0:l.data),T(!1)})()}),[]);const[C,G,I]=(0,v.h)(["Meetings","Contacts","Leads"]);return(0,b.jsxs)(b.Fragment,{children:[S?(0,b.jsx)(d.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,b.jsx)(a.A,{})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.Grid,{templateColumns:"repeat(4, 1fr)",gap:3,children:(0,b.jsx)(d.GridItem,{colSpan:{base:4},children:(0,b.jsx)(n.A,{children:(0,b.jsxs)(d.Grid,{templateColumns:{base:"1fr"},gap:4,children:[(0,b.jsx)(d.GridItem,{colSpan:2,children:(0,b.jsxs)(d.Box,{children:[(0,b.jsxs)(d.Flex,{justifyContent:"space-between",children:[(0,b.jsx)(d.Heading,{size:"md",mb:3,children:"Meeting View page"}),(0,b.jsx)(i.Button,{leftIcon:(0,b.jsx)(m.m6W,{}),size:"sm",variant:"brand",onClick:()=>k(-1),children:"Back"})]}),(0,b.jsx)(o.E,{})]})}),(0,b.jsxs)(d.Grid,{templateColumns:"repeat(2, 1fr)",gap:4,children:[(0,b.jsxs)(d.GridItem,{colSpan:{base:2,md:1},children:[(0,b.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Agenda "}),(0,b.jsx)(d.Text,{children:null!==l&&void 0!==l&&l.agenda?null===l||void 0===l?void 0:l.agenda:" - "})]}),(0,b.jsxs)(d.GridItem,{colSpan:{base:2,md:1},children:[(0,b.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Created By "}),(0,b.jsx)(d.Text,{children:null!==l&&void 0!==l&&l.createdByName?null===l||void 0===l?void 0:l.createdByName:" - "})]}),(0,b.jsxs)(d.GridItem,{colSpan:{base:2,md:1},children:[(0,b.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" DateTime "}),(0,b.jsxs)(d.Text,{children:[" ",null!==l&&void 0!==l&&l.dateTime?r()(null===l||void 0===l?void 0:l.dateTime).format("DD-MM-YYYY  h:mma "):" - "," [",null!==l&&void 0!==l&&l.dateTime?r()(null===l||void 0===l?void 0:l.dateTime).toNow():" - ","]"]})]}),(0,b.jsxs)(d.GridItem,{colSpan:{base:2,md:1},children:[(0,b.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Timestamp "}),(0,b.jsxs)(d.Text,{children:[" ",null!==l&&void 0!==l&&l.timestamp?r()(null===l||void 0===l?void 0:l.timestamp).format("DD-MM-YYYY  h:mma "):" - "," [",null!==l&&void 0!==l&&l.timestamp?r()(null===l||void 0===l?void 0:l.timestamp).toNow():" - ","]"]})]}),(0,b.jsxs)(d.GridItem,{colSpan:{base:2,md:1},children:[(0,b.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Location "}),(0,b.jsx)(d.Text,{children:null!==l&&void 0!==l&&l.location?null===l||void 0===l?void 0:l.location:" - "})]}),(0,b.jsxs)(d.GridItem,{colSpan:{base:2,md:1},children:[(0,b.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:"  Notes "}),(0,b.jsx)(d.Text,{children:null!==l&&void 0!==l&&l.notes?null===l||void 0===l?void 0:l.notes:" - "})]}),(0,b.jsxs)(d.GridItem,{colSpan:{base:2,md:1},children:[(0,b.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Attendes "}),"Contact"===(null===l||void 0===l?void 0:l.related)&&null!==G&&void 0!==G&&G.view?(null===l||void 0===l?void 0:l.attendes)&&(null===l||void 0===l?void 0:l.attendes.map((e=>(0,b.jsx)(h.N_,{to:"/contactView/".concat(e._id),children:(0,b.jsx)(d.Text,{color:"brand.600",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},children:e.firstName+" "+e.lastName})})))):"Lead"===(null===l||void 0===l?void 0:l.related)&&null!==I&&void 0!==I&&I.view?(null===l||void 0===l?void 0:l.attendesLead)&&(null===l||void 0===l?void 0:l.attendesLead.map((e=>(0,b.jsx)(h.N_,{to:"/leadView/".concat(e._id),children:(0,b.jsx)(d.Text,{color:"brand.600",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},children:e.leadName})})))):"contact"===(null===l||void 0===l?void 0:l.related)?(null===l||void 0===l?void 0:l.attendes)&&(null===l||void 0===l?void 0:l.attendes.map((e=>(0,b.jsx)(d.Text,{color:"blackAlpha.900",children:e.firstName+" "+e.lastName})))):"lead"===(null===l||void 0===l?void 0:l.related)?(null===l||void 0===l?void 0:l.attendesLead)&&(null===l||void 0===l?void 0:l.attendesLead.map((e=>(0,b.jsx)(d.Text,{color:"blackAlpha.900",children:e.leadName})))):"-"]})]})]})})})}),("superAdmin"===g.role||(null===C||void 0===C?void 0:C.update)||(null===C||void 0===C?void 0:C.delete))&&(0,b.jsx)(n.A,{mt:3,children:(0,b.jsx)(d.Grid,{templateColumns:"repeat(6, 1fr)",gap:1,children:(0,b.jsx)(d.GridItem,{colStart:6,children:(0,b.jsx)(d.Flex,{justifyContent:"right",children:"superAdmin"===g.role||null!==C&&void 0!==C&&C.delete?(0,b.jsx)(i.Button,{size:"sm",style:{background:"red.800"},onClick:()=>f(!0),leftIcon:(0,b.jsx)(j.DeleteIcon,{}),colorScheme:"red",children:"Delete"}):""})})})})]}),(0,b.jsx)(p.A,{isOpen:s,onClose:()=>f(!1),type:"Meetings",handleDeleteData:async e=>{try{T(!0),200===(await(0,u.Gx)("api/meeting/delete/",A.id)).status&&(f(!1),k(-1))}catch(l){console.log(l)}finally{T(!1)}},ids:A.id})]})}}}]);
//# sourceMappingURL=958.ec97aec3.chunk.js.map