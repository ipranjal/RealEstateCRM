"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[3093],{3093:(e,l,i)=>{i.r(l),i.d(l,{default:()=>w});var t=i(4450),n=i(2554),o=i(216),d=i(3994),a=i(9488),s=i(74),r=i.n(s),c=i(6178),v=i.n(c),h=i(5043),u=i(5369),m=i(4960),x=i(7508),p=i(3216),j=i(5475),b=i(9621),f=i(8031),S=i(5574),g=i(3915),y=i(579);const w=()=>{var e,l,i,s,c;const w=(0,p.g)(),T=(0,p.Zp)(),[k,A]=(0,h.useState)(),[D,I]=(0,h.useState)(!1),[B,G]=(0,h.useState)(!1),[C,N]=(0,h.useState)(),[z,W]=(0,h.useState)([]),F=(0,x.wA)();(0,h.useEffect)((()=>{(async()=>{I(!0);let e=await(0,b.x4)("api/phoneCall/view/",w.id);A(null===e||void 0===e?void 0:e.data),I(!1)})()}),[]),(0,h.useEffect)((()=>{(async()=>{var e,l,i,t,n;I(!0);const o=await F((0,g.R)()),d=[{Header:"#",accessor:"_id",isSortable:!1,width:10},...null===o||void 0===o||null===(e=o.payload)||void 0===e||null===(l=e.data)||void 0===l||null===(i=l[0])||void 0===i||null===(t=i.fields)||void 0===t||null===(n=t.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||void 0===n?void 0:n.map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))];W(d),I(!1)})()}),[]);const[Y,E,P]=(0,S.h)(["Contacts","Leads","Properties"]);return(0,y.jsx)(y.Fragment,{children:D?(0,y.jsx)(t.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,y.jsx)(a.A,{})}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(t.Grid,{templateColumns:"repeat(4, 1fr)",gap:3,id:"reports",children:[(0,y.jsx)(t.GridItem,{colSpan:{base:4},children:(0,y.jsx)(t.Heading,{size:"lg",m:3,children:(null===k||void 0===k?void 0:k.senderName)||""})}),(0,y.jsx)(t.GridItem,{colSpan:{base:4},children:(0,y.jsx)(o.A,{children:(0,y.jsxs)(t.Grid,{gap:4,children:[(0,y.jsx)(t.GridItem,{colSpan:2,children:(0,y.jsxs)(t.Box,{children:[(0,y.jsxs)(t.Box,{display:"flex",justifyContent:"space-between",children:[(0,y.jsx)(t.Heading,{size:"md",mb:3,children:"Call Details"}),(0,y.jsxs)(t.Box,{id:"hide-btn",children:[(0,y.jsx)(n.Button,{leftIcon:(0,y.jsx)(u.kl1,{}),size:"sm",variant:"brand",onClick:()=>{G(!0);const e=document.getElementById("reports"),l=document.getElementById("hide-btn");e?(l.style.display="none",r()().from(e).set({margin:[0,0,0,0],filename:`PhoneCall_Details_${v()().format("DD-MM-YYYY")}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,allowTaint:!0},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).save().then((()=>{G(!1),l.style.display=""}))):(console.error("Element with ID 'reports' not found."),G(!1))},disabled:B,children:B?"Please Wait...":"Print as PDF"}),(0,y.jsx)(n.Button,{leftIcon:(0,y.jsx)(m.m6W,{}),size:"sm",variant:"brand",onClick:()=>T(-1),style:{marginLeft:10},children:"Back"})]})]}),(0,y.jsx)(d.E,{})]})}),(0,y.jsxs)(t.GridItem,{colSpan:{base:2,md:1},children:[(0,y.jsxs)(t.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Sender"," "]}),(0,y.jsx)(t.Text,{children:null!==k&&void 0!==k&&k.senderName?null===k||void 0===k?void 0:k.senderName:" - "})]}),(0,y.jsxs)(t.GridItem,{colSpan:{base:2,md:1},children:[(0,y.jsxs)(t.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Recipient"," "]}),(0,y.jsx)(t.Text,{children:null!==k&&void 0!==k&&k.recipient?null===k||void 0===k?void 0:k.recipient:" - "})]}),(0,y.jsxs)(t.GridItem,{colSpan:{base:2,md:1},children:[(0,y.jsxs)(t.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Create to"," "]}),null!==k&&void 0!==k&&k.createBy?(0,y.jsx)(j.N_,{to:(null===Y||void 0===Y?void 0:Y.view)&&`/contactView/${null===k||void 0===k?void 0:k.createBy}`,children:(0,y.jsx)(t.Text,{color:null!==Y&&void 0!==Y&&Y.view?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:null!==Y&&void 0!==Y&&Y.view?"blue.500":"blackAlpha.900",textDecoration:null!==Y&&void 0!==Y&&Y.view?"underline":"none"}},children:null!==k&&void 0!==k&&k.createByName?null===k||void 0===k?void 0:k.createByName:" - "})}):(0,y.jsx)(j.N_,{to:(null===E||void 0===E?void 0:E.view)&&`/leadView/${null===k||void 0===k?void 0:k.createByLead}`,children:(0,y.jsx)(t.Text,{color:null!==E&&void 0!==E&&E.view?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:null!==E&&void 0!==E&&E.view?"blue.500":"blackAlpha.900",textDecoration:null!==E&&void 0!==E&&E.view?"underline":"none"}},children:null!==k&&void 0!==k&&k.createByName?null===k||void 0===k?void 0:k.createByName:" - "})})]}),(0,y.jsxs)(t.GridItem,{colSpan:{base:2,md:1},children:[(0,y.jsxs)(t.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Realeted To"," "]}),(0,y.jsx)(t.Text,{children:null!==k&&void 0!==k&&k.createBy?"contact":(null===k||void 0===k?void 0:k.createByLead)&&"lead"})]}),(0,y.jsxs)(t.GridItem,{colSpan:{base:2,md:1},children:[(0,y.jsxs)(t.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Start Date"," "]}),(0,y.jsxs)(t.Text,{children:[" ",null!==k&&void 0!==k&&k.startDate?v()(null===k||void 0===k?void 0:k.startDate).format("lll "):" - "," "]})]}),(0,y.jsxs)(t.GridItem,{colSpan:{base:2,md:1},children:[(0,y.jsxs)(t.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:["End Date"," "]}),(0,y.jsxs)(t.Text,{children:[" ",null!==k&&void 0!==k&&k.endDate?v()(null===k||void 0===k?void 0:k.endDate).format("lll "):" - "," "]})]}),(0,y.jsxs)(t.GridItem,{colSpan:{base:2,md:1},children:[(0,y.jsxs)(t.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Timestamp"," "]}),(0,y.jsxs)(t.Text,{children:[" ",null!==k&&void 0!==k&&k.timestamp?v()(null===k||void 0===k?void 0:k.timestamp).format("DD-MM-YYYY  h:mma "):" - "," ","[",null!==k&&void 0!==k&&k.timestamp?v()(null===k||void 0===k?void 0:k.timestamp).toNow():" - ","]"]})]}),(0,y.jsxs)(t.GridItem,{colSpan:{base:2,md:1},children:[(0,y.jsxs)(t.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Call Duration"," "]}),(0,y.jsx)(t.Text,{children:null!==k&&void 0!==k&&k.callDuration?null===k||void 0===k?void 0:k.callDuration:" - "})]}),(0,y.jsxs)(t.GridItem,{colSpan:{base:2,md:1},children:[(0,y.jsxs)(t.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Sales Agent"," "]}),(0,y.jsx)("pre",{style:{whiteSpace:"pre-wrap"},children:null!==k&&void 0!==k&&k.salesAgentName?null===k||void 0===k?void 0:k.salesAgentName:" - "})]})]})})})]}),(0,y.jsx)(o.A,{mt:3,children:(0,y.jsx)(t.Grid,{templateColumns:"repeat(6, 1fr)",gap:1,children:(0,y.jsxs)(t.GridItem,{colSpan:{base:2},children:[(0,y.jsxs)(t.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Call Notes"," "]}),(0,y.jsx)("pre",{style:{whiteSpace:"pre-wrap"},children:null!==k&&void 0!==k&&k.callNotes?null===k||void 0===k?void 0:k.callNotes:" - "})]})})}),(0,y.jsx)(t.Grid,{templateColumns:"repeat(2, 1fr)",gap:1,mt:3,children:(0,y.jsx)(t.GridItem,{colSpan:{base:2},children:(0,y.jsx)(f.A,{title:"Properties",isLoding:D,columnData:null!==z&&void 0!==z?z:[],allData:null!==(e=null===k||void 0===k?void 0:k.properties)&&void 0!==e?e:[],tableData:null!==(l=null===k||void 0===k?void 0:k.properties)&&void 0!==l?l:[],AdvanceSearch:!1,tableCustomFields:(null===k||void 0===k||null===(i=k.properties)||void 0===i||null===(s=i[0])||void 0===s||null===(c=s.fields)||void 0===c?void 0:c.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],addBtn:!1,ManageGrid:!1,deleteMany:!1,checkBox:!1,access:P,selectedValues:C,setSelectedValues:N})})})]})})}}}]);
//# sourceMappingURL=3093.656ba264.chunk.js.map