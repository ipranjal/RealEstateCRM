"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[922],{3262:(e,t,l)=>{l.r(t),l.d(t,{default:()=>w});var i=l(4034),o=l(9754),n=l(4450),s=l(5376),a=l(8177),r=l(5043),d=l(7368),c=l(7508),u=l(3216),p=l(9621),v=l(8031),x=l(5574),m=l(7297),h=l(5144),j=l(9942),y=l(2554),f=l(9488),S=l(3516),b=l(3848),g=l(579);const C=e=>{var t;const{onClose:l,isOpen:i,text:o}=e,[s,a]=(0,r.useState)(!1),d=(0,u.Zp)(),c=[{name:"name",label:"Name",type:"text",fixed:!1,isDefault:!1,editable:!0,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:""},{name:"",value:""}],validation:[{require:!0,message:""},{min:!1,value:"",message:""},{max:!1,value:"",message:""},{value:"",message:"",match:!1},{message:"",formikType:""}]},{name:"requirement",label:"Requirement",type:"text",fixed:!1,isDefault:!1,editable:!0,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:""},{name:"",value:""}],validation:[{require:!1,message:""},{min:!1,value:"",message:""},{max:!1,value:"",message:""},{value:"",message:"",match:!1},{message:"",formikType:""}]}],p=(0,S.Wx)({initialValues:{opportunityproject:""},onSubmit:(e,t)=>{let{resetForm:l}=t;D(),l()}}),{errors:v,touched:x,values:m,handleBlur:h,handleChange:C,handleSubmit:w,setFieldValue:F,resetForm:A}=p,D=async()=>{try{a(!0),A(),null!==m&&void 0!==m&&m.opportunityproject&&(l(),d("/opportunityProjectImport",{state:{fileData:null===m||void 0===m?void 0:m.opportunityproject,customFields:c}}))}catch(e){console.log(e)}finally{a(!1)}};return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(j.aF,{onClose:l,isOpen:i,isCentered:!0,children:[(0,g.jsx)(j.mH,{}),(0,g.jsxs)(j.$m,{children:[(0,g.jsx)(j.rQ,{children:"Import Opportunity Project"}),(0,g.jsx)(j.s_,{}),(0,g.jsx)(j.cw,{children:(0,g.jsx)(n.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:(0,g.jsxs)(n.GridItem,{colSpan:{base:12},children:[(0,g.jsx)(b.A,{count:null===m||void 0===m||null===(t=m.opportunityproject)||void 0===t?void 0:t.length,onFileSelect:e=>F("opportunityproject",e),text:o}),(0,g.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===v||void 0===v?void 0:v.opportunityproject)&&(null===x||void 0===x?void 0:x.opportunityproject)&&(0,g.jsxs)(g.Fragment,{children:["Please Select ",o]})]})]})})}),(0,g.jsxs)(j.jl,{children:[(0,g.jsx)(y.Button,{variant:"brand",size:"sm",onClick:w,disabled:!!s,children:s?(0,g.jsx)(f.A,{}):"Save"}),(0,g.jsx)(y.Button,{variant:"outline",colorScheme:"red",sx:{marginLeft:2,textTransform:"capitalize"},size:"sm",onClick:()=>{l(),p.resetForm()},children:"Close"})]})]})]})})},w=()=>{var e,t;const l=(0,u.Zp)(),j=(0,c.wA)(),[y]=(0,x.h)(["Opportunity Project"]),[f,S]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[F,A]=(0,r.useState)(!1),[D,T]=(0,r.useState)([]),[O,I]=(0,r.useState)(!1),[k,z]=(0,r.useState)({}),[V,G]=(0,r.useState)(),[P,_]=(0,r.useState)([]),[H,W]=(0,r.useState)(!1),[B,L]=(0,r.useState)(""),{isOpen:M,onOpen:q,onClose:N}=(0,o.j1)(),U=(0,c.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.opportunityProjectData)||void 0===t?void 0:t.data})),E=(0,c.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.advanceSearchData)||void 0===t?void 0:t.searchResult})),$=async()=>{S(!0),j((0,m.n)()),S(!1)},R={Header:"Action",accessor:"action",isSortable:!1,center:!0,cell:e=>{let{row:t,i:o}=e;return(0,g.jsx)(n.Text,{fontSize:"md",fontWeight:"900",textAlign:"center",children:(0,g.jsxs)(s.W1,{isLazy:!0,children:[(0,g.jsx)(s.IU,{children:(0,g.jsx)(d.txp,{})}),(0,g.jsxs)(s.cO,{minW:"fit-content",transform:"translate(1520px, 173px);",children:[(null===y||void 0===y?void 0:y.update)&&(0,g.jsx)(s.Dr,{py:2.5,icon:(0,g.jsx)(i.EditIcon,{fontSize:15,mb:1}),onClick:()=>{var e;q(),L("edit"),z(null===t||void 0===t?void 0:t.original),G(null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id)},children:"Edit"}),(null===y||void 0===y?void 0:y.view)&&(0,g.jsx)(s.Dr,{py:2.5,color:"green",icon:(0,g.jsx)(i.ViewIcon,{mb:1,fontSize:15}),onClick:()=>{var e;l(`/opportunityprojectView/${null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id}`,{state:{OpportunityList:U}})},children:"View"}),(null===y||void 0===y?void 0:y.delete)&&(0,g.jsx)(s.Dr,{py:2.5,color:"red",icon:(0,g.jsx)(i.DeleteIcon,{fontSize:15,mb:1}),onClick:()=>{var e;I(!0),_([null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id])},children:"Delete"})]})]})})}},Q=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Name",accessor:"name",cell:e=>(0,g.jsx)("div",{className:"selectOpt",children:(0,g.jsx)(n.Text,{onClick:()=>{var t;return l(`/opportunityprojectView/${null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.original._id}`,{state:{OpportunityList:U}})},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value})})},{Header:"Requirement",accessor:"requirement"},...null!==y&&void 0!==y&&y.update||null!==y&&void 0!==y&&y.view||null!==y&&void 0!==y&&y.delete?[R]:[]];(0,r.useEffect)((()=>{var e,t;"/opportunityproject"===(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.pathname)&&$()}),[F]);return(0,g.jsx)("div",{children:(0,g.jsx)(n.Grid,{templateColumns:"repeat(6, 1fr)",mb:3,gap:4,children:!f&&(0,g.jsxs)(n.GridItem,{colSpan:6,children:[(0,g.jsx)(v.A,{title:"Opportunity Project",isLoding:f,searchDisplay:b,setSearchDisplay:w,columnData:null!==Q&&void 0!==Q?Q:[],allData:null!==U&&void 0!==U?U:[],AdvanceSearch:!1,tableData:b?E:U,tableCustomFields:(null===D||void 0===D||null===(e=D[0])||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],access:y,action:F,setAction:A,isOpen:M,onClose:onclose,onOpen:()=>{L("add"),q()},selectedValues:P,setSelectedValues:_,setDelete:I,setIsImport:W}),(0,g.jsx)(h.A,{isOpen:M,onClose:()=>{N()},data:k,selectedId:V,action:F,setAction:A,userAction:B,fetchData:$}),(0,g.jsx)(a.A,{isOpen:O,onClose:()=>I(!1),type:"Opportunity Project",handleDeleteData:async()=>{try{S(!0);let e=await(0,p.Vn)("api/opportunityproject/deleteMany",P);200===(null===e||void 0===e?void 0:e.status)&&(_([]),I(!1),A((e=>!e)))}catch(e){console.log(e)}finally{S(!1)}},ids:P}),(0,g.jsx)(C,{text:"Opportunity Project file",isOpen:H,onClose:W,customFields:[]})]})})})}},3848:(e,t,l)=>{l.d(t,{A:()=>d});var i=l(1206),o=l(4450),n=l(3458),s=l(1997),a=l(7149),r=l(579);function d(e){const{count:t,text:l,onFileSelect:d}=e,c=(0,i.dU)("secondaryGray.900","white"),u=(0,i.dU)("brand.500","white");return(0,r.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",gap:2,children:[(0,r.jsx)(o.GridItem,{colSpan:{base:12},children:(0,r.jsx)(s.A,{w:{base:"100%"},me:"36px",minH:200,img:"Property Photos"===l?"img":"",csv:"csv",height:"100%",onFileSelect:d,isMultipleAllow:!1,content:(0,r.jsxs)(o.Box,{children:[(0,r.jsx)(n.In,{as:a.vpy,w:"80px",h:"80px",color:u}),(0,r.jsx)(o.Flex,{justify:"center",mx:"auto",mb:"12px",children:(0,r.jsx)(o.Text,{fontSize:"xl",fontWeight:"700",color:u,children:"Upload File"})}),t>0&&(0,r.jsxs)(o.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:["Selected Files : ",t]})]})})}),(0,r.jsx)(o.GridItem,{colSpan:{base:12},children:(0,r.jsxs)(o.Flex,{direction:"column",children:[(0,r.jsxs)(o.Text,{color:c,fontWeight:"bold",textAlign:"start",fontSize:"2xl",mt:{base:"20px"},children:["Upload ",l]}),(0,r.jsx)(o.Text,{color:"gray.400",fontSize:"md",my:{base:"auto"},mx:"auto",textAlign:"start",children:"Accepted File Type (csv, xlsx file - 15MB max) only 1 file"})]})})]})}},9565:(e,t,l)=>{l.d(t,{A:()=>x});var i=l(9942),o=l(4450),n=l(2554),s=l(5043),a=(l(1046),l(9488)),r=l(8860),d=l(8031),c=l(850),u=l(6547),p=l(7508),v=l(579);const x=e=>{var t,l;const{onClose:x,isOpen:m,fieldName:h,setFieldValue:j,data:y}=e,[f,S]=(0,s.useState)(),[b,g]=(0,s.useState)([]),[C,w]=(0,s.useState)(!1),[F,A]=(0,s.useState)([]),D=(0,p.wA)();return(0,s.useEffect)((async()=>{await D((0,u.h)()),(async()=>{var e,t,l,i;w(!0);const o=await D((0,c.I)());g(null===o||void 0===o||null===(e=o.payload)||void 0===e?void 0:e.data);const n=[{Header:"#",accessor:"_id",isSortable:!1,width:10},...((null===o||void 0===o||null===(t=o.payload)||void 0===t||null===(l=t.data)||void 0===l||null===(i=l[0])||void 0===i?void 0:i.fields)||[]).filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))).map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))];A(n),w(!1)})()}),[]),(0,v.jsxs)(i.aF,{onClose:x,size:"full",isOpen:m,children:[(0,v.jsx)(i.mH,{}),(0,v.jsxs)(i.$m,{children:[(0,v.jsx)(i.rQ,{children:"Select Contact"}),(0,v.jsx)(i.s_,{}),(0,v.jsx)(i.cw,{children:C?(0,v.jsx)(o.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,v.jsx)(a.A,{})}):(0,v.jsx)(d.A,{title:"Contacts",isLoding:C,columnData:null!==F&&void 0!==F?F:[],allData:null!==y&&void 0!==y?y:[],tableData:y,tableCustomFields:(null===b||void 0===b||null===(t=b[0])||void 0===t||null===(l=t.fields)||void 0===l?void 0:l.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],AdvanceSearch:()=>"",ManageGrid:!1,deleteMany:!1,selectedValues:f,setSelectedValues:S,selectType:"single",customSearch:!1})}),(0,v.jsxs)(i.jl,{children:[(0,v.jsxs)(n.Button,{variant:"brand",size:"sm",me:2,onClick:async()=>{try{w(!0),j(h,f),x()}catch(e){console.log(e)}finally{w(!1)}},disabled:!!C,leftIcon:(0,v.jsx)(r.NLY,{}),children:[" ",C?(0,v.jsx)(a.A,{}):"Select"]}),(0,v.jsx)(n.Button,{variant:"outline",size:"sm",colorScheme:"red",onClick:()=>x(),children:"Close"})]})]})]})}}}]);
//# sourceMappingURL=922.48bf35a5.chunk.js.map