"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[5615],{3848:(e,l,a)=>{a.d(l,{A:()=>d});var i=a(1206),s=a(4450),n=a(3458),c=a(1997),t=a(7149),o=a(579);function d(e){const{count:l,text:a,onFileSelect:d}=e,r=(0,i.dU)("secondaryGray.900","white"),u=(0,i.dU)("brand.500","white");return(0,o.jsxs)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:2,children:[(0,o.jsx)(s.GridItem,{colSpan:{base:12},children:(0,o.jsx)(c.A,{w:{base:"100%"},me:"36px",minH:200,img:"Property Photos"===a?"img":"",csv:"csv",height:"100%",onFileSelect:d,isMultipleAllow:!1,content:(0,o.jsxs)(s.Box,{children:[(0,o.jsx)(n.In,{as:t.vpy,w:"80px",h:"80px",color:u}),(0,o.jsx)(s.Flex,{justify:"center",mx:"auto",mb:"12px",children:(0,o.jsx)(s.Text,{fontSize:"xl",fontWeight:"700",color:u,children:"Upload File"})}),l>0&&(0,o.jsxs)(s.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:["Selected Files : ",l]})]})})}),(0,o.jsx)(s.GridItem,{colSpan:{base:12},children:(0,o.jsxs)(s.Flex,{direction:"column",children:[(0,o.jsxs)(s.Text,{color:r,fontWeight:"bold",textAlign:"start",fontSize:"2xl",mt:{base:"20px"},children:["Upload ",a]}),(0,o.jsx)(s.Text,{color:"gray.400",fontSize:"md",my:{base:"auto"},mx:"auto",textAlign:"start",children:"Accepted File Type (csv, xlsx file - 15MB max) only 1 file"})]})})]})}},5615:(e,l,a)=>{a.r(l),a.d(l,{default:()=>z});var i=a(5043),s=a(3216),n=a(4034),c=a(9754),t=a(4450),o=a(5376),d=a(2554),r=a(9621),u=a(5574),m=a(8031),b=a(7368),x=(a(6178),a(342)),f=a(7508),h=(a(7560),a(2145)),v=a(3516),p=a(899),j=a(9942),S=a(8510),g=a(7682),y=a(9488),A=a(3017),_=a(579);const F=e=>{const{state:l,allData:a,advanceSearch:i,setAdvanceSearch:s,isLoding:n,setSearchedData:c,setDisplaySearchData:o,setSearchClear:r,setSearchbox:u}=e,m=(0,f.wA)(),b=p.object({name:p.string(),officePhone:p.string(),fax:p.string(),emailAddress:p.string()}),x=(0,v.Wx)({initialValues:{name:"",officePhone:"",fax:"",emailAddress:""},validationSchema:b,onSubmit:(e,l)=>{let{resetForm:i}=l;m((0,A.gB)(e)),m((0,A.DW)({values:e,allData:a,type:"Account"}));const n=[{name:["name"],value:e.name},{name:["officePhone"],value:e.officePhone},{name:["fax"],value:e.fax},{name:["emailAddress"],value:e.emailAddress}];m((0,A.Tr)(null===n||void 0===n?void 0:n.filter((e=>null===e||void 0===e?void 0:e.value)))),o(!0),s(!1),i(),u("")}}),{errors:h,touched:F,values:C,handleBlur:T,handleChange:D,handleSubmit:w,setFieldValue:z,resetForm:I,dirty:k}=x;return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(j.aF,{onClose:()=>{s(!1),I()},isOpen:i,isCentered:!0,children:[(0,_.jsx)(j.mH,{}),(0,_.jsxs)(j.$m,{children:[(0,_.jsx)(j.rQ,{children:"Advance Search"}),(0,_.jsx)(j.s_,{onClick:()=>{s(!1),I()}}),(0,_.jsx)(j.cw,{children:(0,_.jsxs)(t.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,_.jsxs)(t.GridItem,{colSpan:{base:12,md:6},children:[(0,_.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Account Name"}),(0,_.jsx)(g.Input,{fontSize:"sm",onChange:D,onBlur:T,value:null===C||void 0===C?void 0:C.name,name:"name",placeholder:"Enter Account Name",fontWeight:"500"}),(0,_.jsxs)(t.Text,{mb:"10px",color:"red",children:[" ",(null===h||void 0===h?void 0:h.name)&&(null===F||void 0===F?void 0:F.name)&&(null===h||void 0===h?void 0:h.name)]})]}),(0,_.jsxs)(t.GridItem,{colSpan:{base:12,md:6},children:[(0,_.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Office Phone"}),(0,_.jsx)(g.Input,{fontSize:"sm",onChange:D,onBlur:T,value:null===C||void 0===C?void 0:C.officePhone,name:"officePhone",type:"number",placeholder:"Enter Office Phone",fontWeight:"500"}),(0,_.jsxs)(t.Text,{mb:"10px",color:"red",children:[" ",(null===h||void 0===h?void 0:h.officePhone)&&(null===F||void 0===F?void 0:F.officePhone)&&(null===h||void 0===h?void 0:h.officePhone)]})]}),(0,_.jsxs)(t.GridItem,{colSpan:{base:12,md:6},children:[(0,_.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Fax"}),(0,_.jsx)(g.Input,{fontSize:"sm",onChange:D,onBlur:T,value:null===C||void 0===C?void 0:C.fax,name:"fax",placeholder:"Enter Fax",type:"number",fontWeight:"500"}),(0,_.jsxs)(t.Text,{mb:"10px",color:"red",children:[" ",(null===h||void 0===h?void 0:h.fax)&&(null===F||void 0===F?void 0:F.fax)&&(null===h||void 0===h?void 0:h.fax)]})]}),(0,_.jsxs)(t.GridItem,{colSpan:{base:12,md:6},children:[(0,_.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Email Address"}),(0,_.jsx)(g.Input,{fontSize:"sm",onChange:D,onBlur:T,value:null===C||void 0===C?void 0:C.emailAddress,name:"emailAddress",placeholder:"Enter Email Address",type:"email",fontWeight:"500"}),(0,_.jsxs)(t.Text,{mb:"10px",color:"red",children:[" ",(null===h||void 0===h?void 0:h.emailAddress)&&(null===F||void 0===F?void 0:F.emailAddress)&&(null===h||void 0===h?void 0:h.emailAddress)]})]})]})}),(0,_.jsxs)(j.jl,{children:[(0,_.jsx)(d.Button,{size:"sm",variant:"brand",mr:2,onClick:w,disabled:!(!n&&k),children:n?(0,_.jsx)(y.A,{}):"Search"}),(0,_.jsx)(d.Button,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>I(),children:"Clear"})]})]})]})})};var C=a(390),T=a(8177),D=a(3848);const w=e=>{var l;const{onClose:a,isOpen:n,text:c,customFields:o}=e,[r,u]=(0,i.useState)(!1),m=(0,s.Zp)(),b=(0,v.Wx)({initialValues:{accounts:""},onSubmit:(e,l)=>{let{resetForm:a}=l;C(),a()}}),{errors:x,touched:f,values:h,handleBlur:p,handleChange:S,handleSubmit:g,setFieldValue:A,resetForm:F}=b,C=async()=>{try{u(!0),F(),null!==h&&void 0!==h&&h.accounts&&(a(),m("/accountImport",{state:{fileData:null===h||void 0===h?void 0:h.accounts,customFields:o}}))}catch(e){console.log(e)}finally{u(!1)}};return(0,_.jsxs)(j.aF,{onClose:a,isOpen:n,isCentered:!0,children:[(0,_.jsx)(j.mH,{}),(0,_.jsxs)(j.$m,{children:[(0,_.jsx)(j.rQ,{children:"Import Account"}),(0,_.jsx)(j.s_,{}),(0,_.jsx)(j.cw,{children:(0,_.jsx)(t.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:(0,_.jsxs)(t.GridItem,{colSpan:{base:12},children:[(0,_.jsx)(D.A,{count:null===h||void 0===h||null===(l=h.accounts)||void 0===l?void 0:l.length,onFileSelect:e=>A("accounts",e),text:c}),(0,_.jsxs)(t.Text,{mb:"10px",color:"red",children:[" ",(null===x||void 0===x?void 0:x.accounts)&&(null===f||void 0===f?void 0:f.accounts)&&(0,_.jsxs)(_.Fragment,{children:["Please Select ",c]})]})]})})}),(0,_.jsxs)(j.jl,{children:[(0,_.jsx)(d.Button,{size:"sm",variant:"brand",onClick:g,disabled:!!r,children:r?(0,_.jsx)(y.A,{}):"Save"}),(0,_.jsx)(d.Button,{sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",size:"sm",onClick:()=>{a(),b.resetForm()},children:"Close"})]})]})]})},z=e=>{const[l,a]=(0,i.useState)(!1),{isOpen:v,onOpen:p,onClose:j}=(0,c.j1)(),[S,g]=(0,i.useState)([]),[y,A]=(0,i.useState)(!1),[D,z]=(0,i.useState)([]),[I,k]=(0,i.useState)(""),O=(JSON.parse(localStorage.getItem("user")),(0,s.Zp)()),P=(0,f.wA)(),[V,W]=(0,i.useState)(!1),[G,B]=(0,i.useState)([]),[E,H]=(0,i.useState)(!1),[L,M]=(0,i.useState)([]),[N,q]=(0,i.useState)(),[U,$]=(0,i.useState)(!1),[R,Q]=(0,i.useState)(!1),[Z,J]=(0,i.useState)(""),[K,X]=(0,i.useState)(!1),[Y]=(0,u.h)(["Account"]),ee={Header:"Action",accessor:"action",isSortable:!1,center:!0,cell:e=>{let{row:l,i:a}=e;return(0,_.jsx)(t.Text,{fontSize:"md",fontWeight:"900",textAlign:"center",children:(0,_.jsxs)(o.W1,{isLazy:!0,children:[(0,_.jsx)(o.IU,{children:(0,_.jsx)(b.txp,{})}),(0,_.jsxs)(o.cO,{minW:"fit-content",transform:"translate(1520px, 173px);",children:[(null===Y||void 0===Y?void 0:Y.update)&&(0,_.jsx)(o.Dr,{py:2.5,icon:(0,_.jsx)(n.EditIcon,{fontSize:15,mb:1}),onClick:()=>{var e;J("edit"),p(),q(null===l||void 0===l||null===(e=l.values)||void 0===e?void 0:e._id)},children:"Edit"}),(null===Y||void 0===Y?void 0:Y.view)&&(0,_.jsx)(o.Dr,{py:2.5,color:"green",icon:(0,_.jsx)(n.ViewIcon,{mb:1,fontSize:15}),onClick:()=>{var e;O(`/accountView/${null===l||void 0===l||null===(e=l.values)||void 0===e?void 0:e._id}`)},children:"View"}),(null===Y||void 0===Y?void 0:Y.delete)&&(0,_.jsx)(o.Dr,{py:2.5,color:"red",icon:(0,_.jsx)(n.DeleteIcon,{fontSize:15,mb:1}),onClick:()=>{var e;$(!0),g([null===l||void 0===l||null===(e=l.values)||void 0===e?void 0:e._id])},children:"Delete"})]})]})})}},le=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Account Name",accessor:"name",cell:e=>(0,_.jsx)("div",{className:"selectOpt",children:(0,_.jsx)(t.Text,{onClick:()=>{var l,a;return ae(null===e||void 0===e||null===(l=e.row)||void 0===l||null===(a=l.original)||void 0===a?void 0:a._id)},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value})})},{Header:"Office Phone",accessor:"officePhone"},{Header:"Fax",accessor:"fax"},{Header:"Email Address",accessor:"emailAddress"},...null!==Y&&void 0!==Y&&Y.update||null!==Y&&void 0!==Y&&Y.view||null!==Y&&void 0!==Y&&Y.delete?[ee]:[]],ae=e=>{O(`/accountView/${e}`)};return(0,i.useEffect)((()=>{(async()=>{W(!0);const e=await P((0,C.G)());var l;200===e.payload.status?B(null===e||void 0===e||null===(l=e.payload)||void 0===l?void 0:l.data):h.oR.error("Failed to fetch data","error"),W(!1)})()}),[l]),(0,_.jsxs)("div",{children:[(0,_.jsx)(m.A,{title:"Account",isLoding:V,columnData:null!==le&&void 0!==le?le:[],allData:null!==G&&void 0!==G?G:[],tableData:G,searchDisplay:E,setSearchDisplay:H,searchedDataOut:L,setSearchedDataOut:M,tableCustomFields:[],access:Y,setIsImport:X,onOpen:()=>{p(),J("add")},selectedValues:S,setSelectedValues:g,setDelete:$,deleteMany:!1,AdvanceSearch:(0,_.jsx)(d.Button,{variant:"outline",colorScheme:"brand",leftIcon:(0,_.jsx)(n.SearchIcon,{}),mt:{sm:"5px",md:"0"},size:"sm",onClick:()=>A(!0),children:"Advance Search"}),getTagValuesOutSide:D,searchboxOutside:I,setGetTagValuesOutside:z,setSearchboxOutside:k,handleSearchType:"AccountSearch"}),(0,_.jsx)(F,{advanceSearch:y,setAdvanceSearch:A,setSearchedData:M,setDisplaySearchData:H,allData:null!==G&&void 0!==G?G:[],setAction:a,setGetTagValues:z,setSearchbox:k}),(0,_.jsx)(x.A,{isOpen:v,size:"lg",onClose:j,setAction:a,type:Z,selectedId:N}),(0,_.jsx)(T.A,{isOpen:U,onClose:()=>$(!1),type:"Account",handleDeleteData:async e=>{try{W(!0),200===(await(0,r.Vn)("api/account/deleteMany",e)).status&&(h.oR.success("Account Delete successfully"),g([]),$(!1),a((e=>!e)))}catch(l){console.log(l),h.oR.error("server error")}finally{W(!1)}},ids:S}),(0,_.jsx)(w,{text:"Account file",isOpen:K,onClose:X,customFields:[{name:"name",label:"Account Name",type:"text",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"6694b8112cf3cbec6b5286c0"},{name:"",value:"",_id:"6694b8112cf3cbec6b5286c1"}],validation:[{require:!0,message:"Account Name is required",_id:"6694b8112cf3cbec6b5286c2"},{min:!1,value:"",message:"",_id:"6694b8112cf3cbec6b5286c3"},{max:!1,value:"",message:"",_id:"6694b8112cf3cbec6b5286c4"},{value:"",message:"",match:!1,_id:"6694b8112cf3cbec6b5286c5"},{message:"",formikType:"",_id:"6694b8112cf3cbec6b5286c6"}],_id:"6694b8112cf3cbec6b5286bf"},{name:"officePhone",label:"Office Phone",type:"number",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"6694b8662cf3cbec6b5289fd"},{name:"",value:"",_id:"6694b8662cf3cbec6b5289fe"}],validation:[{require:!1,message:"",_id:"6694b8662cf3cbec6b5289ff"},{min:!1,value:"",message:"",_id:"6694b8662cf3cbec6b528a00"},{max:!1,value:"",message:"",_id:"6694b8662cf3cbec6b528a01"},{value:"",message:"",match:!1,_id:"6694b8662cf3cbec6b528a02"},{message:"",formikType:"",_id:"6694b8662cf3cbec6b528a03"}],_id:"6694b8662cf3cbec6b5289fc"},{name:"fax",label:"Fax",type:"number",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"6694b8742cf3cbec6b528d52"},{name:"",value:"",_id:"6694b8742cf3cbec6b528d53"}],validation:[{require:!1,message:"",_id:"6694b8742cf3cbec6b528d54"},{min:!1,value:"",message:"",_id:"6694b8742cf3cbec6b528d55"},{max:!1,value:"",message:"",_id:"6694b8742cf3cbec6b528d56"},{value:"",message:"",match:!1,_id:"6694b8742cf3cbec6b528d57"},{message:"",formikType:"",_id:"6694b8742cf3cbec6b528d58"}],_id:"6694b8742cf3cbec6b528d51"},{name:"emailAddress",label:"Email Address",type:"text",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"6694b8942cf3cbec6b5290bf"},{name:"",value:"",_id:"6694b8942cf3cbec6b5290c0"}],validation:[{require:!1,message:"",_id:"6694b8942cf3cbec6b5290c1"},{min:!1,value:"",message:"",_id:"6694b8942cf3cbec6b5290c2"},{max:!1,value:"",message:"",_id:"6694b8942cf3cbec6b5290c3"},{value:"",message:"",match:!1,_id:"6694b8942cf3cbec6b5290c4"},{message:"",formikType:"email",_id:"6694b8942cf3cbec6b5290c5"}],_id:"6694b8942cf3cbec6b5290be"}]})]})}}}]);
//# sourceMappingURL=5615.82842cb8.chunk.js.map