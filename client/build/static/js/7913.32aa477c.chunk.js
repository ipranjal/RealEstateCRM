(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[7913],{446:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,i="millisecond",a="second",l="minute",o="hour",r="day",s="week",d="month",u="quarter",c="year",v="date",h="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},p=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},S={s:p,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),a=n%60;return(t<=0?"+":"-")+p(i,2,"0")+":"+p(a,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),a=t.clone().add(i,d),l=n-a<0,o=t.clone().add(i+(l?-1:1),d);return+(-(i+(n-a)/(l?a-o:o-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:d,y:c,w:s,d:r,D:v,h:o,m:l,s:a,ms:i,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},g="en",j={};j[g]=x;var y="$isDayjsObject",b=function(e){return e instanceof w||!(!e||!e[y])},D=function e(t,n,i){var a;if(!t)return g;if("string"==typeof t){var l=t.toLowerCase();j[l]&&(a=l),n&&(j[l]=n,a=l);var o=t.split("-");if(!a&&o.length>1)return e(o[0])}else{var r=t.name;j[r]=t,a=r}return!i&&a&&(g=a),a||!i&&g},$=function(e,t){if(b(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new w(n)},C=S;C.l=D,C.i=b,C.w=function(e,t){return $(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var w=function(){function x(e){this.$L=D(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[y]=!0}var p=x.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(m);if(i){var a=i[2]-1||0,l=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,l)):new Date(i[1],a,i[3]||1,i[4]||0,i[5]||0,i[6]||0,l)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return C},p.isValid=function(){return!(this.$d.toString()===h)},p.isSame=function(e,t){var n=$(e);return this.startOf(t)<=n&&n<=this.endOf(t)},p.isAfter=function(e,t){return $(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<$(e)},p.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,t){var n=this,i=!!C.u(t)||t,u=C.p(e),h=function(e,t){var a=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?a:a.endOf(r)},m=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},f=this.$W,x=this.$M,p=this.$D,S="set"+(this.$u?"UTC":"");switch(u){case c:return i?h(1,0):h(31,11);case d:return i?h(1,x):h(0,x+1);case s:var g=this.$locale().weekStart||0,j=(f<g?f+7:f)-g;return h(i?p-j:p+(6-j),x);case r:case v:return m(S+"Hours",0);case o:return m(S+"Minutes",1);case l:return m(S+"Seconds",2);case a:return m(S+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(e,t){var n,s=C.p(e),u="set"+(this.$u?"UTC":""),h=(n={},n[r]=u+"Date",n[v]=u+"Date",n[d]=u+"Month",n[c]=u+"FullYear",n[o]=u+"Hours",n[l]=u+"Minutes",n[a]=u+"Seconds",n[i]=u+"Milliseconds",n)[s],m=s===r?this.$D+(t-this.$W):t;if(s===d||s===c){var f=this.clone().set(v,1);f.$d[h](m),f.init(),this.$d=f.set(v,Math.min(this.$D,f.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[C.p(e)]()},p.add=function(i,u){var v,h=this;i=Number(i);var m=C.p(u),f=function(e){var t=$(h);return C.w(t.date(t.date()+Math.round(e*i)),h)};if(m===d)return this.set(d,this.$M+i);if(m===c)return this.set(c,this.$y+i);if(m===r)return f(1);if(m===s)return f(7);var x=(v={},v[l]=t,v[o]=n,v[a]=e,v)[m]||1,p=this.$d.getTime()+i*x;return C.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var i=e||"YYYY-MM-DDTHH:mm:ssZ",a=C.z(this),l=this.$H,o=this.$m,r=this.$M,s=n.weekdays,d=n.months,u=n.meridiem,c=function(e,n,a,l){return e&&(e[n]||e(t,i))||a[n].slice(0,l)},v=function(e){return C.s(l%12||12,e,"0")},m=u||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(f,(function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return C.s(t.$y,4,"0");case"M":return r+1;case"MM":return C.s(r+1,2,"0");case"MMM":return c(n.monthsShort,r,d,3);case"MMMM":return c(d,r);case"D":return t.$D;case"DD":return C.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return c(n.weekdaysMin,t.$W,s,2);case"ddd":return c(n.weekdaysShort,t.$W,s,3);case"dddd":return s[t.$W];case"H":return String(l);case"HH":return C.s(l,2,"0");case"h":return v(1);case"hh":return v(2);case"a":return m(l,o,!0);case"A":return m(l,o,!1);case"m":return String(o);case"mm":return C.s(o,2,"0");case"s":return String(t.$s);case"ss":return C.s(t.$s,2,"0");case"SSS":return C.s(t.$ms,3,"0");case"Z":return a}return null}(e)||a.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(i,v,h){var m,f=this,x=C.p(v),p=$(i),S=(p.utcOffset()-this.utcOffset())*t,g=this-p,j=function(){return C.m(f,p)};switch(x){case c:m=j()/12;break;case d:m=j();break;case u:m=j()/3;break;case s:m=(g-S)/6048e5;break;case r:m=(g-S)/864e5;break;case o:m=g/n;break;case l:m=g/t;break;case a:m=g/e;break;default:m=g}return h?m:C.a(m)},p.daysInMonth=function(){return this.endOf(d).$D},p.$locale=function(){return j[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=D(e,t,!0);return i&&(n.$L=i),n},p.clone=function(){return C.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},x}(),T=w.prototype;return $.prototype=T,[["$ms",i],["$s",a],["$m",l],["$H",o],["$W",r],["$M",d],["$y",c],["$D",v]].forEach((function(e){T[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),$.extend=function(e,t){return e.$i||(e(t,w,$),e.$i=!0),$},$.locale=D,$.isDayjs=b,$.unix=function(e){return $(1e3*e)},$.en=j[g],$.Ls=j,$.p={},$}()},3186:(e,t,n)=>{"use strict";n.d(t,{T:()=>d});var i=n(8510),a=n(9522),l=n(835),o=n(5043);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(this,arguments)}var s=["className","rows"],d=(0,a.Rf)((function(e,t){var n=(0,a.Vl)("Textarea",e),d=(0,a.MN)(e),u=d.className,c=d.rows,v=function(e,t){if(null==e)return{};var n,i,a={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(d,s),h=(0,i.useFormControl)(v),m=c?(0,l.cJ)(n,["h","minH","height","minHeight"]):n;return o.createElement(a.Bv.textarea,r({ref:t,rows:c},h,{className:(0,l.cx)("chakra-textarea",u),__css:m}))}));l.gt&&(d.displayName="Textarea")},7913:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>O});var i=n(5043),a=n(4034),l=n(9754),o=n(4450),r=n(5376),s=n(2554),d=n(9621),u=n(5574),c=n(8031),v=n(7368),h=n(3216),m=n(5475),f=n(3516),x=n(899),p=n(9942),S=n(8510),g=n(7682),j=n(9488),y=(n(6178),n(3017)),b=n(7508),D=n(579);const $=e=>{const{allData:t,advanceSearch:n,setAdvanceSearch:i,isLoding:a,setSearchedData:l,setDisplaySearchData:r,setSearchbox:d}=e,u=(0,b.wA)(),c=x.object({agenda:x.string(),createBy:x.string().email("Invalid email format")}),v=(0,f.Wx)({initialValues:{agenda:"",createBy:"",startDate:"",endDate:"",timeStartDate:"",timeEndDate:""},validationSchema:c,onSubmit:(e,n)=>{let{resetForm:a}=n;u((0,y.gB)(e)),u((0,y.DW)({values:e,allData:t,type:"Meeting"}));const l=`${(null===e||void 0===e?void 0:e.startDate)&&`From: ${null===e||void 0===e?void 0:e.startDate}`}${(null===e||void 0===e?void 0:e.endDate)&&` To: ${null===e||void 0===e?void 0:e.endDate}`}`,o=`${(null===e||void 0===e?void 0:e.timeStartDate)&&`From: ${null===e||void 0===e?void 0:e.timeStartDate}`}${(null===e||void 0===e?void 0:e.timeEndDate)&&` To: ${null===e||void 0===e?void 0:e.timeEndDate}`}`,s=[{name:["agenda"],value:e.agenda},{name:["createBy"],value:e.createBy},{name:["startDate","endDate"],value:l},{name:["timeStartDate","timeEndDate"],value:o}];u((0,y.Tr)(s.filter((e=>e.value)))),r(!0),i(!1),a(),d("")}}),{errors:h,touched:m,values:$,handleBlur:C,handleChange:w,handleSubmit:T,setFieldValue:M,resetForm:O,dirty:I}=v;return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(p.aF,{onClose:()=>{i(!1),O()},isOpen:n,isCentered:!0,children:[(0,D.jsx)(p.mH,{}),(0,D.jsxs)(p.$m,{children:[(0,D.jsx)(p.rQ,{children:"Advance Search"}),(0,D.jsx)(p.s_,{onClick:()=>{i(!1),O()}}),(0,D.jsx)(p.cw,{children:(0,D.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,D.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,D.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Agenda"}),(0,D.jsx)(g.Input,{fontSize:"sm",onChange:w,onBlur:C,value:null===$||void 0===$?void 0:$.agenda,name:"agenda",placeholder:"Enter Lead Name",fontWeight:"500"}),(0,D.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",h.agenda&&m.agenda&&h.agenda]})]}),(0,D.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,D.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Create By"}),(0,D.jsx)(g.Input,{fontSize:"sm",onChange:w,onBlur:C,value:null===$||void 0===$?void 0:$.createBy,name:"createBy",placeholder:"Enter Lead Email",fontWeight:"500"}),(0,D.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",h.createBy&&m.createBy&&h.createBy]})]}),(0,D.jsx)(o.GridItem,{colSpan:{base:12},children:(0,D.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Date & time"})}),(0,D.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,D.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"From"}),(0,D.jsx)(g.Input,{fontSize:"sm",onChange:w,onBlur:C,value:$.startDate,type:"date",name:"startDate",fontWeight:"500"})]}),(0,D.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,D.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"To"}),(0,D.jsx)(g.Input,{fontSize:"sm",onChange:w,onBlur:C,value:$.endDate,min:$.startDate,type:"date",name:"endDate",fontWeight:"500"})]}),(0,D.jsx)(o.GridItem,{colSpan:{base:12},children:(0,D.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Time Stamp"})}),(0,D.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,D.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"From"}),(0,D.jsx)(g.Input,{fontSize:"sm",onChange:w,onBlur:C,value:$.timeStartDate,type:"date",name:"timeStartDate",fontWeight:"500"})]}),(0,D.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,D.jsx)(S.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"To"}),(0,D.jsx)(g.Input,{fontSize:"sm",onChange:w,onBlur:C,value:$.timeEndDate,min:$.timeStartDate,type:"date",name:"timeEndDate",fontWeight:"500"})]})]})}),(0,D.jsxs)(p.jl,{children:[(0,D.jsx)(s.Button,{size:"sm",variant:"brand",mr:2,onClick:T,disabled:!(!a&&I),children:a?(0,D.jsx)(j.A,{}):"Search"}),(0,D.jsx)(s.Button,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>O(),children:"Clear"})]})]})]})})};var C=n(9066),w=n(8177),T=n(2145),M=n(7272);const O=()=>{const e=(0,h.Zp)(),[t,n]=(0,i.useState)(!1),{isOpen:f,onOpen:x,onClose:p}=(0,l.j1)(),[S,g]=(0,i.useState)([]),[j,y]=(0,i.useState)(!1),[O,I]=(0,i.useState)([]),[L,z]=(0,i.useState)(""),[F,A]=(JSON.parse(localStorage.getItem("user")),(0,i.useState)(!1)),[_,W]=(0,i.useState)(!1),[B,k]=(0,i.useState)([]),[N,H]=(0,i.useState)(!1),[V,Y]=(0,i.useState)([]),[G]=(0,u.h)(["Meetings"]),E=(0,b.wA)(),J={Header:"Action",isSortable:!1,center:!0,cell:t=>{let{row:n}=t;return(0,D.jsx)(o.Text,{fontSize:"md",fontWeight:"900",textAlign:"center",children:(0,D.jsxs)(r.W1,{isLazy:!0,children:[(0,D.jsx)(r.IU,{children:(0,D.jsx)(v.txp,{})}),(0,D.jsxs)(r.cO,{minW:"fit-content",transform:"translate(1520px, 173px);",children:[(null===G||void 0===G?void 0:G.view)&&(0,D.jsx)(r.Dr,{py:2.5,color:"green",onClick:()=>{var t;return e(`/metting/${null===n||void 0===n||null===(t=n.values)||void 0===t?void 0:t._id}`)},icon:(0,D.jsx)(a.ViewIcon,{fontSize:15}),children:"View"}),(null===G||void 0===G?void 0:G.delete)&&(0,D.jsx)(r.Dr,{py:2.5,color:"red",onClick:()=>{var e;A(!0),g([null===n||void 0===n||null===(e=n.values)||void 0===e?void 0:e._id])},icon:(0,D.jsx)(a.DeleteIcon,{fontSize:15}),children:"Delete"})]})]})})}},U=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Agenda",accessor:"agenda",cell:e=>{var t,n;return(0,D.jsxs)(m.N_,{to:`/metting/${null===e||void 0===e||null===(t=e.row)||void 0===t||null===(n=t.values)||void 0===n?void 0:n._id}`,children:[" ",(0,D.jsx)(o.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e?void 0:e.value)||" - "})]})}},{Header:"Date & Time",accessor:"dateTime"},{Header:"Time Stamp",accessor:"timestamp"},{Header:"Create By",accessor:"createdByName"},...null!==G&&void 0!==G&&G.update||null!==G&&void 0!==G&&G.view||null!==G&&void 0!==G&&G.delete?[J]:[]];return(0,i.useEffect)((()=>{(async()=>{var e;W(!0);const t=await E((0,M.Y)());var n;200===(null===t||void 0===t||null===(e=t.payload)||void 0===e?void 0:e.status)?k(null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.data):T.oR.error("Failed to fetch data","error"),W(!1)})()}),[t]),(0,D.jsxs)("div",{children:[(0,D.jsx)(c.A,{title:"Meeting",isLoding:_,columnData:null!==U&&void 0!==U?U:[],allData:null!==B&&void 0!==B?B:[],tableData:B,searchDisplay:N,setSearchDisplay:H,searchedDataOut:V,setSearchedDataOut:Y,tableCustomFields:[],access:G,onOpen:x,selectedValues:S,setSelectedValues:g,setDelete:A,AdvanceSearch:(0,D.jsx)(s.Button,{variant:"outline",colorScheme:"brand",leftIcon:(0,D.jsx)(a.SearchIcon,{}),mt:{sm:"5px",md:"0"},size:"sm",onClick:()=>y(!0),children:"Advance Search"}),getTagValuesOutSide:O,searchboxOutside:L,setGetTagValuesOutside:I,setSearchboxOutside:z,handleSearchType:"MeetingSearch"}),(0,D.jsx)($,{advanceSearch:j,setAdvanceSearch:y,setSearchedData:Y,setDisplaySearchData:H,allData:null!==B&&void 0!==B?B:[],setAction:n,setGetTagValues:I,setSearchbox:z}),(0,D.jsx)(C.A,{setAction:n,isOpen:f,onClose:p}),(0,D.jsx)(w.A,{isOpen:F,onClose:()=>A(!1),type:"Meetings",handleDeleteData:async e=>{try{W(!0);let t=await(0,d.Vn)("api/meeting/deleteMany",e);200===(null===t||void 0===t?void 0:t.status)&&(g([]),A(!1),n((e=>!e)))}catch(t){console.log(t)}finally{W(!1)}},ids:S})]})}},9066:(e,t,n)=>{"use strict";n.d(t,{A:()=>M});var i=n(9942),a=n(4450),l=n(8510),o=n(7682),r=n(5104),s=n(2554),d=n(3186),u=n(968),c=n(5043),v=n(1046),h=n(9488),m=n(850),f=n(6547),x=n(8860),p=n(7508),S=n(579);const g=e=>{var t,n;const{onClose:l,isOpen:o,fieldName:r,setFieldValue:d,data:u}=e,[g,j]=(0,c.useState)([]),[y,b]=(0,c.useState)([]),[D,$]=(0,c.useState)([]),[C,w]=(0,c.useState)(!1),T=(0,p.wA)();(0,c.useEffect)((async()=>{await T((0,f.h)()),(async()=>{var e,t,n,i;w(!0);const a=await T((0,m.I)());$(null===a||void 0===a||null===(e=a.payload)||void 0===e?void 0:e.data);const l=[{Header:"#",accessor:"_id",isSortable:!1,width:10},...((null===a||void 0===a||null===(t=a.payload)||void 0===t||null===(n=t.data)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.fields)||[]).filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))).map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name})))];b(l),w(!1)})()}),[]);JSON.parse(localStorage.getItem("user"));const M=[...new Set(g)];return(0,S.jsxs)(i.aF,{onClose:l,size:"full",isOpen:o,children:[(0,S.jsx)(i.mH,{}),(0,S.jsxs)(i.$m,{children:[(0,S.jsx)(i.rQ,{children:"Select Contact"}),(0,S.jsx)(i.s_,{}),(0,S.jsx)(i.cw,{children:C?(0,S.jsx)(a.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,S.jsx)(h.A,{})}):(0,S.jsx)(v.A,{title:"Contacts",isLoding:C,allData:u,tableData:u,type:"multi",tableCustomFields:(null===D||void 0===D||null===(t=D[0])||void 0===t||null===(n=t.fields)||void 0===n?void 0:n.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],selectedValues:g,setSelectedValues:j,columnsData:null!==y&&void 0!==y?y:[]})}),(0,S.jsxs)(i.jl,{children:[(0,S.jsxs)(s.Button,{variant:"brand",onClick:async()=>{try{w(!0),d(r,M),l()}catch(e){console.log(e)}finally{w(!1)}},disabled:!!C,leftIcon:(0,S.jsx)(x.NLY,{}),children:[" ",C?(0,S.jsx)(h.A,{}):"Select"]}),(0,S.jsx)(s.Button,{onClick:()=>l(),children:"Close"})]})]})]})};var j=n(7952),y=n(446),b=n.n(y),D=n(3516),$=n(3388),C=n(2145),w=n(9849),T=n(9621);const M=e=>{var t,n;const{onClose:v,isOpen:m,setAction:f,from:x,fetchData:y,view:M,leadName:O}=e,[I,L]=(0,c.useState)([]),[z,F]=(0,c.useState)([]),[A,_]=(0,c.useState)(!1),[W,B]=(0,c.useState)(!1),[k,N]=(0,c.useState)(!1),H=(new Date).toISOString().split(".")[0],V=(0,p.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.leadData)||void 0===t?void 0:t.data})),[Y,G]=(0,c.useState)([]),[E,J]=(0,c.useState)([]),U=JSON.parse(localStorage.getItem("user")),R=(0,p.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.contactData)||void 0===t?void 0:t.data})),Z={agenda:"",attendes:"contactView"===(null===e||void 0===e?void 0:e.leadContect)&&null!==e&&void 0!==e&&e.id?[null===e||void 0===e?void 0:e.id]:[],attendesLead:"leadView"===(null===e||void 0===e?void 0:e.leadContect)&&null!==e&&void 0!==e&&e.id?[null===e||void 0===e?void 0:e.id]:[],location:"",related:"contactView"===(null===e||void 0===e?void 0:e.leadContect)?"Contact":"leadView"===(null===e||void 0===e?void 0:e.leadContect)?"Lead":"None",dateTime:"",notes:"",createBy:null===U||void 0===U?void 0:U._id},Q=(0,D.Wx)({initialValues:Z,validationSchema:w.pq,onSubmit:(e,t)=>{let{resetForm:n}=t;ie()}}),{errors:P,touched:q,values:K,handleBlur:X,handleChange:ee,handleSubmit:te,setFieldValue:ne}=Q,ie=(null===I||void 0===I||I.find((e=>(null===e||void 0===e?void 0:e.leadName)===(null===O||void 0===O?void 0:O.leadName))),async()=>{try{var t,n;if(_(!0),(null===K||void 0===K||null===(t=K.attendes)||void 0===t?void 0:t.length)>0||(null===K||void 0===K||null===(n=K.attendesLead)||void 0===n?void 0:n.length)>0){let t=await(0,T.d_)("api/meeting/add",K);200===(null===t||void 0===t?void 0:t.status)&&(Q.resetForm(),e.onClose(),y(1))}else C.oR.error("Select Related To")}catch(i){console.log(i)}finally{_(!1)}});(0,c.useEffect)((()=>{(async()=>{if(!0===M)"Contact"===(null===K||void 0===K?void 0:K.related)&&(null===z||void 0===z?void 0:z.length)<=0?F(R):"Lead"===(null===K||void 0===K?void 0:K.related)&&(null===I||void 0===I?void 0:I.length)<=0&&L(V);else{let n;var e;if("Contact"===(null===K||void 0===K?void 0:K.related)&&(null===z||void 0===z?void 0:z.length)<=0)n=await(0,T.x4)("superAdmin"===U.role?"api/contact/":`api/contact/?createBy=${null===U||void 0===U?void 0:U._id}`),F(null===(e=n)||void 0===e?void 0:e.data);else if("Lead"===(null===K||void 0===K?void 0:K.related)&&(null===I||void 0===I?void 0:I.length)<=0){var t;n=await(0,T.x4)("superAdmin"===(null===U||void 0===U?void 0:U.role)?"api/lead/":`api/lead/?createBy=${null===U||void 0===U?void 0:U._id}`),L(null===(t=n)||void 0===t?void 0:t.data)}}})()}),[null===e||void 0===e?void 0:e.id,null===K||void 0===K?void 0:K.related]);return(0,c.useEffect)((()=>{const e="Contact"===(null===K||void 0===K?void 0:K.related)?z:V;G(e);const t=null!==Array&&void 0!==Array&&Array.isArray(e)?null===e||void 0===e?void 0:e.map((e=>({...e,value:null===e||void 0===e?void 0:e._id,label:"Contact"===(null===K||void 0===K?void 0:K.related)?null===e||void 0===e?void 0:e.fullName:null===e||void 0===e?void 0:e.leadName}))):[];J(t)}),[V,null===K||void 0===K?void 0:K.related,z]),(0,S.jsxs)(i.aF,{onClose:v,isOpen:m,isCentered:!0,children:[(0,S.jsx)(i.mH,{}),(0,S.jsxs)(i.$m,{height:"580px",children:[(0,S.jsx)(i.rQ,{children:"Add Meeting "}),(0,S.jsx)(i.s_,{}),(0,S.jsxs)(i.cw,{overflowY:"auto",height:"400px",children:[(0,S.jsx)(g,{data:z,isOpen:W,onClose:B,fieldName:"attendes",setFieldValue:ne}),(0,S.jsx)(j.A,{data:I,isOpen:k,onClose:N,fieldName:"attendesLead",setFieldValue:ne}),(0,S.jsxs)(a.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,S.jsxs)(a.GridItem,{colSpan:{base:12},children:[(0,S.jsxs)(l.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Agenda",(0,S.jsx)(a.Text,{color:"red",children:"*"})]}),(0,S.jsx)(o.Input,{fontSize:"sm",onChange:ee,onBlur:X,value:null===K||void 0===K?void 0:K.agenda,name:"agenda",placeholder:"Agenda",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.agenda&&null!==q&&void 0!==q&&q.agenda?"red.300":null}),(0,S.jsxs)(a.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",(null===P||void 0===P?void 0:P.agenda)&&(null===q||void 0===q?void 0:q.agenda)&&(null===P||void 0===P?void 0:P.agenda)]})]}),(0,S.jsxs)(a.GridItem,{colSpan:{base:12},children:[(0,S.jsxs)(l.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Related To",(0,S.jsx)(a.Text,{color:"red",children:"*"})]}),(0,S.jsx)(r.z6,{onChange:e=>ne("related",e),value:null===K||void 0===K?void 0:K.related,children:(0,S.jsxs)(a.Stack,{direction:"row",children:["contactView"===(null===e||void 0===e?void 0:e.leadContect)&&(0,S.jsx)(r.sx,{value:"Contact",children:"Contact"}),"leadView"===(null===e||void 0===e?void 0:e.leadContect)&&(0,S.jsx)(r.sx,{value:"Lead",children:"Lead"}),!(null!==e&&void 0!==e&&e.leadContect)&&(0,S.jsxs)(S.Fragment,{children:[" ",(0,S.jsx)(r.sx,{value:"Contact",children:"Contact"}),(0,S.jsx)(r.sx,{value:"Lead",children:"Lead"})]})]})}),(0,S.jsxs)(a.Text,{mb:"10px",color:"red",fontSize:"sm",children:[" ",(null===P||void 0===P?void 0:P.related)&&(null===q||void 0===q?void 0:q.related)&&(null===P||void 0===P?void 0:P.related)]})]}),("Contact"===(null===K||void 0===K?void 0:K.related)?(null!==(t=null===z||void 0===z?void 0:z.length)&&void 0!==t?t:0)>0:(null!==(n=null===I||void 0===I?void 0:I.length)&&void 0!==n?n:0)>0)&&(null===K||void 0===K?void 0:K.related)&&(0,S.jsxs)(a.GridItem,{colSpan:{base:12},children:[(0,S.jsxs)(a.Flex,{alignItems:"end",justifyContent:"space-between",children:[(0,S.jsx)(a.Text,{w:"100%",children:(0,S.jsx)(u.CUIAutoComplete,{label:`Choose Preferred Attendes ${"Contact"===(null===K||void 0===K?void 0:K.related)?"Contact":"Lead"===(null===K||void 0===K?void 0:K.related)&&"Lead"}`,placeholder:"Type a Name",name:"attendes",items:E,className:"custom-autoComplete",selectedItems:null===E||void 0===E?void 0:E.filter((e=>{var t,n;return"Contact"===(null===K||void 0===K?void 0:K.related)?null===K||void 0===K||null===(t=K.attendes)||void 0===t?void 0:t.includes(null===e||void 0===e?void 0:e._id):"Lead"===(null===K||void 0===K?void 0:K.related)&&(null===K||void 0===K||null===(n=K.attendesLead)||void 0===n?void 0:n.includes(null===e||void 0===e?void 0:e._id))})),onSelectedItemsChange:e=>{const t=null===(n=null===e||void 0===e?void 0:e.selectedItems)||void 0===n?void 0:n.map((e=>null===e||void 0===e?void 0:e._id));var n;"Contact"===(null===K||void 0===K?void 0:K.related)?ne("attendes",t):"Lead"===(null===K||void 0===K?void 0:K.related)&&ne("attendesLead",t)}})}),(0,S.jsx)(s.IconButton,{mb:6,onClick:()=>"Contact"===(null===K||void 0===K?void 0:K.related)?B(!0):"Lead"===(null===K||void 0===K?void 0:K.related)&&N(!0),fontSize:"25px",icon:(0,S.jsx)($.G2h,{})})]}),(0,S.jsxs)(a.Text,{color:"red",children:[" ",(null===P||void 0===P?void 0:P.attendes)&&(null===q||void 0===q?void 0:q.attendes)&&(null===P||void 0===P?void 0:P.attendes)]})]}),(0,S.jsxs)(a.GridItem,{colSpan:{base:12},children:[(0,S.jsx)(l.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Location"}),(0,S.jsx)(o.Input,{fontSize:"sm",onChange:ee,onBlur:X,value:null===K||void 0===K?void 0:K.location,name:"location",placeholder:"Location",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.location&&null!==q&&void 0!==q&&q.location?"red.300":null}),(0,S.jsxs)(a.Text,{mb:"10px",color:"red",fontSize:"sm",children:[" ",(null===P||void 0===P?void 0:P.location)&&(null===q||void 0===q?void 0:q.location)&&(null===P||void 0===P?void 0:P.location)]})]}),(0,S.jsxs)(a.GridItem,{colSpan:{base:12},children:[(0,S.jsxs)(l.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Date Time",(0,S.jsx)(a.Text,{color:"red",children:"*"})]}),(0,S.jsx)(o.Input,{fontSize:"sm",type:"datetime-local",onChange:ee,onBlur:X,min:b()(H).format("YYYY-MM-DD HH:mm"),value:null===K||void 0===K?void 0:K.dateTime,name:"dateTime",placeholder:"Date Time",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.dateTime&&null!==q&&void 0!==q&&q.dateTime?"red.300":null}),(0,S.jsxs)(a.Text,{fontSize:"sm",mb:"10px",color:"red",children:[" ",(null===P||void 0===P?void 0:P.dateTime)&&(null===q||void 0===q?void 0:q.dateTime)&&(null===P||void 0===P?void 0:P.dateTime)]})]}),(0,S.jsxs)(a.GridItem,{colSpan:{base:12},children:[(0,S.jsx)(l.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Notes"}),(0,S.jsx)(d.T,{resize:"none",fontSize:"sm",placeholder:"Notes",onChange:ee,onBlur:X,value:null===K||void 0===K?void 0:K.notes,name:"notes",fontWeight:"500",borderColor:null!==P&&void 0!==P&&P.notes&&null!==q&&void 0!==q&&q.notes?"red.300":null}),(0,S.jsxs)(a.Text,{mb:"10px",color:"red",children:[" ",(null===P||void 0===P?void 0:P.notes)&&(null===q||void 0===q?void 0:q.notes)&&(null===P||void 0===P?void 0:P.notes)]})]})]})]}),(0,S.jsxs)(i.jl,{children:[(0,S.jsx)(s.Button,{size:"sm",variant:"brand",me:2,disabled:!!A,onClick:te,children:A?(0,S.jsx)(h.A,{}):"Save"}),(0,S.jsx)(s.Button,{sx:{textTransform:"capitalize"},variant:"outline",colorScheme:"red",size:"sm",onClick:()=>{Q.resetForm(),v()},children:"Close"})]})]})]})}}}]);
//# sourceMappingURL=7913.32aa477c.chunk.js.map