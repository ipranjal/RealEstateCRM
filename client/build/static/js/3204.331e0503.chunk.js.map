{"version":3,"file":"static/js/3204.331e0503.chunk.js","mappings":"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","sources":["views/admin/emailTemplate/index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { DeleteIcon, EditIcon, ViewIcon } from \"@chakra-ui/icons\";\nimport {\n  Button,\n  Menu,\n  MenuButton,\n  MenuItem,\n  MenuList,\n  Select,\n  Text,\n  useDisclosure,\n} from \"@chakra-ui/react\";\nimport { getApi } from \"services/api\";\nimport { HasAccess } from \"../../../redux/accessUtils\";\nimport CommonCheckTable from \"../../../components/reactTable/checktable\";\nimport { CiMenuKebab } from \"react-icons/ci\";\nimport { putApi } from \"services/api\";\nimport { useLocation } from \"react-router-dom\";\nimport { deleteManyApi } from \"services/api\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport CommonDeleteModel from \"components/commonDeleteModel\";\nimport { fetchEmailTempData } from \"../../../redux/slices/emailTempSlice\";\n\nconst Index = () => {\n  const [action, setAction] = useState(false);\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const [edit, setEdit] = useState(false);\n  const [eventView, setEventView] = useState(false);\n  const [id, setId] = useState(\"\");\n  const [selectedId, setSelectedId] = useState();\n  const [selectedValues, setSelectedValues] = useState([]);\n  // const [advanceSearch, setAdvanceSearch] = useState(false);\n  const [getTagValuesOutSide, setGetTagValuesOutside] = useState([]);\n  const [searchboxOutside, setSearchboxOutside] = useState(\"\");\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  const [deleteMany, setDeleteMany] = useState(false);\n  const [isImportLead, setIsImportLead] = useState(false);\n  const [isLoding, setIsLoding] = useState(false);\n  const [data, setData] = useState([]);\n  const [displaySearchData, setDisplaySearchData] = useState(false);\n  const [searchedData, setSearchedData] = useState([]);\n  const [userAction, setUserAction] = useState(\"\");\n  const [permission] = HasAccess([\"Email Template\"]);\n  const location = useLocation();\n  // const state = location.state;\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const handleEditOpen = (row) => {\n    onOpen();\n    setUserAction(\"edit\");\n    navigate(`/email-template/email-template-addEdit`, {\n      state: { type: \"edit\", id: row?.values?._id },\n    });\n    setSelectedId(row?.values?._id);\n  };\n\n  const actionHeader = {\n    Header: \"Action\",\n    isSortable: false,\n    center: true,\n    cell: ({ row }) => (\n      <Text fontSize=\"md\" fontWeight=\"900\" textAlign={\"center\"}>\n        <Menu isLazy>\n          <MenuButton>\n            <CiMenuKebab />\n          </MenuButton>\n          <MenuList\n            minW={\"fit-content\"}\n            transform={\"translate(1520px, 173px);\"}\n          >\n            {permission?.update && (\n              <MenuItem\n                py={2.5}\n                icon={<EditIcon fontSize={15} mb={1} />}\n                onClick={() => handleEditOpen(row)}\n              >\n                Edit\n              </MenuItem>\n            )}\n            {permission?.view && (\n              <MenuItem\n                py={2.5}\n                color={\"green\"}\n                icon={<ViewIcon fontSize={15} mb={1} />}\n                onClick={() => navigate(`/email-template/${row?.values?._id}`)}\n              >\n                View\n              </MenuItem>\n            )}\n            {permission?.delete && (\n              <MenuItem\n                py={2.5}\n                color={\"red\"}\n                icon={<DeleteIcon fontSize={15} mb={1} />}\n                onClick={() => {\n                  setDeleteMany(true);\n                  setSelectedValues([row?.values?._id]);\n                }}\n              >\n                Delete\n              </MenuItem>\n            )}\n          </MenuList>\n        </Menu>\n      </Text>\n    ),\n  };\n  const tableColumns = [\n    {\n      Header: \"#\",\n      accessor: \"_id\",\n      isSortable: false,\n      width: 5,\n    },\n    {\n      Header: \"Template Name\",\n      accessor: \"templateName\",\n      cell: (cell) => (\n        <div className=\"selectOpt\">\n          <Text\n            onClick={() =>\n              navigate(`/email-template/${cell?.row?.original?._id}`)\n            }\n            me=\"10px\"\n            sx={{\n              \"&:hover\": { color: \"blue.500\", textDecoration: \"underline\" },\n              cursor: \"pointer\",\n            }}\n            color=\"brand.600\"\n            fontSize=\"sm\"\n            fontWeight=\"700\"\n          >\n            {cell?.value}\n          </Text>\n        </div>\n      ),\n    },\n    { Header: \"Description\", accessor: \"description\" },\n    ...(permission?.update || permission?.delete ? [actionHeader] : []),\n  ];\n\n  const fetchData = async () => {\n    setIsLoding(true);\n    const result = await dispatch(fetchEmailTempData());\n    if (result?.payload?.status === 200) {\n      setData(result?.payload?.data);\n    } else {\n      toast.error(\"Failed to fetch data\", \"error\");\n    }\n    setIsLoding(false);\n  };\n\n  const handleDeleteTask = async (ids) => {\n    try {\n      setIsLoding(true);\n      let response = await deleteManyApi(\"api/email-temp/deleteMany\", ids);\n      if (response?.status === 200) {\n        setSelectedValues([]);\n        setDeleteMany(false);\n        setAction((pre) => !pre);\n      }\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setIsLoding(false);\n    }\n  };\n\n  // const [selectedColumns, setSelectedColumns] = useState([...tableColumns]);\n  // const dataColumn = tableColumns?.filter(item => selectedColumns?.find(colum => colum?.Header === item.Header))\n\n  const addBtn = () => {\n    navigate(`/email-template/email-template-addEdit`, {\n      state: { type: \"add\" },\n    });\n    setUserAction(\"add\");\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, [action]);\n\n  return (\n    <div>\n      <CommonCheckTable\n        title={\"Email Template\"}\n        isLoding={isLoding}\n        columnData={tableColumns ?? []}\n        // dataColumn={dataColumn ?? []}\n        allData={data ?? []}\n        searchDisplay={displaySearchData}\n        setSearchDisplay={setDisplaySearchData}\n        searchedDataOut={searchedData}\n        setSearchedDataOut={setSearchedData}\n        tableCustomFields={[]}\n        access={permission}\n        // selectedColumns={selectedColumns}\n        // setSelectedColumns={setSelectedColumns}\n        // state={state}\n        onOpen={addBtn}\n        selectedValues={selectedValues}\n        setSelectedValues={setSelectedValues}\n        setDelete={setDeleteMany}\n        AdvanceSearch={false}\n        getTagValuesOutSide={getTagValuesOutSide}\n        searchboxOutside={searchboxOutside}\n        setGetTagValuesOutside={setGetTagValuesOutside}\n        setSearchboxOutside={setSearchboxOutside}\n        handleSearchType=\"template\"\n      />\n      <CommonDeleteModel\n        isOpen={deleteMany}\n        onClose={() => setDeleteMany(false)}\n        type=\"Email Template\"\n        handleDeleteData={handleDeleteTask}\n        ids={selectedValues}\n      />\n    </div>\n  );\n};\n\nexport default Index;\n"],"names":["Index","action","setAction","useState","isOpen","onOpen","onClose","useDisclosure","edit","setEdit","eventView","setEventView","id","setId","selectedId","setSelectedId","selectedValues","setSelectedValues","getTagValuesOutSide","setGetTagValuesOutside","searchboxOutside","setSearchboxOutside","deleteMany","setDeleteMany","JSON","parse","localStorage","getItem","isImportLead","setIsImportLead","isLoding","setIsLoding","data","setData","displaySearchData","setDisplaySearchData","searchedData","setSearchedData","userAction","setUserAction","permission","HasAccess","navigate","useLocation","useNavigate","dispatch","useDispatch","actionHeader","Header","isSortable","center","cell","_ref","row","_jsx","Text","fontSize","fontWeight","textAlign","children","_jsxs","Menu","isLazy","MenuButton","CiMenuKebab","MenuList","minW","transform","update","MenuItem","py","icon","EditIcon","mb","onClick","_row$values","_row$values2","state","type","values","_id","handleEditOpen","view","color","ViewIcon","_row$values3","delete","DeleteIcon","_row$values4","tableColumns","accessor","width","className","_cell$row","_cell$row$original","original","me","sx","textDecoration","cursor","value","useEffect","async","_result$payload","result","fetchEmailTempData","_result$payload2","payload","status","toast","error","fetchData","CommonCheckTable","title","columnData","allData","searchDisplay","setSearchDisplay","searchedDataOut","setSearchedDataOut","tableCustomFields","access","addBtn","setDelete","AdvanceSearch","handleSearchType","CommonDeleteModel","handleDeleteData","response","deleteManyApi","ids","pre","console","log"],"sourceRoot":""}