"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[2756],{2756:(e,a,l)=>{l.r(a),l.d(a,{default:()=>A});var t=l(5043),i=l(3216),o=l(9754),n=l(4450),s=(l(5376),l(9621)),d=l(5574),c=l(8031),r=(l(7368),l(6178)),u=l.n(r),m=l(7858),v=l(7508),b=(l(7560),l(2145)),x=l(3516),h=l(899),p=l(9942),g=l(8510),f=l(7682),S=l(4626),j=l(2554),_=l(9488),T=l(3017),y=l(579);const C=e=>{const{state:a,allData:l,advanceSearch:t,setAdvanceSearch:i,isLoding:o,setSearchedData:s,setDisplaySearchData:d,setSearchClear:c,setSearchbox:r}=e,u=(0,v.wA)(),m=h.object({quoteNumber:h.string(),title:h.string(),quoteStage:h.string(),contactName:h.string(),accountName:h.string(),grandTotal:h.string(),validUntil:h.string()}),b=(0,x.Wx)({initialValues:{quoteNumber:"",title:"",quoteStage:"",contactName:"",accountName:"",grandTotal:"",validUntil:""},validationSchema:m,onSubmit:(e,a)=>{let{resetForm:t}=a;u((0,T.gB)(e)),u((0,T.DW)({values:e,allData:l,type:"quotes"}));const o=[{name:["quoteNumber"],value:null===e||void 0===e?void 0:e.quoteNumber},{name:["title"],value:null===e||void 0===e?void 0:e.title},{name:["quoteStage"],value:null===e||void 0===e?void 0:e.quoteStage},{name:["contactName"],value:null===e||void 0===e?void 0:e.contactName},{name:["accountName"],value:null===e||void 0===e?void 0:e.accountName},{name:["grandTotal"],value:null===e||void 0===e?void 0:e.grandTotal},{name:["validUntil"],value:null===e||void 0===e?void 0:e.validUntil}];u((0,T.Tr)(null===o||void 0===o?void 0:o.filter((e=>null===e||void 0===e?void 0:e.value)))),d(!0),i(!1),t(),r("")}}),{errors:C,touched:D,values:q,handleBlur:N,handleChange:F,handleSubmit:A,setFieldValue:k,resetForm:z,dirty:I}=b;return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(p.aF,{onClose:()=>{i(!1),z()},isOpen:t,isCentered:!0,children:[(0,y.jsx)(p.mH,{}),(0,y.jsxs)(p.$m,{children:[(0,y.jsx)(p.rQ,{children:"Advance Search"}),(0,y.jsx)(p.s_,{onClick:()=>{i(!1),z()}}),(0,y.jsx)(p.cw,{children:(0,y.jsxs)(n.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,y.jsxs)(n.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Quote Number"}),(0,y.jsx)(f.Input,{fontSize:"sm",onChange:F,onBlur:N,value:null===q||void 0===q?void 0:q.quoteNumber,name:"quoteNumber",type:"number",placeholder:"Enter Quote Number",fontWeight:"500"}),(0,y.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===C||void 0===C?void 0:C.quoteNumber)&&(null===D||void 0===D?void 0:D.quoteNumber)&&(null===C||void 0===C?void 0:C.quoteNumber)]})]}),(0,y.jsxs)(n.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Title"}),(0,y.jsx)(f.Input,{fontSize:"sm",onChange:F,onBlur:N,value:null===q||void 0===q?void 0:q.title,name:"title",placeholder:"Enter Title",fontWeight:"500"}),(0,y.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===C||void 0===C?void 0:C.title)&&(null===D||void 0===D?void 0:D.title)&&(null===C||void 0===C?void 0:C.title)]})]}),(0,y.jsxs)(n.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Quote Stage"}),(0,y.jsxs)(S.l6,{value:null===q||void 0===q?void 0:q.quoteStage,name:"quoteStage",onChange:F,mb:null!==C&&void 0!==C&&C.quoteStage&&null!==D&&void 0!==D&&D.quoteStage?void 0:"10px",fontWeight:"500",placeholder:"Quote Stage",borderColor:null!==C&&void 0!==C&&C.quoteStage&&null!==D&&void 0!==D&&D.quoteStage?"red.300":null,children:[(0,y.jsx)("option",{value:"Draft",children:"Draft"}),(0,y.jsx)("option",{value:"Negotiation",children:"Negotiation"}),(0,y.jsx)("option",{value:"Delivered",children:"Delivered"}),(0,y.jsx)("option",{value:"On Hold",children:"On Hold"}),(0,y.jsx)("option",{value:"Confirmed",children:"Confirmed"}),(0,y.jsx)("option",{value:"Closed Accepted",children:"Closed Accepted"}),(0,y.jsx)("option",{value:"Closed Lost",children:"Closed Lost"}),(0,y.jsx)("option",{value:"Closed Dead",children:"Closed Dead"})]}),(0,y.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===C||void 0===C?void 0:C.quoteStage)&&(null===D||void 0===D?void 0:D.quoteStage)&&(null===C||void 0===C?void 0:C.quoteStage)]})]}),(0,y.jsxs)(n.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Contact"}),(0,y.jsx)(f.Input,{fontSize:"sm",onChange:F,onBlur:N,value:null===q||void 0===q?void 0:q.contactName,name:"contactName",placeholder:"Enter Contact Name",fontWeight:"500"}),(0,y.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===C||void 0===C?void 0:C.contactName)&&(null===D||void 0===D?void 0:D.contactName)&&(null===C||void 0===C?void 0:C.contactName)]})]}),(0,y.jsxs)(n.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Account"}),(0,y.jsx)(f.Input,{fontSize:"sm",onChange:F,onBlur:N,value:null===q||void 0===q?void 0:q.accountName,name:"accountName",placeholder:"Enter Account Name",fontWeight:"500"}),(0,y.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===C||void 0===C?void 0:C.accountName)&&(null===D||void 0===D?void 0:D.accountName)&&(null===C||void 0===C?void 0:C.accountName)]})]}),(0,y.jsxs)(n.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Grand Total"}),(0,y.jsx)(f.Input,{fontSize:"sm",onChange:F,onBlur:N,value:null===q||void 0===q?void 0:q.grandTotal,name:"grandTotal",placeholder:"Enter Grand Total",fontWeight:"500"}),(0,y.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===C||void 0===C?void 0:C.grandTotal)&&(null===D||void 0===D?void 0:D.grandTotal)&&(null===C||void 0===C?void 0:C.grandTotal)]})]}),(0,y.jsxs)(n.GridItem,{colSpan:{base:12,md:6},children:[(0,y.jsx)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"600",color:"#000",mb:"0",mt:2,children:"Valid Untile"}),(0,y.jsx)(f.Input,{fontSize:"sm",onChange:F,onBlur:N,value:null===q||void 0===q?void 0:q.validUntil,name:"validUntil",type:"date",fontWeight:"500"}),(0,y.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===C||void 0===C?void 0:C.validUntil)&&(null===D||void 0===D?void 0:D.validUntil)&&(null===C||void 0===C?void 0:C.validUntil)]})]})]})}),(0,y.jsxs)(p.jl,{children:[(0,y.jsx)(j.Button,{size:"sm",variant:"brand",mr:2,onClick:A,disabled:!(!o&&I),children:o?(0,y.jsx)(_.A,{}):"Search"}),(0,y.jsx)(j.Button,{size:"sm",variant:"outline",colorScheme:"red",onClick:()=>z(),children:"Clear"})]})]})]})})};var D=l(8177),q=l(3848);const N=e=>{var a;const{onClose:l,isOpen:o,text:s,customFields:d}=e,[c,r]=(0,t.useState)(!1),u=(0,i.Zp)(),m=(0,x.Wx)({initialValues:{quotes:""},onSubmit:(e,a)=>{let{resetForm:l}=a;D(),l()}}),{errors:v,touched:b,values:h,handleBlur:g,handleChange:f,handleSubmit:S,setFieldValue:T,resetForm:C}=m,D=async()=>{try{r(!0),C(),null!==h&&void 0!==h&&h.quotes&&(l(),u("/quotesImport",{state:{fileData:null===h||void 0===h?void 0:h.quotes,customFields:d}}))}catch(e){console.log(e)}finally{r(!1)}};return(0,y.jsxs)(p.aF,{onClose:l,isOpen:o,isCentered:!0,children:[(0,y.jsx)(p.mH,{}),(0,y.jsxs)(p.$m,{children:[(0,y.jsx)(p.rQ,{children:"Import Quotes"}),(0,y.jsx)(p.s_,{}),(0,y.jsx)(p.cw,{children:(0,y.jsx)(n.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:(0,y.jsxs)(n.GridItem,{colSpan:{base:12},children:[(0,y.jsx)(q.A,{count:null===h||void 0===h||null===(a=h.quotes)||void 0===a?void 0:a.length,onFileSelect:e=>T("quotes",e),text:s}),(0,y.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===v||void 0===v?void 0:v.quotes)&&(null===b||void 0===b?void 0:b.quotes)&&(0,y.jsxs)(y.Fragment,{children:["Please Select ",s]})]})]})})}),(0,y.jsxs)(p.jl,{children:[(0,y.jsx)(j.Button,{size:"sm",variant:"brand",onClick:S,disabled:!!c,children:c?(0,y.jsx)(_.A,{}):"Save"}),(0,y.jsx)(j.Button,{sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",size:"sm",onClick:()=>{l(),null===m||void 0===m||m.resetForm()},children:"Close"})]})]})]})};var F=l(2888);l(4966);const A=e=>{const[a,l]=(0,t.useState)(!1),{isOpen:r,onOpen:x,onClose:h}=(0,o.j1)(),[p,g]=(0,t.useState)([]),[f,S]=(0,t.useState)(!1),[j,_]=(0,t.useState)([]),[T,q]=(0,t.useState)(""),A=(JSON.parse(localStorage.getItem("user")),(0,i.Zp)(),(0,v.wA)()),[k,z]=(0,t.useState)(!1),[I,w]=(0,t.useState)([]),[W,G]=(0,t.useState)(!1),[O,V]=(0,t.useState)([]),[B,U]=(0,t.useState)(),[L,Q]=(0,t.useState)(!1),[M,H]=(0,t.useState)(!1),[E,P]=(0,t.useState)(""),[Y,R]=(0,t.useState)(!1),[Z,$,J]=(0,d.h)(["Quotes","Account","Contacts"]),K=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Property",accessor:"property",cell:e=>{var a;return(0,y.jsx)(n.Text,{fontSize:"sm",fontWeight:"700",children:null===e||void 0===e||null===(a=e.value)||void 0===a?void 0:a.name})}},{Header:"Time",accessor:"createdDate",cell:e=>(0,y.jsx)("div",{children:u()(null===e||void 0===e?void 0:e.value).format("YYYY-MM-DD")})}];return(0,t.useEffect)((()=>{(async()=>{var e;z(!0);const a=await A((0,F.m)());var l;200===(null===a||void 0===a||null===(e=a.payload)||void 0===e?void 0:e.status)?w(null===a||void 0===a||null===(l=a.payload)||void 0===l?void 0:l.data):b.oR.error("Failed to fetch data","error"),z(!1)})()}),[a]),(0,y.jsxs)("div",{children:[(0,y.jsx)(c.A,{title:"Offer Letter",isLoding:k,columnData:null!==K&&void 0!==K?K:[],allData:null!==I&&void 0!==I?I:[],tableData:I,checkBox:!1,searchDisplay:W,setSearchDisplay:G,searchedDataOut:O,setSearchedDataOut:V,tableCustomFields:[],access:Z,onClose:onclose,addBtn:!1,exportColumn:!1,setIsImport:R,selectedValues:p,setSelectedValues:g,setDelete:Q,deleteMany:!1,AdvanceSearch:!1,getTagValuesOutSide:j,searchboxOutside:T,setGetTagValuesOutside:_,setSearchboxOutside:q,handleSearchType:"QuotesSearch"}),(0,y.jsx)(C,{advanceSearch:f,setAdvanceSearch:S,setSearchedData:V,setDisplaySearchData:G,allData:null!==I&&void 0!==I?I:[],setAction:l,setGetTagValues:_,setSearchbox:q}),(0,y.jsx)(m.A,{isOpen:r,size:"lg",onClose:h,setAction:l,type:E,selectedId:B}),(0,y.jsx)(D.A,{isOpen:L,onClose:()=>Q(!1),type:"Quotes",handleDeleteData:async e=>{try{z(!0);let a=await(0,s.Vn)("api/quotes/deleteMany",e);200===(null===a||void 0===a?void 0:a.status)&&(b.oR.success("Quotes Delete successfully"),g([]),Q(!1),l((e=>!e)))}catch(a){console.log(a),b.oR.error("server error")}finally{z(!1)}},ids:p}),(0,y.jsx)(N,{text:"Quotes file",isOpen:Y,onClose:R,customFields:[{name:"quoteNumber",label:"Quote Number",type:"number",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"669508bc20a9be3594c8652f"},{name:"",value:"",_id:"669508bc20a9be3594c86530"}],validation:[{require:!0,message:"Quote Number is required",_id:"669508bc20a9be3594c86531"},{min:!1,value:"",message:"",_id:"669508bc20a9be3594c86532"},{max:!1,value:"",message:"",_id:"669508bc20a9be3594c86533"},{value:"",message:"",match:!1,_id:"669508bc20a9be3594c86534"},{message:"",formikType:"",_id:"669508bc20a9be3594c86535"}],_id:"669508bc20a9be3594c8652e"},{name:"title",label:"Title",type:"text",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"669508f820a9be3594c8686c"},{name:"",value:"",_id:"669508f820a9be3594c8686d"}],validation:[{require:!0,message:"Title is required ",_id:"669508f820a9be3594c8686e"},{min:!1,value:"",message:"",_id:"669508f820a9be3594c8686f"},{max:!1,value:"",message:"",_id:"669508f820a9be3594c86870"},{value:"",message:"",match:!1,_id:"669508f820a9be3594c86871"},{message:"",formikType:"",_id:"669508f820a9be3594c86872"}],_id:"669508f820a9be3594c8686b"},{name:"quoteStage",label:"Quote Stage",type:"select",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"Draft",value:"Draft",_id:"6695095120a9be3594c86bc1"},{name:"Negotiation",value:"Negotiation",_id:"6695095120a9be3594c86bc2"},{name:"Delivered",value:"Delivered",_id:"6695095120a9be3594c86bc3"},{name:"On Hold",value:"On Hold",_id:"6695095120a9be3594c86bc4"},{name:"Confirmed",value:"Confirmed",_id:"6695095120a9be3594c86bc5"},{name:"Closed Accepted",value:"Closed Accepted",_id:"6695095120a9be3594c86bc6"},{name:"Closed Lost",value:"Closed Lost",_id:"6695095120a9be3594c86bc7"},{name:"Closed Dead",value:"Closed Dead",_id:"6695095120a9be3594c86bc8"}],validation:[{require:!1,message:"",_id:"6695095120a9be3594c86bc9"},{min:!1,value:"",message:"",_id:"6695095120a9be3594c86bca"},{max:!1,value:"",message:"",_id:"6695095120a9be3594c86bcb"},{value:"",message:"",match:!1,_id:"6695095120a9be3594c86bcc"},{message:"",formikType:"",_id:"6695095120a9be3594c86bcd"}],_id:"6695095120a9be3594c86bc0"},{name:"contact",label:"Contact",type:"text",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"6695099520a9be3594c86f46"},{name:"",value:"",_id:"6695099520a9be3594c86f47"}],validation:[{require:!1,message:"",_id:"6695099520a9be3594c86f48"},{min:!1,value:"",message:"",_id:"6695099520a9be3594c86f49"},{max:!1,value:"",message:"",_id:"6695099520a9be3594c86f4a"},{value:"",message:"",match:!1,_id:"6695099520a9be3594c86f4b"},{message:"",formikType:"",_id:"6695099520a9be3594c86f4c"}],_id:"6695099520a9be3594c86f45"},{name:"account",label:"Account",type:"text",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"669509a320a9be3594c872dd"},{name:"",value:"",_id:"669509a320a9be3594c872de"}],validation:[{require:!1,message:"",_id:"669509a320a9be3594c872df"},{min:!1,value:"",message:"",_id:"669509a320a9be3594c872e0"},{max:!1,value:"",message:"",_id:"669509a320a9be3594c872e1"},{value:"",message:"",match:!1,_id:"669509a320a9be3594c872e2"},{message:"",formikType:"",_id:"669509a320a9be3594c872e3"}],_id:"669509a320a9be3594c872dc"},{name:"grandTotal",label:"Grand Total",type:"number",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"669509b120a9be3594c8768c"},{name:"",value:"",_id:"669509b120a9be3594c8768d"}],validation:[{require:!1,message:"",_id:"669509b120a9be3594c8768e"},{min:!1,value:"",message:"",_id:"669509b120a9be3594c8768f"},{max:!1,value:"",message:"",_id:"669509b120a9be3594c87690"},{value:"",message:"",match:!1,_id:"669509b120a9be3594c87691"},{message:"",formikType:"",_id:"669509b120a9be3594c87692"}],_id:"669509b120a9be3594c8768b"},{name:"validUntil",label:"Valid Until",type:"date",fixed:!1,isDefault:!1,delete:!1,belongsTo:null,backendType:"Mixed",isTableField:!1,isView:!1,options:[{name:"",value:"",_id:"669509d320a9be3594c87a53"},{name:"",value:"",_id:"669509d320a9be3594c87a54"}],validation:[{require:!1,message:"",_id:"669509d320a9be3594c87a55"},{min:!1,value:"",message:"",_id:"669509d320a9be3594c87a56"},{max:!1,value:"",message:"",_id:"669509d320a9be3594c87a57"},{value:"",message:"",match:!1,_id:"669509d320a9be3594c87a58"},{message:"",formikType:"date",_id:"669509d320a9be3594c87a59"}],_id:"669509d320a9be3594c87a52"}]})]})}},3848:(e,a,l)=>{l.d(a,{A:()=>c});var t=l(1206),i=l(4450),o=l(3458),n=l(1997),s=l(7149),d=l(579);function c(e){const{count:a,text:l,onFileSelect:c}=e,r=(0,t.dU)("secondaryGray.900","white"),u=(0,t.dU)("brand.500","white");return(0,d.jsxs)(i.Grid,{templateColumns:"repeat(12, 1fr)",gap:2,children:[(0,d.jsx)(i.GridItem,{colSpan:{base:12},children:(0,d.jsx)(n.A,{w:{base:"100%"},me:"36px",minH:200,img:"Property Photos"===l?"img":"",csv:"csv",height:"100%",onFileSelect:c,isMultipleAllow:!1,content:(0,d.jsxs)(i.Box,{children:[(0,d.jsx)(o.In,{as:s.vpy,w:"80px",h:"80px",color:u}),(0,d.jsx)(i.Flex,{justify:"center",mx:"auto",mb:"12px",children:(0,d.jsx)(i.Text,{fontSize:"xl",fontWeight:"700",color:u,children:"Upload File"})}),a>0&&(0,d.jsxs)(i.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:["Selected Files : ",a]})]})})}),(0,d.jsx)(i.GridItem,{colSpan:{base:12},children:(0,d.jsxs)(i.Flex,{direction:"column",children:[(0,d.jsxs)(i.Text,{color:r,fontWeight:"bold",textAlign:"start",fontSize:"2xl",mt:{base:"20px"},children:["Upload ",l]}),(0,d.jsx)(i.Text,{color:"gray.400",fontSize:"md",my:{base:"auto"},mx:"auto",textAlign:"start",children:"Accepted File Type (csv, xlsx file - 15MB max) only 1 file"})]})})]})}}}]);
//# sourceMappingURL=2756.d602ce60.chunk.js.map