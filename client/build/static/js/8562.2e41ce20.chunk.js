"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[8562],{8562:(e,l,o)=>{o.r(l),o.d(l,{default:()=>W});var i=o(9754),n=o(4450),d=o(5376),t=o(2554),r=o(7682),u=o(4626),s=o(4034),a=o(5043),v=o(6178),c=o.n(v),p=o(3216),x=o(5475),h=o(216),m=o(4960),j=o(5574),b=o(3994),y=o(2412),g=o(8177),S=o(9621),C=o(5369),f=o(74),A=o.n(f),D=o(1251),I=o(3516),k=o(446),T=o.n(k),N=o(2145),w=o(579);const W=e=>{var l,o,v,f,k,W,F,B,G,O,z,P,E,M,U,Y,R,_,V,$,L,Q,H,J,q,Z,K,X,ee,le,oe,ie,ne,de,te,re,ue,se,ae,ve,ce,pe,xe,he,me,je,be,ye,ge,Se,Ce,fe,Ae,De,Ie,ke,Te,Ne,we,We,Fe,Be,Ge,Oe,ze,Pe,Ee,Me,Ue,Ye,Re,_e,Ve,$e,Le,Qe,He,Je,qe;const Ze=(0,p.g)(),{id:Ke}=Ze,Xe=JSON.parse(localStorage.getItem("user")),[el,ll]=(0,j.h)(["Opportunities","Account"]),[ol,il]=(0,a.useState)(),{onOpen:nl,onClose:dl}=(0,i.j1)(),[tl,rl]=(0,a.useState)(!1),[ul,sl]=(0,a.useState)(!1),[al,vl]=(0,a.useState)(!1),[cl,pl]=(0,a.useState)(!1),xl=(0,p.Zp)(),[hl,ml]=(0,a.useState)(""),[jl,bl]=(0,a.useState)(null),[yl,gl]=(0,a.useState)(null),Sl=(null===(l=new Date)||void 0===l||null===(o=l.toISOString())||void 0===o||o.split("T")[0],null===(v=new Date)||void 0===v||null===(f=v.toISOString())||void 0===f||f.split(".")[0],async()=>{if(Ke){let e=await(0,S.x4)("api/opportunity/view/",Ke);il(null===e||void 0===e?void 0:e.data)}}),Cl={opportunityName:null===ol||void 0===ol?void 0:ol.opportunityName,accountName:null===ol||void 0===ol?void 0:ol.accountName,assignUser:null===ol||void 0===ol?void 0:ol.assignUser,type:null===ol||void 0===ol?void 0:ol.type,leadSource:null===ol||void 0===ol?void 0:ol.leadSource,currency:null===ol||void 0===ol?void 0:ol.currency,opportunityAmount:null===ol||void 0===ol?void 0:ol.opportunityAmount,amount:null===ol||void 0===ol?void 0:ol.amount,expectedCloseDate:null===ol||void 0===ol?void 0:ol.expectedCloseDate,nextStep:null===ol||void 0===ol?void 0:ol.nextStep,salesStage:null===ol||void 0===ol?void 0:ol.salesStage,probability:null===ol||void 0===ol?void 0:ol.probability,description:null===ol||void 0===ol?void 0:ol.description,modifiedBy:JSON.parse(localStorage.getItem("user"))._id},fl=(0,I.Wx)({initialValues:Cl,validationSchema:D._,enableReinitialize:!0,onSubmit:async(e,l)=>{let{resetForm:o}=l;bl(null);const i={...e,modifiedDate:new Date};let n=await(0,S.yP)(`api/opportunity/edit/${Ke}`,i);200===(null===n||void 0===n?void 0:n.status)?(Sl(),N.oR.success(`${yl} Update successfully`)):N.oR.error(`${yl} not Update`)}}),Al=(e,l,o)=>{fl.setFieldValue(e,l),bl(e),gl(o)},Dl=e=>{fl.handleSubmit()};return(0,a.useEffect)((()=>{Sl()}),[Ke,tl]),(0,w.jsxs)("div",{children:[(0,w.jsxs)(n.Grid,{templateColumns:"repeat(4, 1fr)",gap:3,id:"reports",children:[(0,w.jsx)(n.GridItem,{colSpan:{base:4},children:(0,w.jsx)(n.Heading,{size:"lg",m:3,children:(null===ol||void 0===ol?void 0:ol.opportunityName)||""})}),(0,w.jsx)(n.GridItem,{colSpan:{base:4},children:(0,w.jsx)(h.A,{children:(0,w.jsxs)(n.Grid,{gap:4,children:[(0,w.jsx)(n.GridItem,{colSpan:2,children:(0,w.jsxs)(n.Box,{children:[(0,w.jsx)(n.Box,{display:"flex",justifyContent:"space-between",children:(0,w.jsxs)(n.Flex,{id:"hide-btn",children:[(0,w.jsx)(n.Heading,{size:"md",mb:3,children:"Opportunities Details"}),(0,w.jsxs)(d.W1,{children:[("superAdmin"===Xe.role||(null===el||void 0===el?void 0:el.create)||(null===el||void 0===el?void 0:el.update)||(null===el||void 0===el?void 0:el.delete))&&(0,w.jsx)(d.IU,{variant:"outline",colorScheme:"blackAlpha",size:"sm",va:!0,mr:2.5,as:t.Button,rightIcon:(0,w.jsx)(s.ChevronDownIcon,{}),children:"Actions"}),(0,w.jsx)(d.Nj,{}),(0,w.jsxs)(d.cO,{minWidth:2,children:[("superAdmin"===(null===Xe||void 0===Xe?void 0:Xe.role)||(null===el||void 0===el?void 0:el.create))&&(0,w.jsx)(d.Dr,{onClick:()=>{rl(!0),ml("add"),fl.resetForm()},alignItems:"start",color:"blue",icon:(0,w.jsx)(s.AddIcon,{}),children:"Add"}),("superAdmin"===(null===Xe||void 0===Xe?void 0:Xe.role)||(null===el||void 0===el?void 0:el.update))&&(0,w.jsx)(d.Dr,{onClick:()=>{rl(!0),ml("edit")},alignItems:"start",icon:(0,w.jsx)(s.EditIcon,{}),children:"Edit"}),(0,w.jsx)(d.Dr,{onClick:()=>{pl(!0);const e=document.getElementById("reports"),l=document.getElementById("hide-btn");e?(l.style.display="none",A()().from(e).set({margin:[0,0,0,0],filename:`Opportunities_Details_${c()().format("DD-MM-YYYY")}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,allowTaint:!0},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).save().then((()=>{pl(!1),l.style.display=""}))):(console.error("Element with ID 'reports' not found."),pl(!1))},alignItems:"start",icon:(0,w.jsx)(C.kl1,{}),display:"flex",style:{alignItems:"center"},children:"Print as PDF"}),("superAdmin"===(null===Xe||void 0===Xe?void 0:Xe.role)||(null===el||void 0===el?void 0:el.delete))&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(d.Nj,{}),(0,w.jsx)(d.Dr,{alignItems:"start",onClick:()=>vl(!0),color:"red",icon:(0,w.jsx)(s.DeleteIcon,{}),children:"Delete"})]})]})]}),(0,w.jsx)(t.Button,{leftIcon:(0,w.jsx)(m.m6W,{}),size:"sm",variant:"brand",onClick:()=>xl(-1),children:"Back"})]})}),(0,w.jsx)(b.E,{})]})}),(0,w.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,w.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Opportunity Name"," "]}),"opportunityName"===jl?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(r.Input,{id:"text",name:"opportunityName",type:"text",onChange:null===fl||void 0===fl?void 0:fl.handleChange,onBlur:Dl,value:null===fl||void 0===fl||null===(k=fl.values)||void 0===k?void 0:k.opportunityName,borderColor:null!==fl&&void 0!==fl&&null!==(W=fl.errors)&&void 0!==W&&W.opportunityName&&null!==fl&&void 0!==fl&&null!==(F=fl.touched)&&void 0!==F&&F.opportunityName?"red.300":null,autoFocus:!0}),(0,w.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===fl||void 0===fl||null===(B=fl.errors)||void 0===B?void 0:B.opportunityName)&&(null===fl||void 0===fl||null===(G=fl.touched)||void 0===G?void 0:G.opportunityName)&&(null===fl||void 0===fl||null===(O=fl.errors)||void 0===O?void 0:O.opportunityName)]})]}):(0,w.jsx)(n.Text,{onDoubleClick:()=>Al("opportunityName",null===ol||void 0===ol?void 0:ol.opportunityName,"Opportunity Name"),children:null!==ol&&void 0!==ol&&ol.opportunityName?null===ol||void 0===ol?void 0:ol.opportunityName:" - "})]}),(0,w.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,w.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Account Name"," "]}),null!==ol&&void 0!==ol&&ol.accountName?(0,w.jsx)(x.N_,{to:(null===ll||void 0===ll?void 0:ll.view)&&`/accountView/${null===ol||void 0===ol?void 0:ol.accountName}`,children:(0,w.jsx)(n.Text,{color:null!==ll&&void 0!==ll&&ll.view?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:null!==ll&&void 0!==ll&&ll.view?"blue.500":"blackAlpha.900",textDecoration:null!==ll&&void 0!==ll&&ll.view?"underline":"none"}},style:{cursor:"pointer"},children:null!==ol&&void 0!==ol&&ol.accountName2?null===ol||void 0===ol?void 0:ol.accountName2:" - "})}):(0,w.jsx)(n.Text,{color:null!==ll&&void 0!==ll&&ll.view?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:null!==ll&&void 0!==ll&&ll.view?"blue.500":"blackAlpha.900",textDecoration:null!==ll&&void 0!==ll&&ll.view?"underline":"none"}},children:null!==ol&&void 0!==ol&&ol.accountName2?null===ol||void 0===ol?void 0:ol.accountName2:" - "})]}),(0,w.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,w.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Assigned User"," "]}),null!==ol&&void 0!==ol&&ol.assignUser?(0,w.jsx)(x.N_,{to:"superAdmin"===(null===Xe||void 0===Xe?void 0:Xe.role)&&`/userView/${null===ol||void 0===ol?void 0:ol.assignUser}`,children:(0,w.jsx)(n.Text,{color:"superAdmin"===(null===Xe||void 0===Xe?void 0:Xe.role)?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:"superAdmin"===(null===Xe||void 0===Xe?void 0:Xe.role)?"blue.500":"blackAlpha.900",textDecoration:"superAdmin"===(null===Xe||void 0===Xe?void 0:Xe.role)?"underline":"none"}},style:{cursor:"pointer"},children:null!==ol&&void 0!==ol&&ol.assignUserName?null===ol||void 0===ol?void 0:ol.assignUserName:" - "})}):(0,w.jsx)(n.Text,{color:"superAdmin"===(null===Xe||void 0===Xe?void 0:Xe.role)?"blue.500":"blackAlpha.900",sx:{"&:hover":{color:"superAdmin"===(null===Xe||void 0===Xe?void 0:Xe.role)?"blue.500":"blackAlpha.900",textDecoration:"superAdmin"===(null===Xe||void 0===Xe?void 0:Xe.role)?"underline":"none"}},children:null!==ol&&void 0!==ol&&ol.assignUserName?null===ol||void 0===ol?void 0:ol.assignUserName:" - "})]}),(0,w.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,w.jsx)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:"Type"}),"type"===jl?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(u.l6,{value:null===fl||void 0===fl||null===(z=fl.values)||void 0===z?void 0:z.type,name:"type",onChange:fl.handleChange,onBlur:Dl,mb:null!==fl&&void 0!==fl&&null!==(P=fl.errors)&&void 0!==P&&P.type&&null!==fl&&void 0!==fl&&null!==(E=fl.touched)&&void 0!==E&&E.type?void 0:"10px",fontWeight:"500",placeholder:"Type",borderColor:null!==fl&&void 0!==fl&&null!==(M=fl.errors)&&void 0!==M&&M.type&&null!==fl&&void 0!==fl&&null!==(U=fl.touched)&&void 0!==U&&U.type?"red.300":null,children:[(0,w.jsx)("option",{value:"Existing Bussiness",children:"Existing Bussiness"}),(0,w.jsx)("option",{value:"New Bussiness",children:"New Bussiness"})]}),(0,w.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===fl||void 0===fl||null===(Y=fl.errors)||void 0===Y?void 0:Y.type)&&(null===fl||void 0===fl||null===(R=fl.touched)||void 0===R?void 0:R.type)&&(null===fl||void 0===fl||null===(_=fl.errors)||void 0===_?void 0:_.type)]})]}):(0,w.jsx)(n.Text,{onDoubleClick:()=>Al("type",null===ol||void 0===ol?void 0:ol.type,"Type"),children:null!==ol&&void 0!==ol&&ol.type?null===ol||void 0===ol?void 0:ol.type:" - "})]}),(0,w.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,w.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Lead Source"]}),"leadSource"===jl?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(u.l6,{value:null===fl||void 0===fl||null===(V=fl.values)||void 0===V?void 0:V.leadSource,name:"leadSource",onChange:null===fl||void 0===fl?void 0:fl.handleChange,onBlur:Dl,mb:null!==fl&&void 0!==fl&&null!==($=fl.errors)&&void 0!==$&&$.leadSource&&null!==fl&&void 0!==fl&&null!==(L=fl.touched)&&void 0!==L&&L.leadSource?void 0:"10px",fontWeight:"500",placeholder:"Lead Source",borderColor:null!==fl&&void 0!==fl&&null!==(Q=fl.errors)&&void 0!==Q&&Q.leadSource&&null!==fl&&void 0!==fl&&null!==(H=fl.touched)&&void 0!==H&&H.leadSource?"red.300":null,children:[(0,w.jsx)("option",{value:"Cold Call",children:"Cold Call"}),(0,w.jsx)("option",{value:"Existing Customer",children:"Existing Customer"}),(0,w.jsx)("option",{value:"Self Generated",children:"Self Generated"}),(0,w.jsx)("option",{value:"Employee",children:"Employee"}),(0,w.jsx)("option",{value:"Partner",children:"Partner"}),(0,w.jsx)("option",{value:"Public Relation",children:"Public Relation"}),(0,w.jsx)("option",{value:"Direct Mail",children:"Direct Mail"}),(0,w.jsx)("option",{value:"Conference",children:"Conference"}),(0,w.jsx)("option",{value:"Trade Show",children:"Trade Show"}),(0,w.jsx)("option",{value:"Web Site",children:"Web Site"}),(0,w.jsx)("option",{value:"Word Of Mouth",children:"Word Of Mouth"}),(0,w.jsx)("option",{value:"Email",children:"Email"}),(0,w.jsx)("option",{value:"Other",children:"Other"})]}),(0,w.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===fl||void 0===fl||null===(J=fl.errors)||void 0===J?void 0:J.leadSource)&&(null===fl||void 0===fl||null===(q=fl.touched)||void 0===q?void 0:q.leadSource)&&(null===fl||void 0===fl||null===(Z=fl.errors)||void 0===Z?void 0:Z.leadSource)]})]}):(0,w.jsx)(n.Text,{onDoubleClick:()=>Al("leadSource",null===ol||void 0===ol?void 0:ol.leadSource,"Lead Source"),children:null!==ol&&void 0!==ol&&ol.leadSource?null===ol||void 0===ol?void 0:ol.leadSource:" - "})]}),(0,w.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,w.jsx)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:"Currency"}),"currency"===jl?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(u.l6,{value:null===fl||void 0===fl||null===(K=fl.values)||void 0===K?void 0:K.currency,name:"currency",onChange:null===fl||void 0===fl?void 0:fl.handleChange,onBlur:Dl,mb:null!==fl&&void 0!==fl&&null!==(X=fl.errors)&&void 0!==X&&X.currency&&null!==fl&&void 0!==fl&&null!==(ee=fl.touched)&&void 0!==ee&&ee.currency?void 0:"10px",fontWeight:"500",placeholder:"Select Currency",borderColor:null!==fl&&void 0!==fl&&null!==(le=fl.errors)&&void 0!==le&&le.currency&&null!==fl&&void 0!==fl&&null!==(oe=fl.touched)&&void 0!==oe&&oe.currency?"red.300":null,children:(0,w.jsx)("option",{value:"$",children:"USD"})}),(0,w.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===fl||void 0===fl||null===(ie=fl.errors)||void 0===ie?void 0:ie.currency)&&(null===fl||void 0===fl||null===(ne=fl.touched)||void 0===ne?void 0:ne.currency)&&(null===fl||void 0===fl||null===(de=fl.errors)||void 0===de?void 0:de.currency)]})]}):(0,w.jsx)(n.Text,{onDoubleClick:()=>Al("currency",null===ol||void 0===ol?void 0:ol.currency,"Currency"),children:null!==ol&&void 0!==ol&&ol.currency?null===ol||void 0===ol?void 0:ol.currency:" - "})]}),(0,w.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,w.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Opportunity Amount"]}),"opportunityAmount"===jl?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(r.Input,{id:"text",name:"opportunityAmount",type:"number",onChange:null===fl||void 0===fl?void 0:fl.handleChange,onBlur:Dl,value:null===fl||void 0===fl||null===(te=fl.values)||void 0===te?void 0:te.opportunityAmount,autoFocus:!0,borderColor:null!==fl&&void 0!==fl&&null!==(re=fl.errors)&&void 0!==re&&re.opportunityAmount&&null!==fl&&void 0!==fl&&null!==(ue=fl.touched)&&void 0!==ue&&ue.opportunityAmount?"red.300":null}),(0,w.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===fl||void 0===fl||null===(se=fl.errors)||void 0===se?void 0:se.opportunityAmount)&&(null===fl||void 0===fl||null===(ae=fl.touched)||void 0===ae?void 0:ae.opportunityAmount)&&(null===fl||void 0===fl||null===(ve=fl.errors)||void 0===ve?void 0:ve.opportunityAmount)]})]}):(0,w.jsx)(n.Text,{onDoubleClick:()=>Al("opportunityAmount",null===ol||void 0===ol?void 0:ol.opportunityAmount,"Opportunity Amount"),children:null!==ol&&void 0!==ol&&ol.opportunityAmount?null===ol||void 0===ol?void 0:ol.opportunityAmount:" - "})]}),(0,w.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,w.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Amount"]}),"amount"===jl?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(r.Input,{id:"text",name:"amount",type:"number",onChange:null===fl||void 0===fl?void 0:fl.handleChange,onBlur:Dl,value:null===fl||void 0===fl||null===(ce=fl.values)||void 0===ce?void 0:ce.amount,autoFocus:!0,borderColor:null!==fl&&void 0!==fl&&null!==(pe=fl.errors)&&void 0!==pe&&pe.amount&&null!==fl&&void 0!==fl&&null!==(xe=fl.touched)&&void 0!==xe&&xe.amount?"red.300":null}),(0,w.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===fl||void 0===fl?void 0:fl.errors.amount)&&(null===fl||void 0===fl?void 0:fl.touched.amount)&&(null===fl||void 0===fl?void 0:fl.errors.amount)]})]}):(0,w.jsx)(n.Text,{onDoubleClick:()=>Al("amount",null===ol||void 0===ol?void 0:ol.amount,"Amount"),children:null!==ol&&void 0!==ol&&ol.amount?null===ol||void 0===ol?void 0:ol.amount:" - "})]}),(0,w.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,w.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Expected Close Date"]}),"expectedCloseDate"===jl?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(r.Input,{id:"text",name:"expectedCloseDate",type:"date",onChange:null===fl||void 0===fl?void 0:fl.handleChange,onBlur:Dl,value:null===(he=T()(null===fl||void 0===fl||null===(me=fl.values)||void 0===me?void 0:me.expectedCloseDate))||void 0===he?void 0:he.format("YYYY-MM-DD"),autoFocus:!0,borderColor:null!==fl&&void 0!==fl&&null!==(je=fl.errors)&&void 0!==je&&je.expectedCloseDate&&null!==fl&&void 0!==fl&&null!==(be=fl.touched)&&void 0!==be&&be.expectedCloseDate?"red.300":null}),(0,w.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===fl||void 0===fl||null===(ye=fl.errors)||void 0===ye?void 0:ye.expectedCloseDate)&&(null===fl||void 0===fl||null===(ge=fl.touched)||void 0===ge?void 0:ge.expectedCloseDate)&&(null===fl||void 0===fl||null===(Se=fl.errors)||void 0===Se?void 0:Se.expectedCloseDate)]})]}):(0,w.jsx)(n.Text,{onDoubleClick:()=>Al("expectedCloseDate",null===ol||void 0===ol?void 0:ol.expectedCloseDate,"Expected Close Date"),children:null!==ol&&void 0!==ol&&ol.expectedCloseDate?null===(Ce=T()(null===ol||void 0===ol?void 0:ol.expectedCloseDate))||void 0===Ce?void 0:Ce.format("YYYY-MM-DD"):" - "})]}),(0,w.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,w.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Next Step"]}),"nextStep"===jl?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(r.Input,{id:"text",name:"nextStep",type:"text",onChange:null===fl||void 0===fl?void 0:fl.handleChange,onBlur:Dl,value:null===fl||void 0===fl||null===(fe=fl.values)||void 0===fe?void 0:fe.nextStep,autoFocus:!0,borderColor:null!==fl&&void 0!==fl&&null!==(Ae=fl.errors)&&void 0!==Ae&&Ae.nextStep&&null!==fl&&void 0!==fl&&null!==(De=fl.touched)&&void 0!==De&&De.nextStep?"red.300":null}),(0,w.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===fl||void 0===fl||null===(Ie=fl.errors)||void 0===Ie?void 0:Ie.nextStep)&&(null===fl||void 0===fl||null===(ke=fl.touched)||void 0===ke?void 0:ke.nextStep)&&(null===fl||void 0===fl||null===(Te=fl.errors)||void 0===Te?void 0:Te.nextStep)]})]}):(0,w.jsx)(n.Text,{onDoubleClick:()=>Al("nextStep",null===ol||void 0===ol?void 0:ol.nextStep,"Next Step"),children:null!==ol&&void 0!==ol&&ol.nextStep?null===ol||void 0===ol?void 0:ol.nextStep:" - "})]}),(0,w.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,w.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Sales Stage"]}),"salesStage"===jl?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(u.l6,{value:null===fl||void 0===fl||null===(Ne=fl.values)||void 0===Ne?void 0:Ne.salesStage,name:"salesStage",onChange:null===fl||void 0===fl?void 0:fl.handleChange,onBlur:Dl,mb:null!==fl&&void 0!==fl&&null!==(we=fl.errors)&&void 0!==we&&we.salesStage&&null!==fl&&void 0!==fl&&null!==(We=fl.touched)&&void 0!==We&&We.salesStage?void 0:"10px",fontWeight:"500",placeholder:"Sales Stage",borderColor:null!==fl&&void 0!==fl&&null!==(Fe=fl.errors)&&void 0!==Fe&&Fe.salesStage&&null!==fl&&void 0!==fl&&null!==(Be=fl.touched)&&void 0!==Be&&Be.salesStage?"red.300":null,children:[(0,w.jsx)("option",{value:"Prospecting",children:"Prospecting"}),(0,w.jsx)("option",{value:"Qualification",children:"Qualification"}),(0,w.jsx)("option",{value:"Needs Analysis",children:"Needs Analysis"}),(0,w.jsx)("option",{value:"Value Propositon",children:"Value Propositon"}),(0,w.jsx)("option",{value:"Identifying Decision Makers",children:"Identifying Decision Makers"}),(0,w.jsx)("option",{value:"Perception Analysis",children:"Perception Analysis"}),(0,w.jsx)("option",{value:"Proposal/Price Quote",children:"Proposal/Price Quote"}),(0,w.jsx)("option",{value:"Negotiation/Review",children:"Negotiation/Review"}),(0,w.jsx)("option",{value:"Closed/Won",children:"Closed/Won"}),(0,w.jsx)("option",{value:"Closed/Lost",children:"Closed/Lost"})]}),(0,w.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===fl||void 0===fl||null===(Ge=fl.errors)||void 0===Ge?void 0:Ge.salesStage)&&(null===fl||void 0===fl||null===(Oe=fl.touched)||void 0===Oe?void 0:Oe.salesStage)&&(null===fl||void 0===fl||null===(ze=fl.errors)||void 0===ze?void 0:ze.salesStage)]})]}):(0,w.jsx)(n.Text,{onDoubleClick:()=>Al("salesStage",null===ol||void 0===ol?void 0:ol.salesStage,"Sales Stage"),children:null!==ol&&void 0!==ol&&ol.salesStage?null===ol||void 0===ol?void 0:ol.salesStage:" - "})]}),(0,w.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,w.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Probability"]}),"probability"===jl?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(r.Input,{id:"text",name:"probability",type:"number",onChange:null===fl||void 0===fl?void 0:fl.handleChange,onBlur:Dl,value:null===fl||void 0===fl||null===(Pe=fl.values)||void 0===Pe?void 0:Pe.probability,autoFocus:!0,borderColor:null!==fl&&void 0!==fl&&null!==(Ee=fl.errors)&&void 0!==Ee&&Ee.probability&&null!==fl&&void 0!==fl&&null!==(Me=fl.touched)&&void 0!==Me&&Me.probability?"red.300":null}),(0,w.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===fl||void 0===fl?void 0:fl.errors.probability)&&(null===fl||void 0===fl||null===(Ue=fl.touched)||void 0===Ue?void 0:Ue.probability)&&(null===fl||void 0===fl||null===(Ye=fl.errors)||void 0===Ye?void 0:Ye.probability)]})]}):(0,w.jsx)(n.Text,{onDoubleClick:()=>Al("probability",null===ol||void 0===ol?void 0:ol.probability,"Probability"),children:null!==ol&&void 0!==ol&&ol.probability?null===ol||void 0===ol?void 0:ol.probability:" - "})]}),(0,w.jsxs)(n.GridItem,{colSpan:{base:2,md:1},children:[(0,w.jsxs)(n.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:[" ","Description"]}),"description"===jl?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(r.Input,{id:"text",name:"description",type:"text",onChange:null===fl||void 0===fl?void 0:fl.handleChange,onBlur:Dl,value:null===fl||void 0===fl||null===(Re=fl.values)||void 0===Re?void 0:Re.description,autoFocus:!0,borderColor:null!==fl&&void 0!==fl&&null!==(_e=fl.errors)&&void 0!==_e&&_e.description&&null!==fl&&void 0!==fl&&null!==(Ve=fl.touched)&&void 0!==Ve&&Ve.description?"red.300":null}),(0,w.jsxs)(n.Text,{mb:"10px",color:"red",children:[" ",(null===fl||void 0===fl||null===($e=fl.errors)||void 0===$e?void 0:$e.description)&&(null===fl||void 0===fl||null===(Le=fl.touched)||void 0===Le?void 0:Le.description)&&(null===fl||void 0===fl||null===(Qe=fl.errors)||void 0===Qe?void 0:Qe.description)]})]}):(0,w.jsx)(n.Text,{onDoubleClick:()=>Al("description",null===ol||void 0===ol?void 0:ol.description,"Description"),children:null!==ol&&void 0!==ol&&ol.description?null===ol||void 0===ol?void 0:ol.description:" - "})]})]})})})]}),((null===el||void 0===el?void 0:el.update)||(null===el||void 0===el?void 0:el.delete)||"superAdmin"===(null===Xe||void 0===Xe?void 0:Xe.role))&&(0,w.jsx)(h.A,{mt:3,children:(0,w.jsx)(n.Grid,{templateColumns:"repeat(6, 1fr)",gap:1,children:(0,w.jsx)(n.GridItem,{colStart:6,children:(0,w.jsxs)(n.Flex,{justifyContent:"right",children:[((null===el||void 0===el?void 0:el.update)||"superAdmin"===(null===Xe||void 0===Xe?void 0:Xe.role))&&(0,w.jsx)(t.Button,{size:"sm",onClick:()=>{rl(!0),ml("edit")},leftIcon:(0,w.jsx)(s.EditIcon,{}),mr:2.5,variant:"outline",colorScheme:"green",children:"Edit"}),((null===el||void 0===el?void 0:el.delete)||"superAdmin"===(null===Xe||void 0===Xe?void 0:Xe.role))&&(0,w.jsx)(t.Button,{size:"sm",style:{background:"red.800"},onClick:()=>vl(!0),leftIcon:(0,w.jsx)(s.DeleteIcon,{}),colorScheme:"red",children:"Delete"})]})})})}),(0,w.jsx)(y.A,{isOpen:tl,size:"lg",onClose:()=>rl(!1),viewClose:dl,selectedId:null!==Ke&&void 0!==Ke&&Ke.event?null===Ke||void 0===Ke||null===(He=Ke.event)||void 0===He||null===(Je=He._def)||void 0===Je||null===(qe=Je.extendedProps)||void 0===qe?void 0:qe._id:Ke,type:hl}),(0,w.jsx)(g.A,{isOpen:al,onClose:()=>vl(!1),type:"Opportunities",handleDeleteData:async e=>{try{let l=await(0,S.Vn)("api/opportunities/deleteMany",e);200===(null===l||void 0===l?void 0:l.status)&&(xl("/opportunities"),N.oR.success("Opprtunities Delete successfully"),vl(!1))}catch(l){console.log(l),N.oR.error("server error")}},ids:[Ke]})]})}}}]);
//# sourceMappingURL=8562.2e41ce20.chunk.js.map