(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[153],{265:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var i=n(4034),l=n(9942),o=n(2554),s=n(9488),r=n(3516),a=n(5043),d=n(9621),u=n(2030),c=n(8908),v=n(899),h=n(579);const f=e=>{var t,n,f;const[m,x]=(0,a.useState)(!1),p={...null===Object||void 0===Object?void 0:Object.fromEntries(null===(t=(null===e||void 0===e||null===(n=e.contactData)||void 0===n?void 0:n.fields)||[])||void 0===t?void 0:t.map((e=>[null===e||void 0===e?void 0:e.name,""]))),createBy:JSON.parse(localStorage.getItem("user"))._id},j=(0,r.Wx)({initialValues:p,validationSchema:v.object().shape((0,u.g)(null===e||void 0===e||null===(f=e.contactData)||void 0===f?void 0:f.fields)),onSubmit:(e,t)=>{let{resetForm:n}=t;w(),n()}}),{errors:y,touched:S,values:g,handleBlur:$,handleChange:b,handleSubmit:D,setFieldValue:C}=j,w=async()=>{try{var t;x(!0);let n=await(0,d.d_)("api/form/add",{...g,moduleId:null===e||void 0===e||null===(t=e.contactData)||void 0===t?void 0:t._id});200===(null===n||void 0===n?void 0:n.status)&&(e.onClose(),e.setAction((e=>!e)))}catch(n){console.log(n)}finally{x(!1)}};return(0,h.jsx)("div",{children:(0,h.jsxs)(l._s,{isOpen:null===e||void 0===e?void 0:e.isOpen,size:null===e||void 0===e?void 0:e.size,children:[(0,h.jsx)(l.QP,{}),(0,h.jsxs)(l.zj,{children:[(0,h.jsxs)(l.BE,{alignItems:"center",justifyContent:"space-between",display:"flex",children:["Add Contact",(0,h.jsx)(o.IconButton,{onClick:null===e||void 0===e?void 0:e.onClose,icon:(0,h.jsx)(i.CloseIcon,{})})]}),(0,h.jsx)(l.ys,{children:(0,h.jsx)(c.A,{moduleData:null===e||void 0===e?void 0:e.contactData,values:g,setFieldValue:C,handleChange:b,handleBlur:$,errors:y,touched:S})}),(0,h.jsxs)(l.tb,{children:[(0,h.jsx)(o.Button,{sx:{textTransform:"capitalize"},variant:"brand",disabled:!!m,type:"submit",size:"sm",onClick:D,children:m?(0,h.jsx)(s.A,{}):"Save"}),(0,h.jsx)(o.Button,{variant:"outline",colorScheme:"red",size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},onClick:()=>{j.resetForm(),e.onClose()},children:"Close"})]})]})]})})}},446:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,i="millisecond",l="second",o="minute",s="hour",r="day",a="week",d="month",u="quarter",c="year",v="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},p=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},j={s:p,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),l=n%60;return(t<=0?"+":"-")+p(i,2,"0")+":"+p(l,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),l=t.clone().add(i,d),o=n-l<0,s=t.clone().add(i+(o?-1:1),d);return+(-(i+(n-l)/(o?l-s:s-l))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:d,y:c,w:a,d:r,D:v,h:s,m:o,s:l,ms:i,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",S={};S[y]=x;var g="$isDayjsObject",$=function(e){return e instanceof w||!(!e||!e[g])},b=function e(t,n,i){var l;if(!t)return y;if("string"==typeof t){var o=t.toLowerCase();S[o]&&(l=o),n&&(S[o]=n,l=o);var s=t.split("-");if(!l&&s.length>1)return e(s[0])}else{var r=t.name;S[r]=t,l=r}return!i&&l&&(y=l),l||!i&&y},D=function(e,t){if($(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new w(n)},C=j;C.l=b,C.i=$,C.w=function(e,t){return D(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var w=function(){function x(e){this.$L=b(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[g]=!0}var p=x.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(f);if(i){var l=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],l,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],l,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return C},p.isValid=function(){return!(this.$d.toString()===h)},p.isSame=function(e,t){var n=D(e);return this.startOf(t)<=n&&n<=this.endOf(t)},p.isAfter=function(e,t){return D(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<D(e)},p.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,t){var n=this,i=!!C.u(t)||t,u=C.p(e),h=function(e,t){var l=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?l:l.endOf(r)},f=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,x=this.$M,p=this.$D,j="set"+(this.$u?"UTC":"");switch(u){case c:return i?h(1,0):h(31,11);case d:return i?h(1,x):h(0,x+1);case a:var y=this.$locale().weekStart||0,S=(m<y?m+7:m)-y;return h(i?p-S:p+(6-S),x);case r:case v:return f(j+"Hours",0);case s:return f(j+"Minutes",1);case o:return f(j+"Seconds",2);case l:return f(j+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(e,t){var n,a=C.p(e),u="set"+(this.$u?"UTC":""),h=(n={},n[r]=u+"Date",n[v]=u+"Date",n[d]=u+"Month",n[c]=u+"FullYear",n[s]=u+"Hours",n[o]=u+"Minutes",n[l]=u+"Seconds",n[i]=u+"Milliseconds",n)[a],f=a===r?this.$D+(t-this.$W):t;if(a===d||a===c){var m=this.clone().set(v,1);m.$d[h](f),m.init(),this.$d=m.set(v,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[C.p(e)]()},p.add=function(i,u){var v,h=this;i=Number(i);var f=C.p(u),m=function(e){var t=D(h);return C.w(t.date(t.date()+Math.round(e*i)),h)};if(f===d)return this.set(d,this.$M+i);if(f===c)return this.set(c,this.$y+i);if(f===r)return m(1);if(f===a)return m(7);var x=(v={},v[o]=t,v[s]=n,v[l]=e,v)[f]||1,p=this.$d.getTime()+i*x;return C.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var i=e||"YYYY-MM-DDTHH:mm:ssZ",l=C.z(this),o=this.$H,s=this.$m,r=this.$M,a=n.weekdays,d=n.months,u=n.meridiem,c=function(e,n,l,o){return e&&(e[n]||e(t,i))||l[n].slice(0,o)},v=function(e){return C.s(o%12||12,e,"0")},f=u||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(m,(function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return C.s(t.$y,4,"0");case"M":return r+1;case"MM":return C.s(r+1,2,"0");case"MMM":return c(n.monthsShort,r,d,3);case"MMMM":return c(d,r);case"D":return t.$D;case"DD":return C.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return c(n.weekdaysMin,t.$W,a,2);case"ddd":return c(n.weekdaysShort,t.$W,a,3);case"dddd":return a[t.$W];case"H":return String(o);case"HH":return C.s(o,2,"0");case"h":return v(1);case"hh":return v(2);case"a":return f(o,s,!0);case"A":return f(o,s,!1);case"m":return String(s);case"mm":return C.s(s,2,"0");case"s":return String(t.$s);case"ss":return C.s(t.$s,2,"0");case"SSS":return C.s(t.$ms,3,"0");case"Z":return l}return null}(e)||l.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(i,v,h){var f,m=this,x=C.p(v),p=D(i),j=(p.utcOffset()-this.utcOffset())*t,y=this-p,S=function(){return C.m(m,p)};switch(x){case c:f=S()/12;break;case d:f=S();break;case u:f=S()/3;break;case a:f=(y-j)/6048e5;break;case r:f=(y-j)/864e5;break;case s:f=y/n;break;case o:f=y/t;break;case l:f=y/e;break;default:f=y}return h?f:C.a(f)},p.daysInMonth=function(){return this.endOf(d).$D},p.$locale=function(){return S[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=b(e,t,!0);return i&&(n.$L=i),n},p.clone=function(){return C.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},x}(),O=w.prototype;return D.prototype=O,[["$ms",i],["$s",l],["$m",o],["$H",s],["$W",r],["$M",d],["$y",c],["$D",v]].forEach((function(e){O[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),D.extend=function(e,t){return e.$i||(e(t,w,D),e.$i=!0),D},D.locale=b,D.isDayjs=$,D.unix=function(e){return D(1e3*e)},D.en=S[y],D.Ls=S,D.p={},D}()},708:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var i=n(4034),l=n(9942),o=n(2554),s=n(4450),r=n(9488),a=n(3516),d=n(5043),u=n(3216),c=n(9621),v=n(2030),h=n(899),f=n(8908),m=n(579);const x=e=>{var t,n,x,p,j;const{data:y}=e,[S,g]=(0,d.useState)(!1),$=null===Object||void 0===Object?void 0:Object.fromEntries(null===(t=(null===e||void 0===e||null===(n=e.contactData)||void 0===n?void 0:n.fields)||[])||void 0===t?void 0:t.map((e=>[null===e||void 0===e?void 0:e.name,""]))),[b,D]=(0,d.useState)({...$,createBy:null===(x=JSON.parse(localStorage.getItem("user")))||void 0===x?void 0:x._id}),C=(0,u.g)(),w=(0,a.Wx)({initialValues:b,enableReinitialize:!0,validationSchema:null===h||void 0===h||null===(p=h.object())||void 0===p?void 0:p.shape((0,v.g)(null===e||void 0===e||null===(j=e.contactData)||void 0===j?void 0:j.fields)),onSubmit:(e,t)=>{let{resetForm:n}=t;k()}}),{errors:O,touched:M,values:I,handleBlur:_,handleChange:A,handleSubmit:z,setFieldValue:F}=w,k=async()=>{try{g(!0);let t=await(0,c.yP)(`api/form/edit/${(null===e||void 0===e?void 0:e.selectedId)||(null===C||void 0===C?void 0:C.id)}`,{...I,moduleId:null===e||void 0===e?void 0:e.moduleId});200===(null===t||void 0===t?void 0:t.status)&&(null===e||void 0===e||e.onClose(),null===e||void 0===e||e.setAction((e=>!e)))}catch(t){console.log(t)}finally{g(!1)}},T=()=>{e.onClose(!1),e.setSelectedId&&(null===e||void 0===e||e.setSelectedId())};let B;return(0,d.useEffect)((()=>{(async()=>{if(y)D((e=>({...e,...y})));else if(null!==e&&void 0!==e&&e.selectedId||null!==C&&void 0!==C&&C.id)try{g(!0),B=await(0,c.x4)("api/contact/view/",null!==e&&void 0!==e&&e.selectedId?null===e||void 0===e?void 0:e.selectedId:null===C||void 0===C?void 0:C.id),D((e=>{var t,n;return{...e,...null===(t=B)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.contact}}))}catch(t){console.error(t)}finally{g(!1)}})()}),[null===e||void 0===e?void 0:e.selectedId,y]),(0,m.jsx)("div",{children:(0,m.jsxs)(l._s,{isOpen:null===e||void 0===e?void 0:e.isOpen,size:null===e||void 0===e?void 0:e.size,children:[(0,m.jsx)(l.QP,{}),(0,m.jsxs)(l.zj,{children:[(0,m.jsxs)(l.BE,{alignItems:"center",justifyContent:"space-between",display:"flex",children:["Edit ",(null===I||void 0===I?void 0:I.fullName)||"Contact",(0,m.jsx)(o.IconButton,{onClick:T,icon:(0,m.jsx)(i.CloseIcon,{})})]}),(0,m.jsx)(l.ys,{children:S?(0,m.jsx)(s.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,m.jsx)(r.A,{})}):(0,m.jsx)(f.A,{moduleData:null===e||void 0===e?void 0:e.contactData,values:I,setFieldValue:F,handleChange:A,handleBlur:_,errors:O,touched:M})}),(0,m.jsxs)(l.tb,{children:[(0,m.jsx)(o.Button,{sx:{textTransform:"capitalize"},variant:"brand",type:"submit",size:"sm",disabled:!!S,onClick:z,children:S?(0,m.jsx)(r.A,{}):"Update"}),(0,m.jsx)(o.Button,{variant:"outline",colorScheme:"red",size:"sm",sx:{marginLeft:2,textTransform:"capitalize"},onClick:T,children:"Close"})]})]})]})})}},3186:(e,t,n)=>{"use strict";n.d(t,{T:()=>d});var i=n(8510),l=n(9522),o=n(835),s=n(5043);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(this,arguments)}var a=["className","rows"],d=(0,l.Rf)((function(e,t){var n=(0,l.Vl)("Textarea",e),d=(0,l.MN)(e),u=d.className,c=d.rows,v=function(e,t){if(null==e)return{};var n,i,l={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(l[n]=e[n]);return l}(d,a),h=(0,i.useFormControl)(v),f=c?(0,o.cJ)(n,["h","minH","height","minHeight"]):n;return s.createElement(l.Bv.textarea,r({ref:t,rows:c},h,{className:(0,o.cx)("chakra-textarea",u),__css:f}))}));o.gt&&(d.displayName="Textarea")},3848:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(1206),l=n(4450),o=n(3458),s=n(1997),r=n(7149),a=n(579);function d(e){const{count:t,text:n,onFileSelect:d}=e,u=(0,i.dU)("secondaryGray.900","white"),c=(0,i.dU)("brand.500","white");return(0,a.jsxs)(l.Grid,{templateColumns:"repeat(12, 1fr)",gap:2,children:[(0,a.jsx)(l.GridItem,{colSpan:{base:12},children:(0,a.jsx)(s.A,{w:{base:"100%"},me:"36px",minH:200,img:"Property Photos"===n?"img":"",csv:"csv",height:"100%",onFileSelect:d,isMultipleAllow:!1,content:(0,a.jsxs)(l.Box,{children:[(0,a.jsx)(o.In,{as:r.vpy,w:"80px",h:"80px",color:c}),(0,a.jsx)(l.Flex,{justify:"center",mx:"auto",mb:"12px",children:(0,a.jsx)(l.Text,{fontSize:"xl",fontWeight:"700",color:c,children:"Upload File"})}),t>0&&(0,a.jsxs)(l.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:["Selected Files : ",t]})]})})}),(0,a.jsx)(l.GridItem,{colSpan:{base:12},children:(0,a.jsxs)(l.Flex,{direction:"column",children:[(0,a.jsxs)(l.Text,{color:u,fontWeight:"bold",textAlign:"start",fontSize:"2xl",mt:{base:"20px"},children:["Upload ",n]}),(0,a.jsx)(l.Text,{color:"gray.400",fontSize:"md",my:{base:"auto"},mx:"auto",textAlign:"start",children:"Accepted File Type (csv, xlsx file - 15MB max) only 1 file"})]})})]})}},4597:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var i=n(5043),l=n(3216),o=n(9754),s=n(4450),r=n(5376),a=n(4034),d=n(7368),u=n(9621),c=n(265),v=n(708),h=n(6),f=n(9250),m=n(5574),x=n(8031),p=n(9942),j=n(2554),y=n(9488),S=n(3516),g=n(3848),$=n(579);const b=e=>{var t;const{onClose:n,isOpen:o,text:r,customFields:a}=e,[d,u]=(0,i.useState)(!1),c=(0,l.Zp)(),v=(0,S.Wx)({initialValues:{contact:""},onSubmit:(e,t)=>{let{resetForm:n}=t;O(),n()}}),{errors:h,touched:f,values:m,handleBlur:x,handleChange:b,handleSubmit:D,setFieldValue:C,resetForm:w}=v,O=async()=>{try{u(!0),w(),null!==m&&void 0!==m&&m.contact&&(n(),c("/contactImport",{state:{fileData:null===m||void 0===m?void 0:m.contact,customFields:a}}))}catch(e){console.log(e)}finally{u(!1)}};return(0,$.jsxs)(p.aF,{onClose:n,isOpen:o,isCentered:!0,children:[(0,$.jsx)(p.mH,{}),(0,$.jsxs)(p.$m,{children:[(0,$.jsx)(p.rQ,{children:"Import Contacts"}),(0,$.jsx)(p.s_,{}),(0,$.jsx)(p.cw,{children:(0,$.jsx)(s.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:(0,$.jsxs)(s.GridItem,{colSpan:{base:12},children:[(0,$.jsx)(g.A,{count:null===m||void 0===m||null===(t=m.contact)||void 0===t?void 0:t.length,onFileSelect:e=>C("contact",e),text:r}),(0,$.jsxs)(s.Text,{mb:"10px",color:"red",children:[" ",(null===h||void 0===h?void 0:h.contact)&&(null===f||void 0===f?void 0:f.contact)&&(0,$.jsxs)($.Fragment,{children:["Please Select ",r]})]})]})})}),(0,$.jsxs)(p.jl,{children:[(0,$.jsx)(j.Button,{size:"sm",variant:"brand",onClick:D,disabled:!!d,children:d?(0,$.jsx)(y.A,{}):"Save"}),(0,$.jsx)(j.Button,{sx:{marginLeft:2,textTransform:"capitalize"},variant:"outline",colorScheme:"red",size:"sm",onClick:()=>{n(),v.resetForm()},children:"Close"})]})]})]})};var D=n(8177),C=n(6547),w=n(7508),O=n(850),M=n(2145);const I=()=>{var e,t,n,p;const j=(0,l.Zp)(),[y,S,g]=(0,m.h)(["Contacts","Emails","Calls"]),{isOpen:I,onOpen:_,onClose:A}=(0,o.j1)(),z=(0,w.wA)(),[F,k]=(0,i.useState)(!1),[T,B]=(0,i.useState)(!1),[V,H]=(0,i.useState)([]),[W,E]=(0,i.useState)([]),[L,N]=(0,i.useState)(!1),[Y,U]=(0,i.useState)(!1),[G,P]=(0,i.useState)(!1),[J,Z]=(0,i.useState)(),[Q,R]=(0,i.useState)(!1),[q,K]=(0,i.useState)(),[X,ee]=(0,i.useState)([]),[te,ne]=(0,i.useState)(!1),[ie,le]=(0,i.useState)(""),[oe,se]=(0,i.useState)({}),re=(0,w.d4)((e=>{var t;return null===e||void 0===e||null===(t=e.contactData)||void 0===t?void 0:t.data})),ae=async()=>{var e,t,n,i,l,o,u,c,v,h,f,m,x;k(!0);const p=await z((0,O.I)());var b;200===(null===p||void 0===p||null===(e=p.payload)||void 0===e?void 0:e.status)?E(null===p||void 0===p||null===(b=p.payload)||void 0===b?void 0:b.data):M.oR.error("Failed to fetch data","error");const D={Header:"Action",accessor:"action",isSortable:!1,center:!0,cell:e=>{let{row:t}=e;return(0,$.jsx)(s.Text,{fontSize:"md",fontWeight:"900",textAlign:"center",children:(0,$.jsxs)(r.W1,{isLazy:!0,children:[(0,$.jsx)(r.IU,{children:(0,$.jsx)(d.txp,{})}),(0,$.jsxs)(r.cO,{minW:"fit-content",transform:"translate(1520px, 173px);",children:[(null===y||void 0===y?void 0:y.update)&&(0,$.jsx)(r.Dr,{py:2.5,icon:(0,$.jsx)(a.EditIcon,{fontSize:15,mb:1}),onClick:()=>{var e;N(!0),K(null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id)},children:"Edit"}),(null===g||void 0===g?void 0:g.create)&&(0,$.jsx)(r.Dr,{py:2.5,width:"165px",onClick:()=>{var e;se(null===t||void 0===t?void 0:t.original),P(!0),Z(null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id)},icon:(0,$.jsx)(a.PhoneIcon,{fontSize:15,mb:1}),children:"Create Call"}),(null===S||void 0===S?void 0:S.create)&&(0,$.jsx)(r.Dr,{py:2.5,width:"165px",onClick:()=>{var e,n,i,l;i=null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id,l=null===t||void 0===t?void 0:t.original,i&&(le(null===l||void 0===l?void 0:l.email),R(!0)),K(null===t||void 0===t||null===(n=t.values)||void 0===n?void 0:n._id)},icon:(0,$.jsx)(a.EmailIcon,{fontSize:15,mb:1}),children:"Send Email"}),(null===y||void 0===y?void 0:y.view)&&(0,$.jsx)(r.Dr,{py:2.5,color:"green",icon:(0,$.jsx)(a.ViewIcon,{mb:1,fontSize:15}),onClick:()=>{var e;j(`/contactView/${null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id}`)},children:"View"}),(null===y||void 0===y?void 0:y.delete)&&(0,$.jsx)(r.Dr,{py:2.5,color:"red",icon:(0,$.jsx)(a.DeleteIcon,{fontSize:15,mb:1}),onClick:()=>{var e;U(!0),ee([null===t||void 0===t||null===(e=t.values)||void 0===e?void 0:e._id])},children:"Delete"})]})]})})}},C=[{Header:"#",accessor:"_id",isSortable:!1,width:10},...null!==p&&void 0!==p&&null!==(t=p.payload)&&void 0!==t&&t.data&&(null===p||void 0===p||null===(n=p.payload)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.length)>0&&(null===p||void 0===p||null===(l=p.payload)||void 0===l||null===(o=l.data[0])||void 0===o||null===(u=o.fields)||void 0===u||null===(c=u.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField)&&(null===e||void 0===e?void 0:e.isView))))||void 0===c?void 0:c.map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name,cell:e=>(0,$.jsx)("div",{className:"selectOpt",children:(0,$.jsx)(s.Text,{onClick:()=>{var t,n;j(`/contactView/${null===e||void 0===e||null===(t=e.row)||void 0===t||null===(n=t.original)||void 0===n?void 0:n._id}`)},me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"brand.600",fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e?void 0:e.value)||"-"})})}))))||[],...null===(v=(null===p||void 0===p||null===(f=p.payload)||void 0===f||null===(m=f.data)||void 0===m||null===(x=m[0])||void 0===x?void 0:x.fields)||[])||void 0===v||null===(h=v.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField)&&!(null!==e&&void 0!==e&&e.isView))))||void 0===h?void 0:h.map((e=>({Header:null===e||void 0===e?void 0:e.label,accessor:null===e||void 0===e?void 0:e.name}))),...null!==y&&void 0!==y&&y.update||null!==y&&void 0!==y&&y.view||null!==y&&void 0!==y&&y.delete?[D]:[]];H(C),k(!1)};return(0,i.useEffect)((async()=>{await z((0,C.h)()),ae()}),[T]),(0,$.jsxs)("div",{children:[(0,$.jsx)(s.Grid,{templateColumns:"repeat(6, 1fr)",mb:3,gap:4,children:!F&&(0,$.jsx)(s.GridItem,{colSpan:6,children:(0,$.jsx)(x.A,{title:"Contacts",isLoding:F,columnData:null!==V&&void 0!==V?V:[],allData:null!==re&&void 0!==re?re:[],tableData:re,tableCustomFields:(null===W||void 0===W||null===(e=W[0])||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.filter((e=>!0===(null===e||void 0===e?void 0:e.isTableField))))||[],access:y,onOpen:_,selectedValues:X,setSelectedValues:ee,setDelete:U,setIsImport:ne})})}),I&&(0,$.jsx)(c.A,{isOpen:I,size:"lg",contactData:W[0],onClose:A,setAction:B,action:T}),L&&(0,$.jsx)(v.A,{isOpen:L,size:"lg",contactData:W[0],selectedId:q,setSelectedId:K,onClose:N,setAction:B,moduleId:null===W||void 0===W||null===(n=W[0])||void 0===n?void 0:n._id}),Y&&(0,$.jsx)(D.A,{isOpen:Y,onClose:()=>U(!1),type:"Contacts",handleDeleteData:async e=>{try{k(!0);let t=await(0,u.Vn)("api/contact/deleteMany",e);200===(null===t||void 0===t?void 0:t.status)&&(ee([]),U(!1),B((e=>!e)))}catch(t){console.log(t)}finally{k(!1)}},ids:X}),Q&&(0,$.jsx)(h.A,{fetchData:C.h,isOpen:Q,onClose:R,id:q,contactEmail:ie}),G&&(0,$.jsx)(f.A,{fetchData:C.h,isOpen:G,onClose:P,id:J,cData:oe}),te&&(0,$.jsx)(b,{text:"Contact file",isOpen:te,onClose:ne,customFields:(null===W||void 0===W||null===(p=W[0])||void 0===p?void 0:p.fields)||[]})]})}}}]);
//# sourceMappingURL=153.0aef6721.chunk.js.map